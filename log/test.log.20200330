# Logfile created on 2020-03-14 12:04:52 +0000 by logger.rb/v1.4.2
D, [2020-03-14T12:04:55.264825 #1720] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "assignments"[0m
D, [2020-03-14T12:04:55.265403 #1720] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
D, [2020-03-14T12:04:55.281243 #1720] DEBUG -- :   [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "assignments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "store_id" integer NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date)[0m
D, [2020-03-14T12:04:55.287154 #1720] DEBUG -- :   [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX "index_assignments_on_employee_id" ON "assignments" ("employee_id")[0m
D, [2020-03-14T12:04:55.293419 #1720] DEBUG -- :   [1m[35m (3.8ms)[0m  [1m[35mCREATE  INDEX "index_assignments_on_store_id" ON "assignments" ("store_id")[0m
D, [2020-03-14T12:04:55.294324 #1720] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "employees"[0m
D, [2020-03-14T12:04:55.298807 #1720] DEBUG -- :   [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "ssn" varchar, "date_of_birth" date, "phone" varchar, "role" varchar, "active" boolean)[0m
D, [2020-03-14T12:04:55.308854 #1720] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "stores"[0m
D, [2020-03-14T12:04:55.313289 #1720] DEBUG -- :   [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "stores" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "street" varchar, "city" varchar, "state" varchar, "zip" varchar, "phone" varchar, "active" boolean)[0m
D, [2020-03-14T12:04:55.318042 #1720] DEBUG -- :   [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
D, [2020-03-14T12:04:55.332671 #1720] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-14T12:04:55.336141 #1720] DEBUG -- :   [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191101143940)[0m
D, [2020-03-14T12:04:55.339428 #1720] DEBUG -- :   [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191101135643),
(20191101140046);

[0m
D, [2020-03-14T12:04:55.345989 #1720] DEBUG -- :   [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
D, [2020-03-14T12:04:55.350245 #1720] DEBUG -- :   [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
D, [2020-03-14T12:04:55.355202 #1720] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
D, [2020-03-14T12:04:55.356719 #1720] DEBUG -- :   [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-03-14 12:04:55.355874"], ["updated_at", "2020-03-14 12:04:55.355874"]]
D, [2020-03-14T12:04:55.360406 #1720] DEBUG -- :   [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
D, [2020-03-14T12:04:55.361974 #1720] DEBUG -- :   [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
D, [2020-03-14T12:04:55.364132 #1720] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-03-14T12:04:55.364902 #1720] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-03-14T12:04:55.406175 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-14T12:04:56.336302 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.336726 #1684]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:04:56.336771 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-03-14T12:04:56.336794 #1684]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:04:56.357590 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.358688 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.359447 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.359692 #1684]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.359730 #1684]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-03-14T12:04:56.359753 #1684]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.360926 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.362191 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278261467"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.363589 #1684] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278261467"], ["date_of_birth", "2001-03-14"], ["phone", "7154297506"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.364496 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.365465 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.366484 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.367446 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8595928727"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.368333 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.369248 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.370230 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "184467892"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.371207 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "184467892"], ["date_of_birth", "2004-03-14"], ["phone", "1359755666"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.372143 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.373054 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.374028 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310864528"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.374992 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "310864528"], ["date_of_birth", "1994-03-14"], ["phone", "5578750867"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.375902 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.376813 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.377794 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.378739 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.379638 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.380584 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.381532 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.382525 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3890718459"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.383455 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.384373 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.385309 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125704125"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.386241 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "125704125"], ["date_of_birth", "2001-03-14"], ["phone", "7984115713"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.387112 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.387994 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:04:56.388693 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:04:56.390269 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.390984 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.391636 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.392027 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.392578 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.393057 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.393438 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.394016 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.394518 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.394901 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.395401 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.395917 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.396295 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.396838 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.397311 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.397757 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.398266 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.398804 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.399175 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.399708 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.400185 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.400807 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.401464 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.401727 #1684]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:04:56.401780 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-03-14T12:04:56.401817 #1684]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:04:56.405222 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.406141 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.406697 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.406977 #1684]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:04:56.407017 #1684]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:04:56.407039 #1684]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:04:56.407703 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.408759 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087117776"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.409933 #1684] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "087117776"], ["date_of_birth", "2001-03-14"], ["phone", "5329694245"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.410901 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.411880 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.412893 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.413894 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0989375690"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.414818 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.415720 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.416708 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "185032323"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.417723 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "185032323"], ["date_of_birth", "2004-03-14"], ["phone", "7636051194"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.418706 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.419614 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.420553 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "065365340"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.421491 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "065365340"], ["date_of_birth", "1994-03-14"], ["phone", "0216592368"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.422434 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.423334 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.424286 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.425268 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.426221 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.427100 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.428052 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.428961 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1185272225"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.429882 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.430752 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.431645 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379973483"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.432602 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "379973483"], ["date_of_birth", "2001-03-14"], ["phone", "4568439220"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.433507 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.434012 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.435071 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "185032323"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.436184 #1684] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 0], ["id", 3]]
D, [2020-03-14T12:04:56.436766 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.437581 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.438370 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.438933 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.439462 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.439858 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.440429 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.440906 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.441327 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.441873 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.442425 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.442802 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.443361 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.443889 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.444336 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.444839 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.445391 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.445795 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.446333 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.446813 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.447209 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.447742 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.448242 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.448866 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.449515 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.449773 #1684]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.449812 #1684]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-03-14T12:04:56.449832 #1684]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.450570 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.451761 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331296215"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.452900 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331296215"], ["date_of_birth", "2001-03-14"], ["phone", "2098726609"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.453902 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.454876 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.455840 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.456855 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1501855675"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.457865 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.458753 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.459690 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "119031019"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.460631 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "119031019"], ["date_of_birth", "2004-03-14"], ["phone", "9125700463"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.461555 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.462492 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.463496 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078031070"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.464451 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "078031070"], ["date_of_birth", "1994-03-14"], ["phone", "4419370063"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.465385 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.466325 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.467278 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.468244 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.469190 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.470191 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.471165 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.472306 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1630712843"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.473205 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.474152 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.475146 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021105948"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.476030 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "021105948"], ["date_of_birth", "2001-03-14"], ["phone", "2348189596"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.476913 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.477756 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.478513 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.479438 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.480107 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.480743 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.481305 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.481755 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.482258 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.482779 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.483150 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.483739 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.484240 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.484680 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.485202 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.485771 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.486189 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.486760 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.487251 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.487704 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.488222 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.488775 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.489160 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.489729 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.490191 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.490808 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.491411 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.491677 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.491723 #1684]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-03-14T12:04:56.491746 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.492423 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.493574 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232411881"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.494773 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "232411881"], ["date_of_birth", "2001-03-14"], ["phone", "4957053892"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.495685 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.496588 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.497560 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.498525 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3293420914"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.499539 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.500467 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.506021 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232367334"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.507142 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "232367334"], ["date_of_birth", "2004-03-14"], ["phone", "1120509124"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.508062 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.509102 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.510092 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179205134"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.511039 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "179205134"], ["date_of_birth", "1994-03-14"], ["phone", "1456398282"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.511935 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.512818 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.513787 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.514728 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.515613 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.516519 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.517448 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.518368 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6337372945"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.519326 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.520229 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.521206 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "260769065"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.522255 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "260769065"], ["date_of_birth", "2001-03-14"], ["phone", "0651889608"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.523162 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.535280 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.536770 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.537929 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4048162733"], ["active", 1]]
D, [2020-03-14T12:04:56.538861 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.539668 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.540540 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.541447 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:56.542334 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.543013 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.543830 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.544719 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6449017923"], ["active", 0]]
D, [2020-03-14T12:04:56.545591 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.563600 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.565092 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.566286 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.567560 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.577061 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.578212 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:56.579000 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.580128 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.581152 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.582205 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.583078 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.584328 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.585170 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:56.585911 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.586911 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.587861 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.588787 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.589553 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.590783 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.591575 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:56.592269 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.593359 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.594356 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.595257 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.596060 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.597290 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.598180 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:56.598959 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.599888 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.600803 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.601732 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.602617 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.603761 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.604609 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:56.605266 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.606299 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.607157 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.608085 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.608918 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.610106 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.610953 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:56.611706 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.612623 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.613494 #1684] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.614953 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 7], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.615526 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.616140 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.616720 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.617135 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.617737 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.618227 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.618652 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.619172 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.619696 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.620083 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.620628 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.621126 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.621506 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.622088 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.622596 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.623036 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.623526 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.624049 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.624474 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.625050 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.625537 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.626003 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.626542 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.627078 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.627501 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.628055 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.628553 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.628996 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.629509 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.630042 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.630445 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.630956 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.631444 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.631884 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.632434 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.632926 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.633391 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.633948 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.634493 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.634926 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.635473 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.635968 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.636424 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.636937 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.637497 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.637889 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.638487 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.638971 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.639666 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.640349 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.640587 #1684]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:04:56.640672 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:04:56.640697 #1684]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:04:56.644089 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.645057 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.645723 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.645968 #1684]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.646007 #1684]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-03-14T12:04:56.646028 #1684]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.649600 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.650538 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.651174 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.651413 #1684]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:04:56.651449 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-03-14T12:04:56.651482 #1684]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:04:56.654278 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.655194 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.655807 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.656057 #1684]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.656093 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:04:56.656113 #1684]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.659108 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.659967 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.660512 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.660741 #1684]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.660783 #1684]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-03-14T12:04:56.660804 #1684]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.661498 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.662656 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100491400"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.663830 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "100491400"], ["date_of_birth", "2001-03-14"], ["phone", "4232240228"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.664783 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.665780 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.666845 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.667818 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0116016156"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.668778 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.669761 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.670753 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "220803712"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.671728 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "220803712"], ["date_of_birth", "2004-03-14"], ["phone", "3411585820"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.672706 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.673700 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.674807 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252695717"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.675806 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "252695717"], ["date_of_birth", "1994-03-14"], ["phone", "3549874615"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.676865 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.677852 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.678829 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.679802 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.680732 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.681704 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.682705 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.683638 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4243324624"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.684540 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.685444 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.686448 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221051069"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.687453 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "221051069"], ["date_of_birth", "2001-03-14"], ["phone", "7785545230"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.688363 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.688802 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.689382 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.689968 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.690369 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.690946 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.691464 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.691877 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.692422 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.692928 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.693320 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.693856 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.694386 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.694797 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.695374 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.695854 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.696294 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.696827 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.697386 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.697791 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.698323 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.698796 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.699395 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.700003 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.700315 #1684]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:04:56.700362 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-03-14T12:04:56.700386 #1684]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:04:56.703328 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.704324 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.704918 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.705147 #1684]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:04:56.705184 #1684]  INFO -- : EmployeeTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:04:56.705205 #1684]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:04:56.705939 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.707054 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "115889555"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.708242 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "115889555"], ["date_of_birth", "2001-03-14"], ["phone", "7533541658"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.709219 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.710210 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.711231 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.712226 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1574644926"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.713189 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.714170 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.715141 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082849890"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.716077 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "082849890"], ["date_of_birth", "2004-03-14"], ["phone", "4787021067"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.716970 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.717966 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.718939 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357295649"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.719911 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "357295649"], ["date_of_birth", "1994-03-14"], ["phone", "4457564682"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.720848 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.721770 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.722691 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.723601 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.724457 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.725327 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.726254 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.727167 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8637536901"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.728161 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.733259 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.734451 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169574894"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.735417 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "169574894"], ["date_of_birth", "2001-03-14"], ["phone", "4789682182"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.736306 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.736763 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.737404 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.737922 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.738304 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.738823 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.739275 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.739659 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.740162 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.740662 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.741039 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.741533 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.742052 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.742423 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.742925 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.743397 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.743785 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.744274 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.744747 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.745153 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.745689 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.746177 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.746771 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.747405 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.747630 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.747665 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Wed, 14 Mar 2007 08:04:56 EDT -04:00â€º. 
I, [2020-03-14T12:04:56.747687 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.751037 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.751953 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.752575 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.752803 #1684]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:04:56.752839 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-03-14T12:04:56.752860 #1684]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:04:56.755502 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.756315 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.756886 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.757117 #1684]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.757153 #1684]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-03-14T12:04:56.757174 #1684]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.757863 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.758971 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "244289746"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.760079 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "244289746"], ["date_of_birth", "2001-03-14"], ["phone", "5716264483"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.761037 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.762049 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.763077 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.764037 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2757752387"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.764992 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.766007 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.766949 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "244118376"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.767844 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "244118376"], ["date_of_birth", "2004-03-14"], ["phone", "5207516073"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.768753 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.769636 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.770608 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167145931"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.771572 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "167145931"], ["date_of_birth", "1994-03-14"], ["phone", "7278850207"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.772456 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.773332 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.774290 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.775247 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.776229 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.777228 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.778331 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.779358 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0203398768"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.780371 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.781319 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.782315 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "156898559"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.783267 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "156898559"], ["date_of_birth", "2001-03-14"], ["phone", "4337562251"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.784216 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.784886 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.785450 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.786025 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.786408 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.786931 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.787481 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.787884 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.788411 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.788923 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.789356 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.789953 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.790463 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.790851 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.791380 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.791840 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.792235 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.792743 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.793232 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.793621 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.794166 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.794650 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.795227 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.795827 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.796078 #1684]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.796114 #1684]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-03-14T12:04:56.796135 #1684]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.796831 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.797987 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062671830"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.799086 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "062671830"], ["date_of_birth", "2001-03-14"], ["phone", "8132378344"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.799985 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.800962 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.802084 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.803033 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4354136026"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.803950 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.804829 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.805859 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "373813488"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.806797 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "373813488"], ["date_of_birth", "2004-03-14"], ["phone", "7033089941"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.807688 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.808611 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.809555 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264722912"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.810496 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "264722912"], ["date_of_birth", "1994-03-14"], ["phone", "9851406653"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.811389 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.812325 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.813312 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.814288 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.815189 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.816177 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.817162 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.818120 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3119005941"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.819033 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.819942 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.820946 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001619935"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.821900 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "001619935"], ["date_of_birth", "2001-03-14"], ["phone", "1461029202"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.822789 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.823638 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '2002-03-14')[0m
D, [2020-03-14T12:04:56.824510 #1684] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '2002-03-14') ORDER BY last_name, first_name[0m
D, [2020-03-14T12:04:56.825109 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.825679 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.826184 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.826588 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.827092 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.827573 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.827953 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.828479 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.828978 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.829338 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.829961 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.830458 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.830840 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.831320 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.831840 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.832241 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.832776 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.833251 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.833707 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.834210 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.834701 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.835269 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.835881 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.836108 #1684]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.836150 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:04:56.836185 #1684]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.839366 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.840257 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.840848 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.841075 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.841111 #1684]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-03-14T12:04:56.841135 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.841844 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.842910 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "187531103"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.844040 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "187531103"], ["date_of_birth", "2001-03-14"], ["phone", "5296082189"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.844959 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.845954 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.846926 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.847871 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0055868182"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.848767 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.849708 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.850691 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232476883"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.851617 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "232476883"], ["date_of_birth", "2004-03-14"], ["phone", "1053332410"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.852547 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.853482 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.854457 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303012040"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.855404 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "303012040"], ["date_of_birth", "1994-03-14"], ["phone", "8523327650"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.856301 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.857224 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.858186 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.859109 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.859984 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.860906 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.861834 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.862772 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0354512716"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.863682 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.864546 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.865475 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "146509914"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.866416 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "146509914"], ["date_of_birth", "2001-03-14"], ["phone", "6674352857"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.867435 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.868165 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:04:56.868798 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:04:56.869361 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.869952 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.870469 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.870867 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.871379 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.871888 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.872264 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.872796 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.873290 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.873684 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.874246 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.874733 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.875113 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.875647 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.876125 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.876522 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.877027 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.877515 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.877918 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.878460 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.878917 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.879481 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.880071 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.880321 #1684]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.880367 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:04:56.880390 #1684]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.883594 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.884507 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.885087 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.885310 #1684]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:04:56.885355 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-03-14T12:04:56.885380 #1684]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:04:56.888070 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.889025 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.889599 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.889875 #1684]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.889914 #1684]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-03-14T12:04:56.889935 #1684]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.893264 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.894188 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.894781 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.895005 #1684]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.895040 #1684]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-03-14T12:04:56.895095 #1684]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.895749 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.896848 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223019267"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.898007 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "223019267"], ["date_of_birth", "2001-03-14"], ["phone", "3948044457"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.898960 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.899927 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.900939 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.901946 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6695766712"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.902864 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.903774 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.904730 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "044953423"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.905688 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "044953423"], ["date_of_birth", "2004-03-14"], ["phone", "7161106529"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.906622 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.907550 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.908479 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252080088"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.909380 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "252080088"], ["date_of_birth", "1994-03-14"], ["phone", "6752835932"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.910300 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.911210 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.912124 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.913060 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.914029 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.914953 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.915902 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.916853 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5622947578"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.917871 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.918817 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.919791 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "237347183"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.920716 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "237347183"], ["date_of_birth", "2001-03-14"], ["phone", "0997030832"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.921666 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.922356 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:04:56.922978 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:04:56.923498 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.924031 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:56.924566 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.924969 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.925481 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:56.925987 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.926402 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.926879 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:56.927394 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.927753 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.928253 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:56.928820 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.929216 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.929795 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:56.930342 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.933707 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.934263 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:56.934781 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.935156 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.935714 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:56.936178 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.936771 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.937381 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.937669 #1684]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:04:56.937708 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-03-14T12:04:56.937728 #1684]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:04:56.940896 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.941778 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.942342 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.942572 #1684]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:04:56.942608 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-03-14T12:04:56.942630 #1684]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:04:56.945238 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.946087 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.946668 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.946890 #1684]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.946925 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Tue, 14 Mar 2006â€º. 
I, [2020-03-14T12:04:56.946946 #1684]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.949783 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.950602 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.951176 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.951438 #1684]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:04:56.951481 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-03-14T12:04:56.951504 #1684]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:04:56.954087 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.954646 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.955177 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.955433 #1684]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:04:56.955469 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:04:56.955490 #1684]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:04:56.958312 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.959159 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.959820 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.960069 #1684]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.960106 #1684]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-03-14T12:04:56.960127 #1684]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.963648 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.964533 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.965113 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.965337 #1684]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:04:56.965383 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:04:56.965405 #1684]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:04:56.968236 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:56.969032 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.969577 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.969836 #1684]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:04:56.969889 #1684]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-03-14T12:04:56.969913 #1684]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:04:56.970855 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:56.971363 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:56.971617 #1684]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:04:56.971654 #1684]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-03-14T12:04:56.971674 #1684]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:04:56.972332 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.973410 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052956393"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.974560 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "052956393"], ["date_of_birth", "2001-03-14"], ["phone", "4536252114"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.975491 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.976384 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.977321 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.978260 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0588623217"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.979128 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.979968 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.980894 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "383267850"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.981810 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "383267850"], ["date_of_birth", "2004-03-14"], ["phone", "9043686360"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:56.982702 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.983613 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.984531 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "067548616"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.985469 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "067548616"], ["date_of_birth", "1994-03-14"], ["phone", "5010051960"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:56.986384 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.987333 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.988258 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.989179 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.990100 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.991090 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.992080 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.993039 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6364130156"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:56.994032 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.994956 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.995904 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "047106684"], ["LIMIT", 1]]
D, [2020-03-14T12:04:56.996914 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "047106684"], ["date_of_birth", "2001-03-14"], ["phone", "4418111605"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:56.997849 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:56.998700 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:04:56.999435 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.000207 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.000775 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.001375 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.001893 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.002286 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.002798 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.003294 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.003713 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.004215 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.004743 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.005116 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.005684 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.006200 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.006575 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.007087 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.007558 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.007937 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.008462 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.008978 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.009377 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.009917 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.010414 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.011009 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.011593 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.011819 #1684]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.011855 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Mon, 14 Mar 2005â€º. 
I, [2020-03-14T12:04:57.011876 #1684]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.014849 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.015773 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.016307 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.016573 #1684]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:04:57.016611 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-03-14T12:04:57.016632 #1684]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:04:57.019231 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.020046 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.020597 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.020820 #1684]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:04:57.020856 #1684]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:04:57.020875 #1684]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:04:57.021541 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.022560 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241219735"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.023665 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241219735"], ["date_of_birth", "2001-03-14"], ["phone", "3903148047"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.024562 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.025513 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.026517 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.027483 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6309996913"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.028341 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.029237 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.030219 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "372750074"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.031141 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "372750074"], ["date_of_birth", "2004-03-14"], ["phone", "8782929461"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.032002 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.032930 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.033874 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204527780"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.034837 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "204527780"], ["date_of_birth", "1994-03-14"], ["phone", "9695584864"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.035733 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.036652 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.037618 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.038568 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.039534 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.040488 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.041435 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.042378 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9474805965"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.043266 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.044149 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.045121 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201754031"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.046061 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "201754031"], ["date_of_birth", "2001-03-14"], ["phone", "4720878561"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.046917 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.047330 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.048360 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "204527780"], ["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.049334 #1684] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 1], ["id", 4]]
D, [2020-03-14T12:04:57.049974 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.050640 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.051308 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.051869 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.052396 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.052826 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.053361 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.053891 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.054292 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.054812 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.055313 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.055688 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.056180 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.056679 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.057068 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.057599 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.058107 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.058533 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.059063 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.059587 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.059953 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.060523 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.060987 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.061570 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.062209 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.062449 #1684]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:04:57.062486 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:04:57.062507 #1684]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:04:57.065406 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.066290 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.066851 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.067071 #1684]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:04:57.067106 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-03-14T12:04:57.067127 #1684]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:04:57.069668 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.070484 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.071029 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.071248 #1684]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.071283 #1684]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-03-14T12:04:57.071303 #1684]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.071948 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.072955 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289737001"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.074081 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289737001"], ["date_of_birth", "2001-03-14"], ["phone", "7923017627"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.075054 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.075981 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.076934 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.077885 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6777884854"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.078808 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.079728 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.080662 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198980672"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.081635 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "198980672"], ["date_of_birth", "2004-03-14"], ["phone", "9391695468"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.082598 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.083482 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.084429 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224237792"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.085363 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "224237792"], ["date_of_birth", "1994-03-14"], ["phone", "2374256014"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.086292 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.087206 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.088121 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.089037 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.090011 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.090895 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.091814 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.092762 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9556421472"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.093703 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.094552 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.095512 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378263118"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.096470 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "378263118"], ["date_of_birth", "2001-03-14"], ["phone", "9228765925"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.097405 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.098248 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:04:57.098959 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:04:57.099489 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.100092 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.100608 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.101014 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.101542 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.102065 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.102451 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.103001 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.103508 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.103887 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.104389 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.104889 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.105277 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.105890 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.106377 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.106782 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.107304 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.107815 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.108219 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.108728 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.109207 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.109834 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.110450 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.110688 #1684]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:04:57.110725 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-03-14T12:04:57.110749 #1684]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:04:57.113570 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.114174 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.114697 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.114939 #1684]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.114975 #1684]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-03-14T12:04:57.114996 #1684]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.118275 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.119122 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.119660 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.119887 #1684]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:04:57.119930 #1684]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-03-14T12:04:57.119959 #1684]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:04:57.120621 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.121693 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182563057"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.122824 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182563057"], ["date_of_birth", "2001-03-14"], ["phone", "6989925438"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.123773 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.124676 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.125625 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.126631 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3669778551"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.127528 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.128374 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.129325 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246362092"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.130279 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "246362092"], ["date_of_birth", "2004-03-14"], ["phone", "3230383117"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.131230 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.132116 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.133053 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370034482"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.133992 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "370034482"], ["date_of_birth", "1994-03-14"], ["phone", "1712285218"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.135062 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.138882 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.140007 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.140978 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.141961 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.143986 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.145105 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.146089 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8488951722"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.146990 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.147886 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.148822 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231882545"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.149784 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "231882545"], ["date_of_birth", "2001-03-14"], ["phone", "5639146116"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.150691 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.151396 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:04:57.152002 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.152551 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.153045 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.153455 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.153998 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.154512 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.154902 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.155411 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.155887 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.156271 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.156800 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.157275 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.157751 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.158269 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.158791 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.159201 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.159778 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.160265 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.160649 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.161158 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.161704 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.162311 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.162906 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.163171 #1684]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.163222 #1684]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-03-14T12:04:57.163246 #1684]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.163940 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.165054 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088050608"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.166180 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088050608"], ["date_of_birth", "2001-03-14"], ["phone", "0700536555"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.167123 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.168081 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.169081 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.170114 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2673497690"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.170993 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.171871 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.172795 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049471481"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.173740 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "049471481"], ["date_of_birth", "2004-03-14"], ["phone", "7064221330"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.174620 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.175526 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.176453 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335285702"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.177362 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "335285702"], ["date_of_birth", "1994-03-14"], ["phone", "4417766992"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.178264 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.179169 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.180173 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.181092 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.181997 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.182955 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.183942 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.184866 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1056300225"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.185776 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.186665 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.187668 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164532387"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.188630 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "164532387"], ["date_of_birth", "2001-03-14"], ["phone", "5953794678"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.189519 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.189958 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.190549 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.191053 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.191459 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.191986 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.192501 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.192875 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.193408 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.193888 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.194292 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.194818 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.195309 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.195717 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.196203 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.196723 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.197088 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.197604 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.198160 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.198536 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.199109 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.199604 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.200167 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.200790 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.201054 #1684]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.201092 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:04:57.201112 #1684]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.204373 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.205232 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.205836 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.206099 #1684]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:04:57.206135 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-03-14T12:04:57.206157 #1684]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:04:57.208635 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.209544 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.210143 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.210408 #1684]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.210446 #1684]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-03-14T12:04:57.210469 #1684]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.211144 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.212209 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "366386610"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.213408 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "366386610"], ["date_of_birth", "2001-03-14"], ["phone", "8927946963"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.214385 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.215318 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.216289 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.217228 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4880489411"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.218180 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.219065 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.219977 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204379992"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.220933 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "204379992"], ["date_of_birth", "2004-03-14"], ["phone", "1261955608"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.221975 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.222889 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.223816 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007347365"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.224745 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "007347365"], ["date_of_birth", "1994-03-14"], ["phone", "5804491220"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.225685 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.226578 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.227487 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.228414 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.229294 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.230475 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.231449 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.232409 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2340522803"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.233341 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.234234 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.235124 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "286096998"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.236061 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "286096998"], ["date_of_birth", "2001-03-14"], ["phone", "0852960622"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.237022 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.237445 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.238035 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.238545 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.238919 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.239441 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.239929 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.240335 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.240834 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.241317 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.241744 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.242256 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.242754 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.243124 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.243649 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.244150 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.244524 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.245038 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.245541 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.245927 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.246446 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.246939 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.247555 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.248139 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.248399 #1684]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.248436 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Fri, 14 Mar 2003â€º. 
I, [2020-03-14T12:04:57.248457 #1684]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.251584 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.252486 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.253062 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.253334 #1684]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:04:57.253381 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:04:57.253403 #1684]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:04:57.256134 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.256997 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.257546 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.257792 #1684]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:04:57.257830 #1684]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-03-14T12:04:57.257851 #1684]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:04:57.258169 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.258693 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.258936 #1684]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.258971 #1684]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-03-14T12:04:57.258993 #1684]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.259632 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.260738 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204999603"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.261868 #1684] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204999603"], ["date_of_birth", "2001-03-14"], ["phone", "7013095921"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.262829 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.263745 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.264705 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.265625 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9391139282"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.266521 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.267372 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.268266 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168151557"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.269185 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "168151557"], ["date_of_birth", "2004-03-14"], ["phone", "0685702328"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.270108 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.270996 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.271945 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "355988269"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.272874 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "355988269"], ["date_of_birth", "1994-03-14"], ["phone", "0766040158"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.273766 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.274680 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.275655 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.276674 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.277541 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.278475 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.279438 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.280382 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5058978144"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.281284 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.282268 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.283237 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "215880616"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.284175 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "215880616"], ["date_of_birth", "2001-03-14"], ["phone", "2012972395"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.285039 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.286502 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084359822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.287575 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.288143 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.288679 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.289074 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.289584 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.290077 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.290502 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.291020 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.291514 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.291924 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.292458 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.292960 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.293374 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.293893 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.294378 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.294766 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.295299 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.295804 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.296202 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.296728 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.297240 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.297866 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.298528 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.298796 #1684]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:04:57.298832 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:04:57.298854 #1684]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:04:57.302022 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.302921 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.303483 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.303725 #1684]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.303762 #1684]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-03-14T12:04:57.303782 #1684]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.304470 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.305509 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062424678"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.306738 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "062424678"], ["date_of_birth", "2001-03-14"], ["phone", "7076355362"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.307713 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.308653 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.309577 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.310530 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0214500156"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.311460 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.312335 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.313244 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "064684662"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.314196 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "064684662"], ["date_of_birth", "2004-03-14"], ["phone", "5722357492"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.315129 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.316105 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.317026 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "137862119"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.317923 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "137862119"], ["date_of_birth", "1994-03-14"], ["phone", "6109294598"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.318883 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.319824 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.320749 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.321691 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.322665 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.323568 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.324480 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.325404 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4393807656"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.326327 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.327180 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.328256 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "348006411"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.329272 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "348006411"], ["date_of_birth", "2001-03-14"], ["phone", "7071037993"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.332684 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.333208 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.333867 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.334362 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.334746 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.335250 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.335764 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.336160 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.336719 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.337208 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.337636 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.338187 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.338714 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.339087 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.339592 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.340062 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.340475 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.340991 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.341500 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.341918 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.342453 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.342917 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.343508 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.344107 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.344361 #1684]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:04:57.344398 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-03-14T12:04:57.344426 #1684]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:04:57.347281 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.347869 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.348422 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.348643 #1684]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:04:57.348680 #1684]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:04:57.348706 #1684]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:04:57.351468 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.352293 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.352882 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.353139 #1684]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:04:57.353175 #1684]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-03-14T12:04:57.353196 #1684]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:04:57.356251 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.357130 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.357747 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.357976 #1684]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:04:57.358012 #1684]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-03-14T12:04:57.358033 #1684]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:04:57.358700 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.359786 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "003803206"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.360967 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "003803206"], ["date_of_birth", "2001-03-14"], ["phone", "8138877373"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.361932 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.362835 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.363802 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.364752 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1038048344"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.365710 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.366536 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.367494 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252758111"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.368430 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "252758111"], ["date_of_birth", "2004-03-14"], ["phone", "7157353712"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.369317 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.370202 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.371115 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "071654237"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.372056 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "071654237"], ["date_of_birth", "1994-03-14"], ["phone", "3584347309"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.372952 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.373865 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.374840 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.375787 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.376753 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.377615 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.378579 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.379538 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7380454561"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.380506 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.381324 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.382276 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253972766"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.383219 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "253972766"], ["date_of_birth", "2001-03-14"], ["phone", "0831310171"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.384194 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.384654 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.385185 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.385746 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.386160 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.386665 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.387187 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.387607 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.388124 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.388662 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.389089 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.389604 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.390119 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.390532 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.391055 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.391567 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.391974 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.392535 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.393012 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.393429 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.393995 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.394496 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.395112 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.396163 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.396440 #1684]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:04:57.396486 #1684]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:04:57.396509 #1684]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:04:57.399761 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.400353 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.400902 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.401123 #1684]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:04:57.401159 #1684]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"PA"â€º. 
I, [2020-03-14T12:04:57.401179 #1684]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:04:57.403481 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.403995 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.404509 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.404747 #1684]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:04:57.404782 #1684]  INFO -- : StoreTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:04:57.404802 #1684]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:04:57.405277 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.406172 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.407302 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5343694336"], ["active", 1]]
D, [2020-03-14T12:04:57.408256 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.409002 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.409802 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.410743 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.411665 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.412407 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.413154 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.414066 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0707687505"], ["active", 0]]
D, [2020-03-14T12:04:57.414992 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.415477 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.416387 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "CMU"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.417340 #1684] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 0], ["id", 1]]
D, [2020-03-14T12:04:57.418037 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.418820 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.419547 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.420102 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.420602 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.421013 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.421523 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.422016 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.422426 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.422976 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.423455 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.424054 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.424686 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.424912 #1684]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:04:57.424948 #1684]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:04:57.424969 #1684]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:04:57.427412 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.427937 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.428455 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.428671 #1684]  INFO -- : ------------------------------------------------------
I, [2020-03-14T12:04:57.428707 #1684]  INFO -- : StoreTest: test_: Store should have many assignments. 
I, [2020-03-14T12:04:57.428728 #1684]  INFO -- : ------------------------------------------------------
D, [2020-03-14T12:04:57.429688 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.430205 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.430464 #1684]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:04:57.430506 #1684]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:04:57.430527 #1684]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:04:57.433024 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.433582 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.434141 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.434369 #1684]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:04:57.434406 #1684]  INFO -- : StoreTest: test_: Given context should have all active stores accounted for. 
I, [2020-03-14T12:04:57.434432 #1684]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:04:57.434925 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.435858 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.436954 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3612774410"], ["active", 1]]
D, [2020-03-14T12:04:57.437870 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.438564 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.439423 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.440333 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.441259 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.441996 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.442855 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.443736 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7852876887"], ["active", 0]]
D, [2020-03-14T12:04:57.444717 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.445495 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.446210 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.447025 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.447614 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.448178 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.448696 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.449099 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.449637 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.450158 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.450531 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.451035 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.451538 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.452119 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.452713 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.452939 #1684]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:04:57.452974 #1684]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"NY"â€º. 
I, [2020-03-14T12:04:57.452994 #1684]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:04:57.455618 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.456191 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.456709 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.456969 #1684]  INFO -- : ---------------------------------------------------------------
I, [2020-03-14T12:04:57.457005 #1684]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"bad"â€º. 
I, [2020-03-14T12:04:57.457025 #1684]  INFO -- : ---------------------------------------------------------------
D, [2020-03-14T12:04:57.459511 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.460069 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.460598 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.460833 #1684]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.460869 #1684]  INFO -- : StoreTest: test_: Store should validate that :name is case-insensitively unique. 
I, [2020-03-14T12:04:57.460890 #1684]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.461466 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.462050 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.462855 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("phone") VALUES (?)[0m  [["phone", ""]]
D, [2020-03-14T12:04:57.463435 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.463936 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.464633 #1684] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ? WHERE "stores"."id" = ?[0m  [["name", "an arbitrary value"], ["id", 1]]
D, [2020-03-14T12:04:57.465167 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.467994 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.471057 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "AN ARBITRARY VALUE"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.472189 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.472829 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.473094 #1684]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:04:57.473130 #1684]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:04:57.473151 #1684]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:04:57.475631 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.476176 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.476710 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.476957 #1684]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.476994 #1684]  INFO -- : StoreTest: test_: Given context should have all inactive stores accounted for. 
I, [2020-03-14T12:04:57.477014 #1684]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.477489 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.478328 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.479444 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8900532098"], ["active", 1]]
D, [2020-03-14T12:04:57.480387 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.481102 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.481913 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.482816 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.483725 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.484449 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.485245 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.486118 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7728728756"], ["active", 0]]
D, [2020-03-14T12:04:57.487077 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.487851 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.488632 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.489471 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.490049 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.490603 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.491139 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.491564 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.492069 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.492581 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.492971 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.493504 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.494009 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.494597 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.495207 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.495475 #1684]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:04:57.495511 #1684]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹nilâ€º. 
I, [2020-03-14T12:04:57.495531 #1684]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:04:57.498170 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.498761 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.499311 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.499575 #1684]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:04:57.499611 #1684]  INFO -- : StoreTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:04:57.499631 #1684]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:04:57.500077 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.500982 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.502090 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3525002474"], ["active", 1]]
D, [2020-03-14T12:04:57.503058 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.503801 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.504686 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.505576 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.506476 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.507222 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.508005 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.508939 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9962554927"], ["active", 0]]
D, [2020-03-14T12:04:57.509848 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.510273 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.511170 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "Hazelwood"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.512123 #1684] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 1], ["id", 3]]
D, [2020-03-14T12:04:57.512722 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.513417 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.514125 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.514658 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.515138 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.515592 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.516118 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.516659 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.517033 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.517585 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.518080 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.518701 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.519321 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.519569 #1684]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:04:57.519613 #1684]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:04:57.519647 #1684]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:04:57.522369 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.522938 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.523511 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.523766 #1684]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:04:57.523825 #1684]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:04:57.523847 #1684]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:04:57.526188 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.526776 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.527289 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.527549 #1684]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:04:57.527585 #1684]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:04:57.527607 #1684]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:04:57.529793 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.530325 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.530841 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.531073 #1684]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:04:57.531109 #1684]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:04:57.531130 #1684]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:04:57.533295 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.533883 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.534422 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.534647 #1684]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:04:57.534719 #1684]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"WV"â€º. 
I, [2020-03-14T12:04:57.534740 #1684]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:04:57.536853 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.537386 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.537954 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.538174 #1684]  INFO -- : ----------------------------------------------------------------
I, [2020-03-14T12:04:57.538210 #1684]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"152134"â€º. 
I, [2020-03-14T12:04:57.538229 #1684]  INFO -- : ----------------------------------------------------------------
D, [2020-03-14T12:04:57.540828 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.541405 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.542040 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.544718 #1684]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:04:57.544767 #1684]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"CA"â€º. 
I, [2020-03-14T12:04:57.544788 #1684]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:04:57.547531 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.548093 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.548684 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.548913 #1684]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:04:57.548948 #1684]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹10â€º. 
I, [2020-03-14T12:04:57.548969 #1684]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:04:57.551551 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.552109 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.552618 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.552868 #1684]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:04:57.552903 #1684]  INFO -- : StoreTest: test_: Store should validate that :name cannot be empty/falsy. 
I, [2020-03-14T12:04:57.552924 #1684]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:04:57.555868 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.556484 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.557036 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.557256 #1684]  INFO -- : -----------------------------------------------------------
I, [2020-03-14T12:04:57.557291 #1684]  INFO -- : StoreTest: test_: Store should allow :zip to be â€¹"15213"â€º. 
I, [2020-03-14T12:04:57.557311 #1684]  INFO -- : -----------------------------------------------------------
D, [2020-03-14T12:04:57.559597 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.560134 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.560670 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.560899 #1684]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:04:57.560936 #1684]  INFO -- : StoreTest: test_: Store should have many employees through assignments. 
I, [2020-03-14T12:04:57.560958 #1684]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:04:57.561883 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.562406 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.562658 #1684]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:04:57.562694 #1684]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"1512"â€º. 
I, [2020-03-14T12:04:57.562715 #1684]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:04:57.565138 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.565707 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.566263 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.566501 #1684]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:04:57.566550 #1684]  INFO -- : StoreTest: test_: Given context should list stores alphabetically. 
I, [2020-03-14T12:04:57.566573 #1684]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:04:57.567056 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.567935 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.568996 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9591332854"], ["active", 1]]
D, [2020-03-14T12:04:57.569971 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.570748 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.571577 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.572488 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.573438 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.574212 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.575060 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.575952 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9263884552"], ["active", 0]]
D, [2020-03-14T12:04:57.576814 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.577443 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" ORDER BY name[0m
D, [2020-03-14T12:04:57.578044 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.578614 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.579149 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.579555 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.580079 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.580577 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.580943 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.581470 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.581964 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.582564 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.583195 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.583442 #1684]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:04:57.583513 #1684]  INFO -- : StoreTest: test_: Store should validate that :street cannot be empty/falsy. 
I, [2020-03-14T12:04:57.583537 #1684]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:04:57.586666 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.587301 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.587856 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.588076 #1684]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:04:57.588112 #1684]  INFO -- : StoreTest: test_: Store should validate that :city cannot be empty/falsy. 
I, [2020-03-14T12:04:57.588134 #1684]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:04:57.591069 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.591669 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.592183 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.592431 #1684]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.592468 #1684]  INFO -- : StoreTest: test_: Given context should shows that Oakland's phone is stripped of non-digits. 
I, [2020-03-14T12:04:57.592490 #1684]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.592975 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.593845 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.595225 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2940443838"], ["active", 1]]
D, [2020-03-14T12:04:57.596206 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.596965 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.597852 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.598725 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.599658 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.600409 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.601205 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.602087 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2109946189"], ["active", 0]]
D, [2020-03-14T12:04:57.603041 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.603482 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.604056 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.604575 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.605003 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.605551 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.606090 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.606506 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.607034 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.607559 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.608173 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.608738 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.609009 #1684]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:04:57.609045 #1684]  INFO -- : StoreTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:04:57.609064 #1684]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:04:57.609565 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.610558 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.611645 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9752499650"], ["active", 1]]
D, [2020-03-14T12:04:57.612620 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.613341 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.614204 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.615217 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.616156 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.616900 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.617867 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.618834 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8687418724"], ["active", 0]]
D, [2020-03-14T12:04:57.619763 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.620203 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.620771 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.621266 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.621675 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.622172 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.622692 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.623089 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.623649 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.624142 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.624732 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.625332 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.625620 #1684]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:04:57.625675 #1684]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:04:57.625702 #1684]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:04:57.628056 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.628618 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.629196 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.629431 #1684]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:04:57.629468 #1684]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"15213-0983"â€º. 
I, [2020-03-14T12:04:57.629489 #1684]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:04:57.631926 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.632466 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.632999 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.633216 #1684]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:04:57.633251 #1684]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"bad"â€º. 
I, [2020-03-14T12:04:57.633270 #1684]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:04:57.635767 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.636387 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.636994 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.637217 #1684]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:04:57.637252 #1684]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:04:57.637274 #1684]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:04:57.639834 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.640403 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.640943 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.641163 #1684]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:04:57.641198 #1684]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"OH"â€º. 
I, [2020-03-14T12:04:57.641218 #1684]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:04:57.643469 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.644028 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.644581 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.644802 #1684]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:04:57.644838 #1684]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:04:57.644859 #1684]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:04:57.647297 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:57.647880 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.648890 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.649120 #1684]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.649158 #1684]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_role' that works. 
I, [2020-03-14T12:04:57.649179 #1684]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.649752 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.650727 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.651802 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2908178663"], ["active", 1]]
D, [2020-03-14T12:04:57.652718 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.653478 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.654418 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.655320 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.656241 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.657031 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.657918 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.658849 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5561611645"], ["active", 0]]
D, [2020-03-14T12:04:57.659764 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.660644 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.661691 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "159364962"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.662702 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "159364962"], ["date_of_birth", "2001-03-14"], ["phone", "1548525059"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.663562 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.664514 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.665483 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.666537 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1622924128"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.667504 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.668415 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.669368 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "162942277"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.670355 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "162942277"], ["date_of_birth", "2004-03-14"], ["phone", "8642235279"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.671239 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.672183 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.673128 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253181004"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.674096 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "253181004"], ["date_of_birth", "1994-03-14"], ["phone", "3503774557"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.675045 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.676005 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.676993 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.677961 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.678864 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.679786 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.680753 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.681708 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5423157723"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.682626 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.683511 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.684480 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167223207"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.685430 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "167223207"], ["date_of_birth", "2001-03-14"], ["phone", "2968281688"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.686408 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.687423 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.688446 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.689420 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.690299 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.691529 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.692403 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:57.693093 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.694105 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.694999 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.695912 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.696723 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.697892 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.698715 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:57.699432 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.700397 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.701268 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.702196 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.703019 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.704188 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.705041 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:57.705726 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.706767 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.707697 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.708602 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.709434 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.710610 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.711392 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:57.712128 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.713129 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.714016 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.714905 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.715676 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.716866 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.717676 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:57.718382 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.719299 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.720160 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.721083 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.721924 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.723061 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.723882 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:57.724606 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.730701 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')[0m
D, [2020-03-14T12:04:57.731666 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
D, [2020-03-14T12:04:57.732118 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.732822 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.733363 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.733799 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.734322 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.734842 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.735233 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.735773 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.736320 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.736734 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.737276 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.737853 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.738242 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.738770 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.739261 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.739680 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.740222 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.740721 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.741116 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.741756 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.742243 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.742664 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.743197 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.743695 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.744099 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.744623 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.745118 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.745530 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.746094 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.746574 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.746960 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.747477 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.747980 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.748409 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.748935 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.749439 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.749857 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.750413 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.750981 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.751433 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.752018 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.755726 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.756187 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.756824 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.757331 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.757761 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.758268 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.758785 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.759405 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.760045 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.760313 #1684]  INFO -- : ----------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.760363 #1684]  INFO -- : AssignmentTest: test_: Given context should not terminate a completed assignment. 
I, [2020-03-14T12:04:57.760387 #1684]  INFO -- : ----------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.760878 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.761959 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.763061 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9987217030"], ["active", 1]]
D, [2020-03-14T12:04:57.763946 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.764723 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.765605 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.766517 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.767441 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.768223 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.769148 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.770065 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5145765383"], ["active", 0]]
D, [2020-03-14T12:04:57.770973 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.771878 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.772894 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306608908"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.773936 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306608908"], ["date_of_birth", "2001-03-14"], ["phone", "1963820320"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.774836 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.775757 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.776728 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.777693 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7197768240"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.778572 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.779452 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.780368 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169668176"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.781287 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "169668176"], ["date_of_birth", "2004-03-14"], ["phone", "4050697693"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.782238 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.783122 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.784093 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054527260"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.785043 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "054527260"], ["date_of_birth", "1994-03-14"], ["phone", "8933632865"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.785997 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.786923 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.787839 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.788758 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.789718 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.790652 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.791597 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.792540 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2231411399"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.793452 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.794294 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.795227 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342437026"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.796167 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "342437026"], ["date_of_birth", "2001-03-14"], ["phone", "7767119303"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.797093 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.798078 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.799189 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.800130 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.800962 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.802174 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.803062 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:57.803867 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.804873 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.805788 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.806695 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.807532 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.808686 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.809528 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:57.810214 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.811103 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.811985 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.812892 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.813723 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.814864 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.815651 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:57.816325 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.817359 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.818327 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.819208 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.819986 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.821155 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.822051 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:57.822823 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.823805 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.824698 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.825608 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.826415 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.827552 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.828395 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:57.829068 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.830023 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.830895 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.831760 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.832561 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.833729 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.834522 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:57.835198 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.835863 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.836440 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.836974 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.837383 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.837939 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.838442 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.838890 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.839419 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.839919 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.840316 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.840854 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.841324 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.841747 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.842273 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.842765 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.843162 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.843707 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.844206 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.844633 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.845126 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.845637 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.846058 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.846560 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.847041 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.847440 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.847969 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.848479 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.848875 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.849425 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.849923 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.850329 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.850861 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.851346 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.851731 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.852260 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.852758 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.853172 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.853748 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.854226 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.854639 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.855124 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.855616 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.855994 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.856539 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.857027 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.857437 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.857991 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.858503 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.859109 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.859723 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.859964 #1684]  INFO -- : ----------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.860010 #1684]  INFO -- : AssignmentTest: test_: Assignment should validate that :store_id cannot be empty/falsy. 
I, [2020-03-14T12:04:57.860048 #1684]  INFO -- : ----------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.864035 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.864880 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.865505 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.866111 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.866339 #1684]  INFO -- : ---------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.866385 #1684]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all assignments for a given date. 
I, [2020-03-14T12:04:57.866407 #1684]  INFO -- : ---------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.866934 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.867895 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.869011 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1693327255"], ["active", 1]]
D, [2020-03-14T12:04:57.869947 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.870685 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.871525 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.872502 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.873405 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.874112 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.874948 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.875855 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0164831949"], ["active", 0]]
D, [2020-03-14T12:04:57.876798 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.877639 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.878651 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "136120425"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.879652 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "136120425"], ["date_of_birth", "2001-03-14"], ["phone", "7745378487"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.880586 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.881473 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.882402 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.883340 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3369901503"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.884327 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.885171 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.886120 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "233847847"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.887065 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "233847847"], ["date_of_birth", "2004-03-14"], ["phone", "2771911123"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.887988 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.888894 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.889865 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "270546618"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.890799 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "270546618"], ["date_of_birth", "1994-03-14"], ["phone", "4090836022"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:57.891753 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.892676 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.893609 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.894555 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.895473 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.896424 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.897364 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.898326 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3110574467"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:57.899276 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.900178 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.901111 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "004030349"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.902071 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "004030349"], ["date_of_birth", "2001-03-14"], ["phone", "0401722156"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:57.903061 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.904071 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.905032 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.905980 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.906819 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.908046 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.908951 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:57.909727 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.910709 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.911588 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.912493 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.913313 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.914585 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.915408 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:57.916132 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.917059 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.917936 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.918817 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.919629 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.920787 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.921685 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:57.922442 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.923512 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.924491 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.925368 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.926206 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.927392 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.928229 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:57.929009 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.930542 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.931470 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.932426 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.933235 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.934547 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.935373 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:57.936104 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.937135 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.938126 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.939029 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.939857 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.941055 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.942010 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:57.942898 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.946416 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:04:57.947255 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:04:57.948588 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.949512 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.950429 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.951116 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.951712 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.952262 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.952672 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.953171 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.953707 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.954120 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.954656 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.955174 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.955611 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.956171 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.956679 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.957079 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.957666 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.958149 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.958543 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.959055 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.959581 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.959987 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.960539 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.961034 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.961470 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.961994 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.962613 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.962986 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.963484 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.963981 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.964374 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.964890 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:57.965433 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.965835 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.966336 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:57.966844 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.967217 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.967726 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:57.968212 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.968625 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.969177 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:57.969721 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.970111 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.970652 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:57.971129 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.971548 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.972055 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:57.972541 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.972949 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.973481 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:57.974006 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.974649 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.975261 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.975546 #1684]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.975584 #1684]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹Sat, 21 Mar 2020â€º. 
I, [2020-03-14T12:04:57.975606 #1684]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.978481 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.979298 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:57.979929 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:57.980544 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:57.980771 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:57.980807 #1684]  INFO -- : AssignmentTest: test_: Given context should allow for a end date in the past (or today) but after the start date. 
I, [2020-03-14T12:04:57.980828 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:57.981335 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.982302 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.983400 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0988366322"], ["active", 1]]
D, [2020-03-14T12:04:57.984295 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.985050 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.985885 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.986796 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:57.987672 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.988417 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.989281 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.990215 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2757463044"], ["active", 0]]
D, [2020-03-14T12:04:57.991096 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.991966 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.992977 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "165395021"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.994023 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "165395021"], ["date_of_birth", "2001-03-14"], ["phone", "8224014979"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:57.994977 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.996251 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:57.997612 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:57.998877 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0616066384"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.000156 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.001381 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.002641 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "217502820"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.003791 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "217502820"], ["date_of_birth", "2004-03-14"], ["phone", "3761865260"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.004762 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.005744 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.006750 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "267845839"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.007681 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "267845839"], ["date_of_birth", "1994-03-14"], ["phone", "2342327002"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.008626 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.009632 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.010647 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.011640 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.012518 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.013491 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.014484 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.015453 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6181897902"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.016369 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.017265 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.018252 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204617669"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.019227 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "204617669"], ["date_of_birth", "2001-03-14"], ["phone", "5750427004"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.020198 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.021162 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.022169 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.023080 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.023896 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.025066 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.026032 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.026806 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.027909 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.028883 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.029791 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.030631 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.031955 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.032836 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.033547 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.034570 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.035480 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.036356 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.037200 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.038424 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.039203 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.039918 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.041015 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.042004 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.042910 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.043733 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.044967 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.045851 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.046638 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.047638 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.048596 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.049477 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.050329 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.051524 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.052327 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.053027 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.054037 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.054986 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.055875 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.056679 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.057848 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.058687 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.059375 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.060948 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.061854 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.063282 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.064074 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.064713 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.065279 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.065871 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.066276 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.066817 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.067324 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.067708 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.068214 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.068766 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.069125 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.069724 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.070229 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.070641 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.071174 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.071665 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.072055 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.072565 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.073037 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.073467 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.074106 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.074632 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.075027 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.075554 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.076048 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.076432 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.076932 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.077444 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.077865 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.078418 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.078938 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.079341 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.079876 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.080382 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.080747 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.081255 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.081783 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.082163 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.082709 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.083212 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.083638 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.084178 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.084711 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.085115 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.085614 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.086114 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.086488 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.087006 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.087506 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.088152 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.088775 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.089036 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.089086 #1684]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by store name. 
I, [2020-03-14T12:04:58.089109 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.089686 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.090684 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.091751 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2214802494"], ["active", 1]]
D, [2020-03-14T12:04:58.092662 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.093429 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.094294 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.095201 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.096068 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.096837 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.097769 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.098649 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5681948080"], ["active", 0]]
D, [2020-03-14T12:04:58.099532 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.100411 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.101480 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088577542"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.102485 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088577542"], ["date_of_birth", "2001-03-14"], ["phone", "5847034583"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.103420 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.104370 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.105361 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.106372 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5614456613"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.107255 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.108189 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.109143 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "208272288"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.110169 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "208272288"], ["date_of_birth", "2004-03-14"], ["phone", "4706502615"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.111096 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.112047 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.113066 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192673380"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.114058 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "192673380"], ["date_of_birth", "1994-03-14"], ["phone", "8966515246"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.115070 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.116041 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.117052 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.118024 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.118978 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.119956 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.120953 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.121933 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1243422671"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.122899 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.123818 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.124729 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "074980866"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.125776 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "074980866"], ["date_of_birth", "2001-03-14"], ["phone", "1833477122"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.126723 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.127738 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.128746 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.129722 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.130559 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.131754 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.132669 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.133441 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.134437 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.135400 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.136320 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.137209 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.141063 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.141984 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.142688 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.143690 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.144638 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.145551 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.146387 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.147643 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.148495 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.149218 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.150331 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.151346 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.152322 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.153149 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.154424 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.155276 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.156055 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.157033 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.158034 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.158936 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.159778 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.160966 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.161813 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.162551 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.163580 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.164540 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.165481 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.166291 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.167573 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.168433 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.169133 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.170049 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" ORDER BY name[0m
D, [2020-03-14T12:04:58.171241 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.172130 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.173020 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.174000 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.174886 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.175710 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.176325 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.176977 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.177508 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.177960 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.178515 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.178988 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.179428 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.179945 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.180447 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.180850 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.181419 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.181941 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.182372 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.182895 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.183406 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.183820 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.184331 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.184809 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.185209 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.185811 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.186297 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.186715 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.187252 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.187735 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.188126 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.188712 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.189211 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.189624 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.190207 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.190710 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.191115 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.191715 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.192210 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.192625 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.193157 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.193695 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.194078 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.194591 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.195156 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.195578 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.196136 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.196695 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.197073 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.197603 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.198147 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.198535 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.199054 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.199577 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.200181 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.200793 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.201089 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.201132 #1684]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all current assignments for a store or employee. 
I, [2020-03-14T12:04:58.201154 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.201808 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.202818 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.203938 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6439453992"], ["active", 1]]
D, [2020-03-14T12:04:58.204809 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.205547 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.206413 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.207315 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.208190 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.208912 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.209742 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.210652 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4599513034"], ["active", 0]]
D, [2020-03-14T12:04:58.211582 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.212427 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.213966 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "328482048"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.215043 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "328482048"], ["date_of_birth", "2001-03-14"], ["phone", "6903048499"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.216012 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.217013 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.218104 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.219099 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4527836668"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.220082 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.220994 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.222007 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334490396"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.222934 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "334490396"], ["date_of_birth", "2004-03-14"], ["phone", "1315611340"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.223888 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.224796 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.225797 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235121113"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.226714 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "235121113"], ["date_of_birth", "1994-03-14"], ["phone", "7682294975"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.227669 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.228625 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.229583 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.230571 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.231499 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.232437 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.233375 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.234369 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5292698711"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.235271 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.236173 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.237132 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "321033027"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.238109 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "321033027"], ["date_of_birth", "2001-03-14"], ["phone", "9937589483"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.239088 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.240075 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.241080 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.242002 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.242824 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.244031 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.244942 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.245770 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.246746 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.247700 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.248627 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.249463 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.250698 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.251549 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.252223 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.253197 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.254160 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.255044 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.255887 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.257089 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.257969 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.258690 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.259789 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.260815 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.261753 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.262567 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.263795 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.264672 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.265463 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.266452 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.267310 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.268239 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.269024 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.270246 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.271109 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.271808 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.272751 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.273676 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.274576 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.275393 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.276588 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.277416 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.278153 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.278937 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:04:58.279660 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:04:58.280330 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:04:58.281017 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 1)[0m
D, [2020-03-14T12:04:58.281457 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.282063 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.282592 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.282988 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.283508 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.284017 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.284440 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.284979 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.285485 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.285918 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.286461 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.286968 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.287344 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.287865 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.288386 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.288802 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.289334 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.289854 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.290274 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.290785 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.291281 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.291670 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.292198 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.292720 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.293117 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.293619 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.294619 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.295036 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.295574 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.296074 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.296455 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.296952 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.297435 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.297886 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.298443 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.298947 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.299341 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.299887 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.300379 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.300791 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.301293 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.301800 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.302203 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.302778 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.303287 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.303720 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.304359 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.304861 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.305455 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.306117 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.306345 #1684]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.306392 #1684]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Wed, 14 Mar 2018â€º. 
I, [2020-03-14T12:04:58.306414 #1684]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.308793 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.309583 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.310253 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.310828 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.311067 #1684]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.311104 #1684]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_store' that works. 
I, [2020-03-14T12:04:58.311125 #1684]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.311639 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.312560 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.313631 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6257614842"], ["active", 1]]
D, [2020-03-14T12:04:58.314628 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.315369 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.316179 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.317037 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.318123 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.318881 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.319729 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.320611 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0370015425"], ["active", 0]]
D, [2020-03-14T12:04:58.321557 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.322499 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.323503 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "190196307"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.324509 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "190196307"], ["date_of_birth", "2001-03-14"], ["phone", "6345617725"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.325418 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.326385 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.327311 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.328261 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6075529515"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.329190 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.330087 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.331013 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "139821226"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.331991 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "139821226"], ["date_of_birth", "2004-03-14"], ["phone", "4902318595"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.333059 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.336336 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.337456 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "115537633"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.338458 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "115537633"], ["date_of_birth", "1994-03-14"], ["phone", "1406027790"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.339424 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.340400 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.341363 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.342306 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.343262 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.344195 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.345126 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.346105 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6724655966"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.347036 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.347916 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.348850 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062973324"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.349815 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "062973324"], ["date_of_birth", "2001-03-14"], ["phone", "5685597111"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.350745 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.351694 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.352676 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.353599 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.354467 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.355638 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.356502 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.357243 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.358221 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.359205 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.360222 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.361024 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.362288 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.363105 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.363809 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.364781 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.365682 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.366592 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.367409 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.368639 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.369530 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.370265 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.371387 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.372331 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.373251 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.374090 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.375373 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.376211 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.377040 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.378110 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.379038 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.379993 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.380911 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.382234 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.383103 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.383821 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.384799 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.385755 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.386735 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.387581 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.388721 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.389566 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.390307 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.391022 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
D, [2020-03-14T12:04:58.391723 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 2)[0m
D, [2020-03-14T12:04:58.392123 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.392719 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.393224 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.393679 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.394188 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.394703 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.395103 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.395672 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.396169 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.396584 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.397139 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.397678 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.398089 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.398612 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.399103 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.399500 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.400064 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.400568 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.400993 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.401542 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.402051 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.402457 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.403002 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.403486 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.403863 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.404396 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.404905 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.405299 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.405877 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.406392 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.406807 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.407312 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.407785 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.408178 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.408717 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.409246 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.409696 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.410234 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.410738 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.411105 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.411643 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.412128 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.412528 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.413031 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.413549 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.413969 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.414529 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.415017 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.415650 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.416236 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.416512 #1684]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.416550 #1684]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_employee' that works. 
I, [2020-03-14T12:04:58.416570 #1684]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.417062 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.418045 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.419137 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6316723770"], ["active", 1]]
D, [2020-03-14T12:04:58.420090 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.420858 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.421757 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.422640 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.423620 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.424386 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.425196 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.426113 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6711663333"], ["active", 0]]
D, [2020-03-14T12:04:58.427058 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.427904 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.428905 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "297374006"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.429903 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "297374006"], ["date_of_birth", "2001-03-14"], ["phone", "1607960370"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.430827 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.431730 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.432652 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.433598 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7460363334"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.434522 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.435399 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.436394 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000454402"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.437311 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "000454402"], ["date_of_birth", "2004-03-14"], ["phone", "3373377078"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.438244 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.439115 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.440046 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218060573"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.440983 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "218060573"], ["date_of_birth", "1994-03-14"], ["phone", "6287278265"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.441927 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.442859 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.443836 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.444747 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.445745 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.446701 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.447649 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.448583 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5695262359"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.449508 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.450415 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.451368 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "329159975"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.452284 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "329159975"], ["date_of_birth", "2001-03-14"], ["phone", "5357054205"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.453165 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.454136 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.455147 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.456099 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.456925 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.458122 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.459015 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.459758 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.460721 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.461610 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.462523 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.463326 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.464649 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.465473 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.466206 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.467243 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.468168 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.469086 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.469989 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.471206 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.472066 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.472807 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.473892 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.474885 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.475805 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.476610 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.477885 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.478783 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.479592 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.480597 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.481504 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.482453 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.483301 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.484515 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.485382 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.486131 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.487173 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.488101 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.488993 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.489881 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.491046 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.491909 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.492632 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.493368 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
D, [2020-03-14T12:04:58.494086 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 6)[0m
D, [2020-03-14T12:04:58.494485 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.495075 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.495622 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.496029 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.496593 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.497075 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.497507 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.498094 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.498608 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.499036 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.499573 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.500095 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.500487 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.501012 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.501507 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.501909 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.502432 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.502948 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.503390 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.503949 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.504503 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.504880 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.505420 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.505921 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.506302 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.506833 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.507364 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.507760 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.508306 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.508838 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.509234 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.509797 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.510272 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.510683 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.511181 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.511707 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.512082 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.512613 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.513139 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.513547 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.514153 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.514634 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.515014 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.515576 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.516062 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.516469 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.517032 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.517534 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.518217 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.518860 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.519168 #1684]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.519209 #1684]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all past assignments for a store or employee. 
I, [2020-03-14T12:04:58.519243 #1684]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.519756 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.520726 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.521841 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0502411390"], ["active", 1]]
D, [2020-03-14T12:04:58.522827 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.523577 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.524411 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.525403 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.528740 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.529596 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.530533 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.531468 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3341656103"], ["active", 0]]
D, [2020-03-14T12:04:58.532427 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.533238 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.534262 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030469659"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.535212 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "030469659"], ["date_of_birth", "2001-03-14"], ["phone", "3283127943"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.536151 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.537084 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.538075 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.539046 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4570449014"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.539975 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.540870 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.541832 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "297390908"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.542752 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "297390908"], ["date_of_birth", "2004-03-14"], ["phone", "4524281451"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.543692 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.544601 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.545533 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378115873"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.546489 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "378115873"], ["date_of_birth", "1994-03-14"], ["phone", "5262652819"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.547416 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.548394 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.549366 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.550321 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.551240 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.552178 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.553101 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.554108 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9035936454"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.555022 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.555896 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.556888 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242512742"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.557851 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "242512742"], ["date_of_birth", "2001-03-14"], ["phone", "5486945942"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.558861 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.559840 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.560807 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.561765 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.562587 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.563762 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.564612 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.565425 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.566384 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.567269 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.568164 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.568995 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.570175 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.570972 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.571701 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.572625 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.573489 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.574418 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.575208 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.576437 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.577288 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.578053 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.579115 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.580083 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.581014 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.581852 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.583107 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.584000 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.584762 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.585789 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.586681 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.587633 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.588453 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.589705 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.590522 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.591203 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.592170 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.593096 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.594032 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.594885 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.596078 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.596982 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.597681 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.598509 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:04:58.599207 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:04:58.599930 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:04:58.600622 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 2)[0m
D, [2020-03-14T12:04:58.601049 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.601680 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.602199 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.602619 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.603125 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.603655 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.604049 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.604604 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.605074 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.605462 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.605999 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.606536 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.606938 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.607491 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.607978 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.608445 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.608980 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.609459 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.609854 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.610369 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.610850 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.611264 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.611802 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.612329 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.612740 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.613242 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.613843 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.614210 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.614724 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.615200 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.615624 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.616161 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.616652 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.617051 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.617583 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.618092 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.618482 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.618982 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.619524 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.619887 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.620454 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.620956 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.621365 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.622067 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.622632 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.623068 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.623580 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.624055 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.624706 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.625305 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.625575 #1684]  INFO -- : -----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.625611 #1684]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed chronologically by start date. 
I, [2020-03-14T12:04:58.625633 #1684]  INFO -- : -----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.626169 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.627216 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.628310 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2210531634"], ["active", 1]]
D, [2020-03-14T12:04:58.629159 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.630035 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.630936 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.631879 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.632764 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.633490 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.634403 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.635289 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4234151408"], ["active", 0]]
D, [2020-03-14T12:04:58.636220 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.637060 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.638089 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224160507"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.639098 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "224160507"], ["date_of_birth", "2001-03-14"], ["phone", "5372535515"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.640047 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.640900 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.641840 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.642800 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8202284545"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.643709 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.644580 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.645539 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "247921481"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.646545 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "247921481"], ["date_of_birth", "2004-03-14"], ["phone", "5268829712"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.647483 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.648364 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.649296 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "139025766"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.650232 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "139025766"], ["date_of_birth", "1994-03-14"], ["phone", "7308654141"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.651205 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.652178 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.653177 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.654168 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.655112 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.656104 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.657065 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.658038 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7592661785"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.658957 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.659852 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.660807 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "237072968"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.661808 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "237072968"], ["date_of_birth", "2001-03-14"], ["phone", "8948470058"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.662778 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.663747 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.664750 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.665681 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.666470 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.667706 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.668631 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.669382 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.670377 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.671258 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.672170 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.672981 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.674189 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.675030 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.675695 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.676670 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.677555 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.678498 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.679330 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.680513 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.681330 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.682096 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.683156 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.684135 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.685057 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.685937 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.687185 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.688044 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.688846 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.689840 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.690785 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.691690 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.692549 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.693770 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.694619 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.695361 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.696326 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.697224 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.698146 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.698978 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.700156 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.700982 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.701725 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.702394 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" ORDER BY start_date DESC, end_date DESC[0m
D, [2020-03-14T12:04:58.703217 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.704105 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.705009 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.705961 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.706849 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.707666 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.708297 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.708898 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.709463 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.709912 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.710599 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.711132 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.711624 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.714703 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.715230 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.715671 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.716204 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.716707 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.717085 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.717642 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.718141 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.718551 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.719081 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.719596 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.720017 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.720521 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.721040 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.721477 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.722022 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.722532 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.722903 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.723405 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.723874 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.724279 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.724795 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.725313 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.725778 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.726317 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.726799 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.727210 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.727719 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.728188 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.728580 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.729107 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.729640 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.730077 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.730598 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.731137 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.731542 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.732069 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.732546 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.732930 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.733464 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.734019 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.734665 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.735337 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.735583 #1684]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.735620 #1684]  INFO -- : AssignmentTest: test_: Given context should not allow for a end date in the future or before the start date. 
I, [2020-03-14T12:04:58.735652 #1684]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.736226 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.737208 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.738382 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9834407079"], ["active", 1]]
D, [2020-03-14T12:04:58.739323 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.740094 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.740949 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.741863 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.742746 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.743434 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.744245 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.745122 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3971351711"], ["active", 0]]
D, [2020-03-14T12:04:58.746014 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.746881 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.747900 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "344538957"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.748901 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "344538957"], ["date_of_birth", "2001-03-14"], ["phone", "7195995787"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.749823 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.750785 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.751804 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.752775 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5545857459"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.753791 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.754777 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.755781 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "349276033"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.756765 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "349276033"], ["date_of_birth", "2004-03-14"], ["phone", "6145283978"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.757841 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.758782 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.759756 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "101910421"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.760699 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "101910421"], ["date_of_birth", "1994-03-14"], ["phone", "9069923356"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.761638 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.762641 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.763628 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.764581 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.765532 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.766496 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.767487 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.768415 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0346231664"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.769300 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.770234 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.771137 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "093193345"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.772098 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "093193345"], ["date_of_birth", "2001-03-14"], ["phone", "4820836447"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.773035 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.774034 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.775030 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.775972 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.776783 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.778010 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.778959 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.779828 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.780813 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.781778 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.782716 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.783544 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.784766 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.785635 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.786381 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.787344 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.788269 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.789165 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.790049 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.791226 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.792053 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.792805 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.793890 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.794814 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.795745 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.796591 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.797798 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.798700 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.799475 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.800472 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.801392 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.802328 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.803121 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.804328 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.805178 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.805951 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.806925 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.807823 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.808735 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.809552 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.810785 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.811567 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.812256 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.814318 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.815184 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.817107 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.817987 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.818594 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.819218 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.819735 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.820134 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.820688 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.821179 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.821578 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.822125 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.822674 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.823056 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.823603 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.824108 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.824507 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.825034 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.825515 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.825917 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.826443 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.826936 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.827337 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.827886 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.828455 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.828833 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.829348 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.829901 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.830274 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.830800 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.831296 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.831725 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.832260 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.832773 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.833176 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.833783 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.834287 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.834674 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.835166 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.835652 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.836074 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.836616 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.837117 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.837533 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.838098 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.838596 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.838984 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.839504 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.839972 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.840364 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.840911 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.841420 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.842071 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.842725 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.842956 #1684]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.842992 #1684]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Sat, 25 Jan 2020â€º. 
I, [2020-03-14T12:04:58.843014 #1684]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.845414 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.846182 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.846775 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.847389 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.847647 #1684]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.847684 #1684]  INFO -- : AssignmentTest: test_: Assignment should validate that :employee_id cannot be empty/falsy. 
I, [2020-03-14T12:04:58.847704 #1684]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.850921 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.851681 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.852326 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.852887 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.853150 #1684]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.853186 #1684]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by employee name. 
I, [2020-03-14T12:04:58.853207 #1684]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.853730 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.854704 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.855810 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2451091053"], ["active", 1]]
D, [2020-03-14T12:04:58.856692 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.857435 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.858307 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.859220 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.860132 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.860901 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.861749 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.862673 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4570593062"], ["active", 0]]
D, [2020-03-14T12:04:58.863584 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.864470 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.865472 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "199440005"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.866481 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "199440005"], ["date_of_birth", "2001-03-14"], ["phone", "6289856749"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.867383 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.868311 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.869238 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.870221 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5570358111"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.871140 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.872011 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.872950 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "309756048"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.873935 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "309756048"], ["date_of_birth", "2004-03-14"], ["phone", "2934263214"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.874877 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.875790 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.876729 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "149659130"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.877664 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "149659130"], ["date_of_birth", "1994-03-14"], ["phone", "9455883566"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.878652 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.879559 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.880527 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.881487 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.882417 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.883405 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.884346 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.885320 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6537166228"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:58.886289 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.887203 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.888181 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238272087"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.889120 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "238272087"], ["date_of_birth", "2001-03-14"], ["phone", "8502068100"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:58.890123 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.891075 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.892029 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.892958 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.893779 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.895016 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.895961 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:58.896948 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.900490 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.901508 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.902448 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.903310 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.904561 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.905409 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.906191 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.907160 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.908098 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.908999 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.909858 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.911021 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.911870 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:58.912625 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.913668 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.914622 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.915524 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.916361 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.917563 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.918417 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.919223 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.920207 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.921111 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.922030 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.922846 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.923987 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.924839 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:58.925556 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.928158 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.929130 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.930194 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.930989 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.932350 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.933159 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:58.933837 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.934684 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:04:58.935491 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.936327 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.937488 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.938344 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.939157 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.940005 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.940667 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.941283 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.941937 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.942323 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.942863 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.943317 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.943698 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.944215 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.944699 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.945115 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.945642 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.946203 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.946637 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.947162 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.947643 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.948024 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.948586 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.949085 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.949474 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.950032 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.950537 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.950939 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.951460 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.951955 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.952315 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.952827 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.953289 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.953761 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.954284 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:58.954782 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.955175 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.955706 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:58.956199 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.956607 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.957083 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:58.957597 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.958012 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.958564 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:58.959049 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.959474 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.959962 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:58.960502 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.960852 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.961336 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:58.961854 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.962205 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.962694 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:58.963173 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.963801 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.965850 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.966141 #1684]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:04:58.966178 #1684]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹"bad"â€º. 
I, [2020-03-14T12:04:58.966199 #1684]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:04:58.969184 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.969997 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:58.970627 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:58.972527 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:58.972772 #1684]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:04:58.972814 #1684]  INFO -- : AssignmentTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:04:58.972834 #1684]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:04:58.973375 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.974387 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.975564 #1684] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0799652837"], ["active", 1]]
D, [2020-03-14T12:04:58.976678 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.977435 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.978280 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.979187 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:58.980131 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.980870 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.981623 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.982559 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7313958180"], ["active", 0]]
D, [2020-03-14T12:04:58.983516 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.984342 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.985295 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "189102365"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.986393 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "189102365"], ["date_of_birth", "2001-03-14"], ["phone", "4467850557"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.987297 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.988169 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.989098 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.990309 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4358916602"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.991209 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.992074 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.992981 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223022413"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.993906 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "223022413"], ["date_of_birth", "2004-03-14"], ["phone", "9683304251"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:58.994873 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.995727 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.996652 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "308348135"], ["LIMIT", 1]]
D, [2020-03-14T12:04:58.997521 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "308348135"], ["date_of_birth", "1994-03-14"], ["phone", "2797805828"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:58.998474 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:58.999421 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.000372 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.001308 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.002245 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.003312 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.004291 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.005200 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6389932539"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.006123 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.007072 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.008028 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "101453687"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.008931 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "101453687"], ["date_of_birth", "2001-03-14"], ["phone", "8729513079"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:59.009929 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.010932 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.011884 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.012871 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.013738 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.014928 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.015816 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:59.016592 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.017553 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.018478 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.019330 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.020179 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.021343 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.022190 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.022892 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.023844 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.024693 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.025557 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.026396 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.027671 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.028504 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:59.029158 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.030214 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.031153 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.032044 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.032810 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.033949 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.034747 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.035523 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.036454 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.037364 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.038274 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.039064 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.040200 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.041006 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.041693 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.042585 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.043453 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.044342 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.045159 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.046360 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.047222 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.047908 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.048630 #1684] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:04:59.049162 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.049766 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.050245 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.050673 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.051165 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.051641 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.052024 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.052544 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.053044 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.053490 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.054085 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.054590 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.054957 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.055463 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.055921 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.056317 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.056865 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.057407 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.057833 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.058317 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.058803 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.059216 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.059716 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.060175 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.060553 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.061151 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.061641 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.062063 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.062585 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.063065 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.063447 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.063959 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.064434 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.064813 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.065318 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.065875 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.066262 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.066840 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:59.067323 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.067714 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.068243 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.068729 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.069095 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.069614 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.070274 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.070749 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.071268 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.071773 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.072388 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:59.074535 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:59.074794 #1684]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:59.074832 #1684]  INFO -- : AssignmentTest: test_: Given context should terminate an assignment effectively as of today. 
I, [2020-03-14T12:04:59.074852 #1684]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:59.075364 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.076365 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.077474 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7688259768"], ["active", 1]]
D, [2020-03-14T12:04:59.078556 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.079297 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.080130 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.080990 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:59.081936 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.082679 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.083448 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.084332 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9363247804"], ["active", 0]]
D, [2020-03-14T12:04:59.085255 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.086126 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.087079 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195708742"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.088064 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "195708742"], ["date_of_birth", "2001-03-14"], ["phone", "0292135252"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.089011 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.090125 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.093462 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.094532 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7705416372"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.095484 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.096397 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.097309 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "142953222"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.098274 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "142953222"], ["date_of_birth", "2004-03-14"], ["phone", "4014216113"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.099244 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.100115 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.101091 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310951439"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.102018 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "310951439"], ["date_of_birth", "1994-03-14"], ["phone", "3841995687"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:59.102971 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.103869 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.104789 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.105725 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.106702 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.107638 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.108553 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.109489 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7698263619"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.110431 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.111283 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.112261 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133237300"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.113171 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "133237300"], ["date_of_birth", "2001-03-14"], ["phone", "8783643271"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:59.114131 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.115047 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.116028 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.116930 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.117738 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.118895 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.119798 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:59.120564 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.121497 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.122362 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.123208 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.123992 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.125161 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.126037 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.126767 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.127706 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.128571 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.129449 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.130267 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.131431 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.132252 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:59.132938 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.134024 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.134937 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.135815 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.136628 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.137806 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.138627 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.139414 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.140393 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.141250 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.142146 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.142956 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.144098 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.144931 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.145671 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.146684 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.147585 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.148441 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.149203 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.150397 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.151179 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.151895 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.152469 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.153480 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.154414 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.155089 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.155849 #1684] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-14"], ["id", 6]]
D, [2020-03-14T12:04:59.156480 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.157212 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.157960 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.158480 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.158981 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.159359 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.159848 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.160345 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.160744 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.161278 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.161790 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.162186 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.162672 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.163190 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.163558 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.164046 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.164522 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.164913 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.165452 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.165955 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.166364 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.166865 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.167368 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.167775 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.168318 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.168894 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.169248 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.169884 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.170439 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.170848 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.171467 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.171952 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.172374 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.172865 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.173322 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.173750 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.174260 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.174752 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.175148 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.175646 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:59.176126 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.176568 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.177057 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.177521 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.178129 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.178623 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.179168 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.179542 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.180054 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.180531 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.181125 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:59.183104 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:59.183341 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:59.183462 #1684]  INFO -- : AssignmentTest: test_: Given context should end the current assignment if it exists before adding a new assignment for an employee. 
I, [2020-03-14T12:04:59.183488 #1684]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:59.183984 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.185016 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.186147 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6810540073"], ["active", 1]]
D, [2020-03-14T12:04:59.187098 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.187842 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.188691 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.189550 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:59.190498 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.191225 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.192062 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.192907 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7736735159"], ["active", 0]]
D, [2020-03-14T12:04:59.193886 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.194766 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.195775 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "270539841"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.196716 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "270539841"], ["date_of_birth", "2001-03-14"], ["phone", "9345485304"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.197600 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.198589 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.199592 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.200526 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4907342291"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.201425 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.202317 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.203276 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037256781"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.204270 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "037256781"], ["date_of_birth", "2004-03-14"], ["phone", "7561800941"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.205201 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.206162 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.207159 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037628149"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.208106 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "037628149"], ["date_of_birth", "1994-03-14"], ["phone", "3631167855"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:59.209056 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.210088 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.211043 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.211975 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.212914 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.213903 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.214818 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.215759 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9839295659"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.216668 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.217521 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.218488 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "131877645"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.219397 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "131877645"], ["date_of_birth", "2001-03-14"], ["phone", "7162561051"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:59.220320 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.221276 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.222278 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.223168 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.223996 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.225253 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.226329 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:59.227090 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.228079 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.228980 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.230013 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.230873 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.232115 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.232963 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.233823 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.234852 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.235756 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.236634 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.237474 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.238689 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.239501 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:59.240241 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.241303 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.242287 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.243167 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.243974 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.245173 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.246082 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.246854 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.247893 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.248838 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.249836 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.250681 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.251917 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.252740 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.253472 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.254514 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.255439 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.256320 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.257103 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.258319 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.259134 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.259868 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.260855 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.261814 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.262646 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.263440 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.264632 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.265452 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.266589 #1684] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-13"], ["id", 6]]
D, [2020-03-14T12:04:59.267474 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2020-03-13"]]
D, [2020-03-14T12:04:59.268168 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.269331 #1684] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.270022 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.270578 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:59.271089 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.271481 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.271998 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.272626 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.273032 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.273622 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.276716 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.277112 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.277710 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.278192 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.278571 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.279090 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.279587 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.280028 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.280869 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.281607 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.282225 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.283074 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.283667 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.284061 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.284567 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.285060 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.285452 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.286008 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.286505 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.286886 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.287415 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.287902 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.288269 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.288756 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.289249 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.289641 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.290198 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.290720 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.291120 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.291648 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.292124 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.292551 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.293120 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:59.293582 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.293993 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.294500 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.294993 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.295396 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.295952 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.296468 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.296877 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.297384 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.297944 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.298534 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:59.300514 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:59.300745 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:59.300781 #1684]  INFO -- : AssignmentTest: test_: Given context should identify a non-active store as part of an invalid assignment. 
I, [2020-03-14T12:04:59.300803 #1684]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:59.301315 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.302428 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.303534 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0308089666"], ["active", 1]]
D, [2020-03-14T12:04:59.304470 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.305177 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.306150 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.307058 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:59.308009 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.308760 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.309596 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.310516 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5468745268"], ["active", 0]]
D, [2020-03-14T12:04:59.311469 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.312444 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.313485 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021539127"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.314571 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "021539127"], ["date_of_birth", "2001-03-14"], ["phone", "9846662056"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.315486 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.316495 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.317527 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.318525 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3835749859"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.319442 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.320500 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.321596 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "050603852"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.322627 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "050603852"], ["date_of_birth", "2004-03-14"], ["phone", "9056282851"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.323631 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.324715 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.325743 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098720252"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.326682 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "098720252"], ["date_of_birth", "1994-03-14"], ["phone", "2117118774"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:59.327629 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.328621 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.329561 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.330548 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.331496 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.332492 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.333490 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.334456 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9980311137"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.335452 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.336361 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.337293 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342844098"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.338259 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "342844098"], ["date_of_birth", "2001-03-14"], ["phone", "3452282127"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:59.339174 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.340169 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.341216 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.342207 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.343005 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.344253 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.345178 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:59.346137 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.347179 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.348108 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.349019 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.349832 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.350999 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.351878 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.352569 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.353526 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.354499 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.355389 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.356249 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.357468 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.358297 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:59.358994 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.360103 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.361055 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.361976 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.362795 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.364015 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.364885 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.365632 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.366664 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.367590 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.368450 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.369232 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.370491 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.371316 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.372024 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.373011 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.373922 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.374788 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.375630 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.376830 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.377619 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.378271 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.379706 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.380535 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.381180 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.381803 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.382287 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.382669 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.383161 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.383753 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.384105 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.384644 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.385139 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.385547 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.386077 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.386574 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.386936 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.387435 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.387955 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.388336 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.388876 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.389377 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.389812 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.390325 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.390805 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.391195 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.391705 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.392163 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.392574 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.393126 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.393699 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.394111 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.394635 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.395091 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.395504 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.396008 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.396471 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.396843 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.397371 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.397911 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.398322 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.398875 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:59.399372 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.399759 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.400290 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.400754 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.401115 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.401611 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.402130 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.402522 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.403071 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.403609 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.404184 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:59.407069 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:59.407311 #1684]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:04:59.407346 #1684]  INFO -- : AssignmentTest: test_: Assignment should belong to store. 
I, [2020-03-14T12:04:59.407377 #1684]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:04:59.407778 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:59.409377 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:59.409621 #1684]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:04:59.409675 #1684]  INFO -- : AssignmentTest: test_: Given context should identify a non-active employee as part of an invalid assignment. 
I, [2020-03-14T12:04:59.409701 #1684]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:04:59.410186 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.411228 #1684] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.412409 #1684] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8081930734"], ["active", 1]]
D, [2020-03-14T12:04:59.413345 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.414066 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.414837 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.415755 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:04:59.416713 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.417416 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.418219 #1684] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.419081 #1684] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0797585613"], ["active", 0]]
D, [2020-03-14T12:04:59.419988 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.420814 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.421820 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264675505"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.422763 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "264675505"], ["date_of_birth", "2001-03-14"], ["phone", "8598407211"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.423727 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.424601 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.425512 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.426579 #1684] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9427287876"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.427510 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.428391 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.429350 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078795315"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.430373 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "078795315"], ["date_of_birth", "2004-03-14"], ["phone", "2070631887"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:04:59.431341 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.432290 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.433255 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269797076"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.434156 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "269797076"], ["date_of_birth", "1994-03-14"], ["phone", "4093657952"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:04:59.435148 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.436117 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.437043 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.438001 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.438911 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.439844 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.440775 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.441752 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6814108650"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:04:59.442702 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.443554 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.444452 #1684] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306990354"], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.445368 #1684] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "306990354"], ["date_of_birth", "2001-03-14"], ["phone", "3279144320"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:04:59.446347 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.447288 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.448263 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.449152 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.449980 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.451174 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.452165 #1684] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:04:59.452923 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.453877 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.454754 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.455684 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.456516 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.457790 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.458688 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.461837 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.462861 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.463812 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.464738 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.465542 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.466762 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.467602 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:04:59.468272 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.469299 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.470244 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.471120 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.471949 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.473060 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.473953 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.474756 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.475729 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.476638 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.477505 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.478278 #1684] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.479462 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.480308 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:04:59.481012 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.481972 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.482855 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.483766 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.484568 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.485676 #1684] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:04:59.486492 #1684] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:04:59.487208 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.489352 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.490254 #1684] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.490888 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.491495 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.491986 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.492343 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.492876 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.493332 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.493725 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.494283 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.494820 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.495231 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.495754 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.496256 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.496630 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.497154 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.497623 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.498021 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.498533 #1684] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.499058 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.499451 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.500015 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.500496 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.500889 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.501381 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.501894 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.502254 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.502745 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.503247 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.503676 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.504183 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:04:59.504705 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.505079 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.505603 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:04:59.506133 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.506509 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.506986 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:04:59.507460 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.507878 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.508382 #1684] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:04:59.508887 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.509290 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.509818 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:04:59.510428 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.510807 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.511320 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:04:59.511813 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.512182 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.512701 #1684] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:04:59.513172 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:04:59.513822 #1684] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:59.515954 #1684] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:59.516190 #1684]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:04:59.516225 #1684]  INFO -- : AssignmentTest: test_: Assignment should belong to employee. 
I, [2020-03-14T12:04:59.516244 #1684]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:04:59.516569 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:04:59.518245 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:04:59.518509 #1684]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:04:59.518545 #1684]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹nilâ€º. 
I, [2020-03-14T12:04:59.518565 #1684]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:04:59.521464 #1684] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.522283 #1684] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:04:59.522914 #1684] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:29.906667 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-14T12:05:30.126812 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.127196 #1819]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.127235 #1819]  INFO -- : AssignmentTest: test_: Assignment should validate that :employee_id cannot be empty/falsy. 
I, [2020-03-14T12:05:30.127256 #1819]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.156795 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.158881 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.159569 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.160246 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.160527 #1819]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:05:30.160564 #1819]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹nilâ€º. 
I, [2020-03-14T12:05:30.160585 #1819]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:05:30.163232 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.163938 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.164477 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.165031 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.165237 #1819]  INFO -- : -----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.165271 #1819]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed chronologically by start date. 
I, [2020-03-14T12:05:30.165290 #1819]  INFO -- : -----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.172400 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.173908 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.175142 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2530091845"], ["active", 1]]
D, [2020-03-14T12:05:30.176062 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.176799 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.177593 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.178442 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.179273 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.179922 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.180660 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.181454 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7208750312"], ["active", 0]]
D, [2020-03-14T12:05:30.182373 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.189759 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.191213 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147618913"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.192303 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "147618913"], ["date_of_birth", "2001-03-14"], ["phone", "1086683570"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.193155 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.194175 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.195089 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.195955 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0039286134"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.196795 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.197582 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.198427 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179063856"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.199278 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "179063856"], ["date_of_birth", "2004-03-14"], ["phone", "7186893280"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.200093 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.200901 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.201756 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300292114"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.202624 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "300292114"], ["date_of_birth", "1994-03-14"], ["phone", "4268974971"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.203407 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.204233 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.205070 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.205934 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.206771 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.207627 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.208435 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.209299 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5865106399"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.210182 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.210975 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.211834 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "075350852"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.212702 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "075350852"], ["date_of_birth", "2001-03-14"], ["phone", "5550042447"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.213527 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.214702 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.215733 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.217486 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.218693 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.226259 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.227228 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.227958 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.228911 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.229847 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.230673 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.232654 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.233883 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.234642 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.235275 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.236175 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.237007 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.237889 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.238632 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.239686 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.240440 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:30.241065 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.242001 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.242841 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.243659 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.244410 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.245495 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.246286 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.247008 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.247853 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.248651 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.249457 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.250202 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.251217 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.251969 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.252625 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.253492 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.254334 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.255176 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.255967 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.257016 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.257783 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.258425 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.259079 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" ORDER BY start_date DESC, end_date DESC[0m
D, [2020-03-14T12:05:30.260135 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.260976 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.261778 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.262541 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.263306 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.264076 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.264688 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.265274 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.265847 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.266239 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.266744 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.267197 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.267562 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.268010 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.268453 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.268826 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.269320 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.269796 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.270156 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.270648 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.271099 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.271457 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.271966 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.272426 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.272779 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.273303 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.273794 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.274166 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.274664 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.275108 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.275450 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.275947 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.276388 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.276784 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.277246 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.277738 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.278098 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.278582 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.279017 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.279357 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.279835 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.280272 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.280643 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.281126 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.281582 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.282280 #1819] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.282820 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.283295 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.283674 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.284127 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.284588 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.285017 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.285498 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.285984 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.286567 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.287219 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.287474 #1819]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.287515 #1819]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by employee name. 
I, [2020-03-14T12:05:30.287535 #1819]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.288009 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.288977 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.289999 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2403532595"], ["active", 1]]
D, [2020-03-14T12:05:30.290825 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.291485 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.292206 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.293040 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.293889 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.294524 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.295265 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.296124 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0378394448"], ["active", 0]]
D, [2020-03-14T12:05:30.296993 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.297821 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.298728 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056868514"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.299604 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056868514"], ["date_of_birth", "2001-03-14"], ["phone", "3757329178"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.300425 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.301235 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.302084 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.302939 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7500971246"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.303757 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.304521 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.305351 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381648320"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.306247 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "381648320"], ["date_of_birth", "2004-03-14"], ["phone", "3155473392"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.307075 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.307864 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.308723 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116552423"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.309544 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "116552423"], ["date_of_birth", "1994-03-14"], ["phone", "6906569720"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.310414 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.311212 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.312071 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.312917 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.313799 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.314669 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.315561 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.316417 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3981084107"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.317255 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.318057 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.318886 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "275469731"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.319820 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "275469731"], ["date_of_birth", "2001-03-14"], ["phone", "4250049763"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.320633 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.321499 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.322396 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.323275 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.324046 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.325150 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.325998 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.326670 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.327483 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.328280 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.329074 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.329853 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.330875 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.331636 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.332267 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.333123 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.333942 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.334744 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.335507 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.336557 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.337289 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:30.337975 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.338914 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.339743 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.350960 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.351794 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.352874 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.353690 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.354344 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.355215 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.356011 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.356789 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.357485 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.358501 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.359209 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.359832 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.360633 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.361456 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.362267 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.363003 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.364051 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.364809 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.365456 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.370392 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:05:30.371294 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.372068 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.372837 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.373619 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.374409 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.375149 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.375743 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.376324 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.376792 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.377129 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.377611 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.378089 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.378435 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.378918 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.379370 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.379721 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.380173 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.380652 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.381003 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.381485 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.381955 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.382309 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.382817 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.383280 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.383629 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.384109 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.384554 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.384901 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.385388 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.385943 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.386287 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.386751 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.387210 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.387559 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.388035 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.388497 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.388850 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.389343 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.389810 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.390146 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.390633 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.391068 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.391423 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.391931 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.392389 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.392791 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.393247 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.393747 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.394094 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.394582 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.395027 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.395364 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.395858 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.396293 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.396884 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.397527 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.397795 #1819]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.397833 #1819]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Wed, 14 Mar 2018â€º. 
I, [2020-03-14T12:05:30.397853 #1819]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.400166 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.400855 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.401393 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.401948 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.402173 #1819]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:05:30.402207 #1819]  INFO -- : AssignmentTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:05:30.402227 #1819]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:05:30.402684 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.403557 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.404547 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3295977821"], ["active", 1]]
D, [2020-03-14T12:05:30.405364 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.406042 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.406744 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.407635 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.408414 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.409065 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.409844 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.410627 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2874003461"], ["active", 0]]
D, [2020-03-14T12:05:30.411423 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.412236 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.413127 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164896247"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.414090 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "164896247"], ["date_of_birth", "2001-03-14"], ["phone", "5480569205"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.414933 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.415745 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.416608 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.417432 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3486915465"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.418321 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.419137 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.419999 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337981480"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.420868 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "337981480"], ["date_of_birth", "2004-03-14"], ["phone", "7179877791"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.421747 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.422625 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.423546 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "275267968"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.424389 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "275267968"], ["date_of_birth", "1994-03-14"], ["phone", "7932258145"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.425256 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.426163 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.427037 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.427867 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.428694 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.429553 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.430488 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.431333 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5642058416"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.432183 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.432974 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.433814 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "319072858"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.434665 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "319072858"], ["date_of_birth", "2001-03-14"], ["phone", "5663525649"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.435480 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.436372 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.437246 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.438087 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.438820 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.439879 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.440726 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.441408 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.442257 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.443097 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.443884 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.444606 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.445624 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.446421 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.447030 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.447911 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.448702 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.449568 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.450302 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.454277 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.455156 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:30.455815 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.456835 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.457852 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.458699 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.459447 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.460587 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.461431 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.462223 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.463194 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.464082 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.464977 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.465793 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.466916 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.467679 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.468317 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.469213 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.470106 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.470902 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.471683 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.472744 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.473483 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.474270 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.475252 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:30.475949 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.476622 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.477258 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.477793 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.478378 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.478865 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.479369 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.479966 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.480571 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.481050 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.481540 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.482029 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.482373 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.482881 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.483329 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.483755 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.484497 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.485094 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.485568 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.486244 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.486831 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.487278 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.487795 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.488236 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.488599 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.489069 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.489534 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.489951 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.490451 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.490931 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.491285 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.491750 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.492200 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.492566 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.493030 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.493480 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.493878 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.494401 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.494876 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.495215 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.495732 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.496197 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.496571 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.497045 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.497503 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.497926 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.498424 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.498896 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.499499 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.501633 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.501913 #1819]  INFO -- : ---------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.501952 #1819]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all assignments for a given date. 
I, [2020-03-14T12:05:30.501973 #1819]  INFO -- : ---------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.502485 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.503422 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.504487 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0003638239"], ["active", 1]]
D, [2020-03-14T12:05:30.505368 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.506138 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.506998 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.507894 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.508689 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.509350 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.510124 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.510946 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6994778282"], ["active", 0]]
D, [2020-03-14T12:05:30.511782 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.512572 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.513447 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084019842"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.514430 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084019842"], ["date_of_birth", "2001-03-14"], ["phone", "9172462105"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.515296 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.516187 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.517128 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.518077 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9045000505"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.518953 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.519776 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.520647 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "296389898"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.521549 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "296389898"], ["date_of_birth", "2004-03-14"], ["phone", "0645607921"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.522412 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.523271 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.524129 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029589212"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.524990 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "029589212"], ["date_of_birth", "1994-03-14"], ["phone", "9759088942"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.525947 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.526884 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.527774 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.528702 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.529591 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.530509 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.531370 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.532255 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9713134482"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.533078 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.533889 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.535640 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266530667"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.538623 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "266530667"], ["date_of_birth", "2001-03-14"], ["phone", "2856399305"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.539588 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.540657 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.541861 #1819] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.542787 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.543592 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.544739 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.545632 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.546370 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.547265 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.548152 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.548935 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.549700 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.550790 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.551626 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.552355 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.553240 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.554195 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.555051 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.555856 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.556951 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.557790 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:30.558460 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.559501 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.560414 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.561265 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.562176 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.563311 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.564162 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.564899 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.565949 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.566845 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.567719 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.568537 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.569729 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.570534 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.571191 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.572133 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.573021 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.573988 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.574785 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.575932 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.576740 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.577395 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.578416 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:05:30.579143 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:05:30.579959 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.580833 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.581824 #1819] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.582554 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.583115 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.583682 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.584100 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.584613 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.585116 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.585501 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.586738 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.587278 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.587687 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.588210 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.588723 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.589119 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.589755 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.590340 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.590741 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.591286 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.591823 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.592258 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.592832 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.593425 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.593946 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.594450 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.594965 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.595370 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.595931 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.596472 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.596895 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.597476 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.598048 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.598437 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.598947 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.599453 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.599885 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.600398 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.600921 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.601317 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.601925 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.602415 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.602854 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.603374 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.603872 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.604286 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.604811 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.605319 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.605760 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.606408 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.606978 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.607597 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.608292 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.608554 #1819]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.608591 #1819]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Sat, 25 Jan 2020â€º. 
I, [2020-03-14T12:05:30.608611 #1819]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.611078 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.611880 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.612500 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.613129 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.613373 #1819]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:05:30.613408 #1819]  INFO -- : AssignmentTest: test_: Assignment should belong to store. 
I, [2020-03-14T12:05:30.613453 #1819]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:05:30.613777 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.614397 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.614663 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.614701 #1819]  INFO -- : AssignmentTest: test_: Given context should end the current assignment if it exists before adding a new assignment for an employee. 
I, [2020-03-14T12:05:30.614722 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.615243 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.616273 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.617357 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7325525996"], ["active", 1]]
D, [2020-03-14T12:05:30.618474 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.619289 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.620195 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.621200 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.626164 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.627052 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.627990 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.628925 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8894913414"], ["active", 0]]
D, [2020-03-14T12:05:30.629813 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.630615 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.631590 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229627359"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.632495 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "229627359"], ["date_of_birth", "2001-03-14"], ["phone", "9363794219"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.633357 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.634287 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.635179 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.636084 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9679134482"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.637031 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.638042 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.639035 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "096276404"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.639931 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "096276404"], ["date_of_birth", "2004-03-14"], ["phone", "3618779089"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.640818 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.641762 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.642639 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "226817775"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.643552 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "226817775"], ["date_of_birth", "1994-03-14"], ["phone", "3966239271"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.644400 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.645284 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.646211 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.647119 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.647996 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.648943 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.649876 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.650808 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6250107117"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.651726 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.652610 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.653523 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204247442"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.654454 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "204247442"], ["date_of_birth", "2001-03-14"], ["phone", "3360381366"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.655395 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.656400 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.657365 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.658268 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.659099 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.660334 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.661176 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.662003 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.662897 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.663761 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.664575 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.665388 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.666581 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.667357 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.667971 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.668886 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.669762 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.670578 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.671404 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.672513 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.673252 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:30.673954 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.674978 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.675904 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.676766 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.677547 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.678727 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.679566 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.680308 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.681217 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.682100 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.682955 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.683682 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.684801 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.685609 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.686293 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.687271 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.688172 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.688999 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.689803 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.691314 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.692091 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.692749 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.693700 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.694563 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.695440 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.696207 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.697368 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.698258 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.699421 #1819] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-13"], ["id", 6]]
D, [2020-03-14T12:05:30.700295 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2020-03-13"]]
D, [2020-03-14T12:05:30.700951 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.702046 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.702852 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.703376 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.703879 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.704237 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.704756 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.705215 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.705612 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.706176 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.706665 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.707064 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.707596 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.708058 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.708431 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.708914 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.709377 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.709781 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.710320 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.710784 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.711171 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.711743 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.712206 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.712586 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.713057 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.713550 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.713940 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.714439 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.714906 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.715291 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.715788 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.716235 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.716611 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.717091 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.717571 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.717981 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.718579 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.719056 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.719430 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.719903 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.720398 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.720844 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.721336 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.721888 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.722253 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.722858 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.723390 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.723800 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.724325 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.724804 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.725216 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.725786 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.726230 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.726814 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.727529 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.727784 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.727830 #1819]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all current assignments for a store or employee. 
I, [2020-03-14T12:05:30.727853 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.728340 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.729298 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.730414 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3718173014"], ["active", 1]]
D, [2020-03-14T12:05:30.731297 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.732009 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.732834 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.734006 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.734832 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.735616 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.736418 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.737286 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8460745851"], ["active", 0]]
D, [2020-03-14T12:05:30.738188 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.739053 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.740063 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "217050243"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.740988 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "217050243"], ["date_of_birth", "2001-03-14"], ["phone", "7874301888"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.741874 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.742769 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.743683 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.744595 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2439647528"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.745476 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.746344 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.747291 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "023301557"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.748190 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "023301557"], ["date_of_birth", "2004-03-14"], ["phone", "3590847469"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.749068 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.750048 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.751019 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386026551"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.751916 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "386026551"], ["date_of_birth", "1994-03-14"], ["phone", "3400247208"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.752803 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.753812 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.754785 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.755790 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.756779 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.757892 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.758894 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.759853 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4959872576"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.760750 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.761606 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.762600 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056429513"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.763519 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "056429513"], ["date_of_birth", "2001-03-14"], ["phone", "4209054356"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.764550 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.765494 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.766532 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.767380 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.768267 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.769402 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.770299 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.771004 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.771921 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.772843 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.773847 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.774676 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.775801 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.776537 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.777203 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.778195 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.779073 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.779953 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.780683 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.781858 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.782686 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:30.783380 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.784356 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.785254 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.786213 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.787116 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.788379 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.789202 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.789940 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.791137 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.792099 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.793034 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.793819 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.795003 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.795796 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.796560 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.797452 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.798402 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.799208 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.800182 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.801317 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.802127 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.802932 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.803641 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:05:30.804357 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:05:30.805111 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:05:30.805787 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 1)[0m
D, [2020-03-14T12:05:30.806282 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.806942 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.807439 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.807844 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.808308 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.808811 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.809169 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.809685 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.810249 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.810681 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.811233 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.811705 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.812119 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.812669 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.813160 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.813535 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.814024 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.814569 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.814918 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.815502 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.815979 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.816350 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.816830 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.817284 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.817816 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.818305 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.818860 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.819399 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.819969 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.820607 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.821049 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.821792 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.822324 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.822712 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.823328 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.823799 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.824218 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.824718 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.825171 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.825538 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.826083 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.826614 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.826958 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.827507 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.828058 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.828559 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.829203 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.829870 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.830656 #1819] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.831631 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.831867 #1819]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.831937 #1819]  INFO -- : AssignmentTest: test_: Given context should not allow for a end date in the future or before the start date. 
I, [2020-03-14T12:05:30.831998 #1819]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.832680 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.833742 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.834820 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8786959024"], ["active", 1]]
D, [2020-03-14T12:05:30.835675 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.836371 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.837455 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.838425 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.839345 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.840113 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.840938 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.841837 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5238922649"], ["active", 0]]
D, [2020-03-14T12:05:30.842770 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.843684 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.844742 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082505666"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.845800 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "082505666"], ["date_of_birth", "2001-03-14"], ["phone", "2917176028"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.846745 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.847635 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.848654 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.849554 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2466693766"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.850461 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.851448 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.852612 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143571083"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.853542 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "143571083"], ["date_of_birth", "2004-03-14"], ["phone", "3440928279"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.854589 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.855581 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.856746 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269827758"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.857768 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "269827758"], ["date_of_birth", "1994-03-14"], ["phone", "5874182498"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.858807 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.859833 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.860836 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.861897 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.862902 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.863848 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.864999 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.866013 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7349433307"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.867011 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.867984 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.868960 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262938044"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.870123 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "262938044"], ["date_of_birth", "2001-03-14"], ["phone", "0838000776"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.871167 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.872155 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.873149 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.874213 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.875026 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.876240 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.877175 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.878032 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.878994 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.879954 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.880884 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.881723 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.882862 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.883704 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.884477 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.885489 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.886576 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.887557 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.888548 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.893013 #1819] DEBUG -- :   [1m[36mAssignment Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.894317 #1819] DEBUG -- :   [1m[36mAssignment Create (0.5ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:30.895001 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.896131 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.897200 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.898118 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.899032 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.900255 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.901092 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.901845 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.902973 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.903934 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.904854 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.905639 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.906716 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.907500 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:30.908197 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.909135 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.910312 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.911337 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.912171 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.913388 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.914415 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.915120 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.917220 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.918116 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.920063 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.920842 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.921475 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.922105 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.922616 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.923000 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.923542 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.924005 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.924412 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.924995 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.925555 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.925952 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.926489 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.926958 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.927424 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.927974 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.928428 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.928866 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.929364 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.929929 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.930352 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.930918 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.931409 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.931900 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.932490 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.932948 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.933386 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.933961 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.934453 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.934813 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.935432 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:30.935890 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.936322 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.936817 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:30.937315 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.937797 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.938337 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:30.938852 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.939206 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.939762 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:30.940273 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.940705 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.941290 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:30.941842 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.942305 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.942795 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:30.943332 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.943740 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.944221 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:30.944743 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.945350 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:30.946105 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:30.946386 #1819]  INFO -- : ----------------------------------------------------------------------------------
I, [2020-03-14T12:05:30.946427 #1819]  INFO -- : AssignmentTest: test_: Given context should not terminate a completed assignment. 
I, [2020-03-14T12:05:30.946449 #1819]  INFO -- : ----------------------------------------------------------------------------------
D, [2020-03-14T12:05:30.946985 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.947940 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.949049 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8825028679"], ["active", 1]]
D, [2020-03-14T12:05:30.949913 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.950606 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.951523 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.952395 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:30.953263 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.953993 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.954825 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.955670 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3317739130"], ["active", 0]]
D, [2020-03-14T12:05:30.956482 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.957297 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.958292 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037241458"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.959342 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "037241458"], ["date_of_birth", "2001-03-14"], ["phone", "8951293120"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.960335 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.961187 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.962361 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.963532 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8966070253"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.964670 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.965548 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.966461 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "051576032"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.967336 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "051576032"], ["date_of_birth", "2004-03-14"], ["phone", "9707979580"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:30.968215 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.969025 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.970097 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371254939"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.971225 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "371254939"], ["date_of_birth", "1994-03-14"], ["phone", "9085788928"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:30.972079 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.973076 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.974125 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.975194 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.976179 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.977103 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.978089 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.979047 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4198550248"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:30.980024 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.981130 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.982267 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125252011"], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.983267 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "125252011"], ["date_of_birth", "2001-03-14"], ["phone", "3229135032"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:30.984191 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.985197 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.986324 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.987300 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.988071 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.989287 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.990303 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:30.991121 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.992157 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.993098 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.994111 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:30.994924 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.996090 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:30.996881 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:30.997572 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.998649 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:30.999676 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.000607 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.001361 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.002833 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.003631 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.004314 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.005329 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.006388 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.007280 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.008087 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.009211 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.010176 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.010888 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.011813 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.012708 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.013581 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.014388 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.015628 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.016400 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.017067 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.018043 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.018984 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.019882 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.020675 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.021953 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.022702 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.023322 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.023965 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.024547 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.025054 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.025457 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.025984 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.026487 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.026867 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.027384 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.027852 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.028252 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.028731 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.029185 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.029575 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.030190 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.030667 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.031042 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.031586 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.032064 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.032406 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.032892 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.033337 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.033791 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.034292 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.034758 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.035131 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.035642 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.036101 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.036491 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.036983 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.037424 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.037879 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.038336 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.038832 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.039264 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.039820 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.040297 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.040707 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.041213 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.041743 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.042093 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.042598 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.043075 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.043500 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.044001 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.044480 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.044826 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.045344 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.045881 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.046521 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.047113 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.047334 #1819]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.047385 #1819]  INFO -- : AssignmentTest: test_: Given context should terminate an assignment effectively as of today. 
I, [2020-03-14T12:05:31.047416 #1819]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.047960 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.048960 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.050085 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2628011228"], ["active", 1]]
D, [2020-03-14T12:05:31.050958 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.051708 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.052559 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.053539 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.054404 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.055155 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.056006 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.056903 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5762525147"], ["active", 0]]
D, [2020-03-14T12:05:31.057882 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.058779 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.059882 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "196004383"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.060982 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "196004383"], ["date_of_birth", "2001-03-14"], ["phone", "7811830858"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.061993 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.063061 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.064023 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.065022 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3001293860"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.066072 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.067014 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.068022 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371718483"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.068980 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "371718483"], ["date_of_birth", "2004-03-14"], ["phone", "6402984823"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.069981 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.070928 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.071856 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367645644"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.072816 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "367645644"], ["date_of_birth", "1994-03-14"], ["phone", "4613730980"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.073739 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.074758 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.075772 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.076707 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.077666 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.078653 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.079664 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.080584 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3421239007"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.081579 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.082451 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.083375 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223924751"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.084290 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "223924751"], ["date_of_birth", "2001-03-14"], ["phone", "1327056815"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.085221 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.086178 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.087186 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.088106 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.088917 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.090097 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.091040 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.091753 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.092730 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.093667 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.094496 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.095312 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.096484 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.097296 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.098459 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.099533 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.100420 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.101329 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.102212 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.103389 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.104161 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.104791 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.105826 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.106761 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.107638 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.108382 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.109517 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.110400 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.111171 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.112056 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.112865 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.113811 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.114639 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.115755 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.116529 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.117214 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.118155 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.119034 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.119914 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.120731 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.121951 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.122786 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.123458 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.124015 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.125112 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.125922 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.126709 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.127593 #1819] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-14"], ["id", 6]]
D, [2020-03-14T12:05:31.128253 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.129054 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.129823 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.130357 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.130857 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.131235 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.131813 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.132404 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.132887 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.133561 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.134085 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.134456 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.134989 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.135446 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.135923 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.136423 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.136929 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.137307 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.137875 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.138454 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.139001 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.139519 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.140207 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.140650 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.141133 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.141627 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.142027 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.142608 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.143168 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.143550 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.144052 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.144526 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.144904 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.145368 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.145866 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.146298 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.146813 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.147316 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.147696 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.148200 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.148728 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.149107 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.149745 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.150225 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.150641 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.151146 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.151628 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.152010 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.152502 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.152981 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.153592 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.154215 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.154484 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.154521 #1819]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by store name. 
I, [2020-03-14T12:05:31.154542 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.155020 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.156007 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.157066 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2072632585"], ["active", 1]]
D, [2020-03-14T12:05:31.158030 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.158816 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.159714 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.160799 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.161812 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.162666 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.165986 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.166972 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9450063318"], ["active", 0]]
D, [2020-03-14T12:05:31.167877 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.168781 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.169808 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332714573"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.170818 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332714573"], ["date_of_birth", "2001-03-14"], ["phone", "9439800683"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.171762 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.172765 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.173836 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.174776 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5726404128"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.175635 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.176512 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.177487 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "185299066"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.178419 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "185299066"], ["date_of_birth", "2004-03-14"], ["phone", "5604029047"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.179299 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.180197 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.181140 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "176291893"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.182069 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "176291893"], ["date_of_birth", "1994-03-14"], ["phone", "0731717819"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.182941 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.183879 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.184905 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.185815 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.186702 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.187653 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.188642 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.189563 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5976309468"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.190474 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.191363 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.192367 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "353355128"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.193245 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "353355128"], ["date_of_birth", "2001-03-14"], ["phone", "4767002099"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.194211 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.195180 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.196151 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.197047 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.197886 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.199150 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.200094 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.200909 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.202043 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.203058 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.203998 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.204775 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.205976 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.206835 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.207649 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.208655 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.209617 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.210558 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.211358 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.212559 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.213380 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.214159 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.215234 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.216164 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.216995 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.217819 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.218945 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.219747 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.220419 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.221378 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.222337 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.223273 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.224086 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.225272 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.226117 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.226806 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.227789 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.228770 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.229875 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.230686 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.231929 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.232750 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.233450 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.234509 #1819] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" ORDER BY name[0m
D, [2020-03-14T12:05:31.235667 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.236522 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.237339 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.238221 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.239060 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.239896 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.240592 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.241226 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.241781 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.242137 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.242642 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.243120 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.243522 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.244043 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.244499 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.244862 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.245332 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.245895 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.246250 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.246764 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.247286 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.247677 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.248163 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.248660 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.249042 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.249531 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.250008 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.250411 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.250913 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.251374 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.251760 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.252259 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.252716 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.253093 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.253575 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.254089 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.254480 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.254984 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.255455 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.255809 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.256340 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.256833 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.257225 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.257758 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.258198 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.258552 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.259046 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.259498 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.259875 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.260386 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.260922 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.261290 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.261783 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.262323 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.262959 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.263649 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.263868 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.263904 #1819]  INFO -- : AssignmentTest: test_: Given context should allow for a end date in the past (or today) but after the start date. 
I, [2020-03-14T12:05:31.263924 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.264486 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.265455 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.266508 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6326179449"], ["active", 1]]
D, [2020-03-14T12:05:31.267346 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.268089 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.268903 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.269793 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.270663 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.271382 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.272185 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.273063 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5213171344"], ["active", 0]]
D, [2020-03-14T12:05:31.273948 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.274794 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.275848 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078147695"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.276815 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "078147695"], ["date_of_birth", "2001-03-14"], ["phone", "2373144855"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.277690 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.278668 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.279669 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.280681 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9470343352"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.281580 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.282548 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.283530 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "171281775"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.284431 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "171281775"], ["date_of_birth", "2004-03-14"], ["phone", "8290574933"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.285314 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.286220 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.287145 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223494526"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.288028 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "223494526"], ["date_of_birth", "1994-03-14"], ["phone", "3337759252"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.288914 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.289881 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.290815 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.291720 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.292601 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.293534 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.294552 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.295488 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8061296088"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.296394 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.297309 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.298328 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291546610"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.299276 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "291546610"], ["date_of_birth", "2001-03-14"], ["phone", "3789094760"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.300184 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.301160 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.302172 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.303098 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.303872 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.305034 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.305975 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.306762 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.307821 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.308764 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.309716 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.310566 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.311745 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.312523 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.313183 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.314207 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.315236 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.316095 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.316967 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.318223 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.319005 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.319654 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.320617 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.321516 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.322384 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.323142 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.324284 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.325096 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.325837 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.326762 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.327634 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.328545 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.329355 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.330511 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.331324 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.331942 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.332880 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.333745 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.334689 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.335492 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.336678 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.337513 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.338220 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.339857 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.340716 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.342127 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.342992 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.343668 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.344270 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.344868 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.345292 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.345942 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.346508 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.346883 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.347452 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.347906 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.348315 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.348879 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.349400 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.349889 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.350438 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.350917 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.351290 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.351796 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.352275 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.352638 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.353116 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.353579 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.353992 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.354512 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.354993 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.355374 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.355865 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.356369 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.356810 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.357312 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.357924 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.358297 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.358858 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.359371 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.359777 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.360362 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.360862 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.361244 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.361801 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.362308 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.362746 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.363287 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.363774 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.364121 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.364608 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.365073 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.365435 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.366010 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.366522 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.367196 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.367876 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.368128 #1819]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.368223 #1819]  INFO -- : AssignmentTest: test_: Given context should identify a non-active employee as part of an invalid assignment. 
I, [2020-03-14T12:05:31.368254 #1819]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.368731 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.369731 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.370873 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0100043754"], ["active", 1]]
D, [2020-03-14T12:05:31.371761 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.372499 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.373330 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.374245 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.375165 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.375864 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.376676 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.377573 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2059825934"], ["active", 0]]
D, [2020-03-14T12:05:31.378507 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.379336 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.380250 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246575516"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.381228 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "246575516"], ["date_of_birth", "2001-03-14"], ["phone", "8848842365"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.382165 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.383052 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.383929 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.384830 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7482115217"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.385885 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.386844 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.387723 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326012162"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.388653 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "326012162"], ["date_of_birth", "2004-03-14"], ["phone", "3953576599"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.389604 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.390544 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.391449 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147707842"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.392357 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "147707842"], ["date_of_birth", "1994-03-14"], ["phone", "1552444267"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.393319 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.394342 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.395833 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.397698 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.398782 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.399842 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.400907 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.401844 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2464979126"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.402853 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.403756 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.404660 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001812796"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.405606 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "001812796"], ["date_of_birth", "2001-03-14"], ["phone", "0991769608"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.406607 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.407575 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.408552 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.409452 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.410294 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.411546 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.412494 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.413222 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.414225 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.415195 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.416133 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.416926 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.418177 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.418964 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.419666 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.420653 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.421663 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.422610 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.423390 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.424685 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.425722 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.428969 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.430018 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.431004 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.431863 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.432655 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.433830 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.434670 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.435443 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.436370 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.437234 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.438097 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.438838 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.439961 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.440765 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.441390 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.442326 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.443125 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.443955 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.444728 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.445901 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.446687 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.447294 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.449497 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.450443 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.451057 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.451609 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.452080 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.452452 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.452996 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.453514 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.453979 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.454502 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.454985 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.455396 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.455892 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.456404 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.456769 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.457269 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.457803 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.458193 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.458735 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.459194 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.459617 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.460154 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.460649 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.461015 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.461499 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.461972 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.462365 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.462895 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.463403 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.463793 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.464312 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.464808 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.465227 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.465794 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.466282 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.466702 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.467216 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.467736 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.468155 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.468738 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.469252 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.469720 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.470232 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.470786 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.471153 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.471703 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.472230 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.472605 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.473137 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.473608 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.474263 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.474953 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.475203 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.475249 #1819]  INFO -- : AssignmentTest: test_: Given context should identify a non-active store as part of an invalid assignment. 
I, [2020-03-14T12:05:31.475270 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.475844 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.476856 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.478080 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0828037147"], ["active", 1]]
D, [2020-03-14T12:05:31.479083 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.479853 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.480694 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.481533 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.482425 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.483106 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.483887 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.484758 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8750679298"], ["active", 0]]
D, [2020-03-14T12:05:31.485635 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.486474 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.487403 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "230244968"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.488380 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "230244968"], ["date_of_birth", "2001-03-14"], ["phone", "4585244805"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.489301 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.490264 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.491221 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.492143 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6874360207"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.493101 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.494038 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.495033 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "251584231"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.495942 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "251584231"], ["date_of_birth", "2004-03-14"], ["phone", "3507780285"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.496871 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.497748 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.498704 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221684813"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.499682 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "221684813"], ["date_of_birth", "1994-03-14"], ["phone", "0320732671"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.500547 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.501553 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.502542 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.503442 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.504400 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.505369 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.506412 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.507336 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9204812572"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.508302 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.509197 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.510245 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "017125046"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.511150 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "017125046"], ["date_of_birth", "2001-03-14"], ["phone", "6583182449"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.512102 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.513076 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.514080 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.514924 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.515735 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.516919 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.517800 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.518570 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.519444 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.520370 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.521190 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.522044 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.523191 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.523991 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.524663 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.525540 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.526394 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.527263 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.528031 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.529134 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.529937 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.530699 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.531697 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.532579 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.533389 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.534244 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.535383 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.536170 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.536892 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.537788 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.538704 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.539589 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.540369 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.541526 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.542284 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.542962 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.543898 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.544783 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.545640 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.546465 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.547563 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.548374 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.549082 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.550429 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.551255 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.551891 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.552465 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.552972 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.553386 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.553955 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.554462 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.554846 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.555396 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.555844 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.556192 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.556684 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.557184 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.557601 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.558152 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.558638 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.559039 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.559517 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.559996 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.560423 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.560960 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.561441 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.561934 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.562481 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.562969 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.563325 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.563830 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.564301 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.564723 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.565195 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.565670 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.566057 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.566573 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.567059 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.567436 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.567939 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.568407 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.568822 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.569350 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.569881 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.570265 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.570831 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.571314 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.571709 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.572192 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.572756 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.573128 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.573676 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.574191 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.574842 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.575504 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.575743 #1819]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.575781 #1819]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹Sat, 21 Mar 2020â€º. 
I, [2020-03-14T12:05:31.575812 #1819]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.578616 #1819] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.579371 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.579996 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.580582 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.580842 #1819]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.580879 #1819]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_role' that works. 
I, [2020-03-14T12:05:31.580900 #1819]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.581388 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.582424 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.583563 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6868621559"], ["active", 1]]
D, [2020-03-14T12:05:31.584426 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.585167 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.586024 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.586931 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.587791 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.588508 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.589358 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.590234 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2143907842"], ["active", 0]]
D, [2020-03-14T12:05:31.591138 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.591994 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.592960 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "307437584"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.593956 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "307437584"], ["date_of_birth", "2001-03-14"], ["phone", "2307563915"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.594885 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.595706 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.596678 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.597603 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4314807133"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.598577 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.599419 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.600338 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113075389"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.601224 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "113075389"], ["date_of_birth", "2004-03-14"], ["phone", "2339585176"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.602121 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.603047 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.603915 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386120675"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.604807 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "386120675"], ["date_of_birth", "1994-03-14"], ["phone", "9263085774"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.605730 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.606692 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.607613 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.608557 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.609537 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.610495 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.611428 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.612336 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9966195523"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.613275 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.614223 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.615158 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038646169"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.616082 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "038646169"], ["date_of_birth", "2001-03-14"], ["phone", "5255047167"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.617003 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.617967 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.618925 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.619847 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.620675 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.621912 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.622839 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.623575 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.624590 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.625552 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.626481 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.627318 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.628529 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.629314 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.630034 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.631019 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.631931 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.632808 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.633598 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.634797 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.635608 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.636281 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.637277 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.638192 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.639079 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.639953 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.641068 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.641977 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.642732 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.643694 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.644620 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.645473 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.646276 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.647434 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.648306 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.649012 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.650004 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.650856 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.651728 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.652608 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.653844 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.654637 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.655363 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.656259 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')[0m
D, [2020-03-14T12:05:31.657068 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
D, [2020-03-14T12:05:31.657497 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.658072 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.658679 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.659084 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.659633 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.660169 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.660583 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.661107 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.661622 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.662186 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.662705 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.663217 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.663633 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.664143 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.664626 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.665011 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.665554 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.666087 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.666482 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.666996 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.667504 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.667901 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.668424 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.668894 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.669257 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.669801 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.670249 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.670626 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.671116 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.671617 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.671993 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.672495 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.672961 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.673325 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.673868 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.674611 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.675117 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.675838 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.676441 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.676827 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.677337 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.677887 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.678384 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.678977 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.679538 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.680040 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.680609 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.681085 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.681727 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.682367 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.682664 #1819]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.682705 #1819]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_store' that works. 
I, [2020-03-14T12:05:31.682740 #1819]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.683292 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.684337 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.685518 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4829562721"], ["active", 1]]
D, [2020-03-14T12:05:31.686569 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.687306 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.688230 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.689179 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.692787 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.693790 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.694669 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.695706 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1186403192"], ["active", 0]]
D, [2020-03-14T12:05:31.696688 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.697614 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.698639 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198836499"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.699665 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "198836499"], ["date_of_birth", "2001-03-14"], ["phone", "1810883223"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.700688 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.701591 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.702614 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.703497 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2724934930"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.704496 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.705297 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.706241 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "298076995"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.707173 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "298076995"], ["date_of_birth", "2004-03-14"], ["phone", "8274171608"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.708106 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.709059 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.710053 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194378596"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.710996 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "194378596"], ["date_of_birth", "1994-03-14"], ["phone", "9132675859"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.711980 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.712925 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.713893 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.714816 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.715804 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.716787 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.717985 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.719011 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1910949695"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.720108 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.721056 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.722105 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077986723"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.723064 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "077986723"], ["date_of_birth", "2001-03-14"], ["phone", "3719817963"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.724044 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.724939 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.725960 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.726867 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.727682 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.728848 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.729773 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.730553 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.731534 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.732351 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.733258 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.734042 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.735233 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.736029 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.736668 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.737559 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.738452 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.739364 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.740233 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.741346 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.742239 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.742953 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.744009 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.744897 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.745796 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.746578 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.747720 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.748629 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.749324 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.750298 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.751125 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.752025 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.752774 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.753930 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.754743 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.755394 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.756343 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.757209 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.758071 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.759858 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.761112 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.762500 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.763208 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.764035 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
D, [2020-03-14T12:05:31.764766 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 2)[0m
D, [2020-03-14T12:05:31.765345 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.766050 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.766554 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.766957 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.767531 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.768042 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.768389 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.768931 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.769410 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.769821 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.770303 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.770806 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.771189 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.771726 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.772261 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.772651 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.773222 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.773787 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.774230 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.774739 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.775261 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.775709 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.776244 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.776766 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.777116 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.777758 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.778230 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.778617 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.779268 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.779727 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.780145 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.780637 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.781116 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.781613 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.782140 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.782676 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.783060 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.783599 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.784190 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.784607 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.785104 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.785662 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.786090 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.786642 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.787151 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.787519 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.788021 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.788512 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.789224 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.789945 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.790175 #1819]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:05:31.790211 #1819]  INFO -- : AssignmentTest: test_: Assignment should belong to employee. 
I, [2020-03-14T12:05:31.790231 #1819]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:05:31.790544 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.791062 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.791305 #1819]  INFO -- : ----------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.791340 #1819]  INFO -- : AssignmentTest: test_: Assignment should validate that :store_id cannot be empty/falsy. 
I, [2020-03-14T12:05:31.791361 #1819]  INFO -- : ----------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.794878 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.795785 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.796430 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.797052 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.797269 #1819]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.797305 #1819]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_employee' that works. 
I, [2020-03-14T12:05:31.797325 #1819]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.797851 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.798914 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.800057 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8510988819"], ["active", 1]]
D, [2020-03-14T12:05:31.801009 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.801947 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.802755 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.803846 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.804711 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.805360 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.806165 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.807001 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4212818018"], ["active", 0]]
D, [2020-03-14T12:05:31.807872 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.808708 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.809706 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "296920722"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.810703 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "296920722"], ["date_of_birth", "2001-03-14"], ["phone", "9691991233"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.811612 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.812427 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.813435 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.814365 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8656406167"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.815229 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.816101 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.817038 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342703053"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.818011 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "342703053"], ["date_of_birth", "2004-03-14"], ["phone", "6928907596"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.818936 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.819792 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.820680 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324276626"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.821573 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "324276626"], ["date_of_birth", "1994-03-14"], ["phone", "0060717259"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.822460 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.823377 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.824277 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.825190 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.826123 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.827009 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.828011 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.828947 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9991435248"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.829887 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.830810 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.831711 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098571516"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.832655 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "098571516"], ["date_of_birth", "2001-03-14"], ["phone", "1311269552"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.833547 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.834544 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.835777 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.837146 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.838103 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.839443 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.840329 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.841228 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.842221 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.843059 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.843904 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.844702 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.845827 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.846594 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.847220 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.848133 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.848979 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.849831 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.850629 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.851738 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.852513 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.853219 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.854454 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.855611 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.856735 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.857798 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.859162 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.860171 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.861051 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.862212 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.863088 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.864032 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.864864 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.865974 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.866760 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.867424 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.868628 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.869825 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.870948 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.871969 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.873517 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.874495 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.875217 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.875916 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
D, [2020-03-14T12:05:31.876556 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 6)[0m
D, [2020-03-14T12:05:31.877000 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.877620 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.878322 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.878894 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.879514 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.880059 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.880455 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.880939 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.881485 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.881875 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.882405 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.883032 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.883550 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.884160 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.884847 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.885292 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.885836 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.886418 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.886797 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.887437 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.887909 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.888287 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.888964 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.889437 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.889916 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.890484 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.890989 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.891377 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.891903 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.892392 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.892817 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.893344 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.893902 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.894289 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.894888 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.895396 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.895784 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.896311 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:31.896839 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.897216 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.897803 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.898276 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.898676 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.899195 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.899885 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.900357 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.900932 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.901414 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.902119 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.902716 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.902964 #1819]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.903001 #1819]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹"bad"â€º. 
I, [2020-03-14T12:05:31.903022 #1819]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.905958 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.906742 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.907364 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:31.907977 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:31.908192 #1819]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:31.908227 #1819]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all past assignments for a store or employee. 
I, [2020-03-14T12:05:31.908247 #1819]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:31.908735 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.909712 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.910873 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6510285041"], ["active", 1]]
D, [2020-03-14T12:05:31.911757 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.912476 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.913247 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.914237 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:31.915204 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.915986 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.916862 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.917773 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5995083522"], ["active", 0]]
D, [2020-03-14T12:05:31.918717 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.919503 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.920487 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "020122161"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.921521 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "020122161"], ["date_of_birth", "2001-03-14"], ["phone", "0366582010"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.922392 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.923274 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.924239 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.925194 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7559642860"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.926129 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.927029 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.927993 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072377456"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.928978 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "072377456"], ["date_of_birth", "2004-03-14"], ["phone", "1697791128"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:31.929970 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.930908 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.931898 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "076461733"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.932861 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "076461733"], ["date_of_birth", "1994-03-14"], ["phone", "6157827225"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:31.933879 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.934825 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.935765 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.936735 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.937737 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.938704 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.939693 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.940622 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2249025063"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:31.941559 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.942450 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.943428 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172723616"], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.944323 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "172723616"], ["date_of_birth", "2001-03-14"], ["phone", "5254266122"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:31.945299 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.946255 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.947243 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.948160 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.948982 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.950224 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.951151 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:31.951938 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.952868 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.953748 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.954705 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.955537 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.956755 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.957617 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.958419 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.961816 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.962809 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.963667 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.964428 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.965621 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.966460 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:31.967131 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.968118 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.968954 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.969855 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.970668 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.971770 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.972650 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.973323 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.974277 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.975152 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.975987 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.976770 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.977881 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.978674 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:31.979333 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.980209 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.981031 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.981844 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:31.982740 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.983870 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:31.984665 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:31.985354 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.986068 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:05:31.986772 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:05:31.987439 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:05:31.988089 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 2)[0m
D, [2020-03-14T12:05:31.988506 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.989130 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.989697 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.990097 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.990672 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:31.991294 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.991774 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.992427 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:31.992963 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.993386 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.993932 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:31.994442 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.994812 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.995338 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:31.995944 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.996353 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.996919 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:31.997379 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.997813 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.998338 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:31.998871 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.999409 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:31.999910 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.000405 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.000772 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.001289 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.001806 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.002203 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.002715 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.003184 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.003579 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.004146 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.004641 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.005090 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.005639 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.006190 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.006618 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.007123 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.007698 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.008121 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.008638 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.009182 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.009633 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.010148 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.010627 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.011106 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.011582 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.012121 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.012710 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.013929 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.014272 #1819]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:05:32.014324 #1819]  INFO -- : StoreTest: test_: Store should have many employees through assignments. 
I, [2020-03-14T12:05:32.014358 #1819]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:05:32.015886 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.016446 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.016667 #1819]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:05:32.016702 #1819]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹nilâ€º. 
I, [2020-03-14T12:05:32.016722 #1819]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:05:32.020095 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.020691 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.021323 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.021549 #1819]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:05:32.021586 #1819]  INFO -- : StoreTest: test_: Given context should have all active stores accounted for. 
I, [2020-03-14T12:05:32.021606 #1819]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:05:32.022132 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.022982 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.024139 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1793403259"], ["active", 1]]
D, [2020-03-14T12:05:32.025101 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.025833 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.026726 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.027642 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.028639 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.029355 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.030151 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.031067 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1367214440"], ["active", 0]]
D, [2020-03-14T12:05:32.031989 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.032827 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.033563 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.034346 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.034922 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.035534 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.036015 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.036467 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.036993 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.037535 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.037944 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.038566 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.039038 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.039674 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.040327 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.040560 #1819]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.040597 #1819]  INFO -- : StoreTest: test_: Given context should have all inactive stores accounted for. 
I, [2020-03-14T12:05:32.040618 #1819]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.041113 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.042148 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.043416 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1271209170"], ["active", 1]]
D, [2020-03-14T12:05:32.044545 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.045405 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.046313 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.047287 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.048250 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.049046 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.049881 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.050809 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1678376577"], ["active", 0]]
D, [2020-03-14T12:05:32.051767 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.052625 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.053458 #1819] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.054293 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.054904 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.055432 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.056004 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.056387 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.056921 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.057512 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.057935 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.058465 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.058945 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.059609 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.060274 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.060512 #1819]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:05:32.060548 #1819]  INFO -- : StoreTest: test_: Store should validate that :name cannot be empty/falsy. 
I, [2020-03-14T12:05:32.060569 #1819]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:05:32.063788 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.064411 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.064966 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.065205 #1819]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:05:32.065240 #1819]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:05:32.065261 #1819]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:05:32.068033 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.068633 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.069227 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.069535 #1819]  INFO -- : -----------------------------------------------------------
I, [2020-03-14T12:05:32.069574 #1819]  INFO -- : StoreTest: test_: Store should allow :zip to be â€¹"15213"â€º. 
I, [2020-03-14T12:05:32.069608 #1819]  INFO -- : -----------------------------------------------------------
D, [2020-03-14T12:05:32.071921 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.072511 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.073066 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.073310 #1819]  INFO -- : ------------------------------------------------------
I, [2020-03-14T12:05:32.073363 #1819]  INFO -- : StoreTest: test_: Store should have many assignments. 
I, [2020-03-14T12:05:32.073396 #1819]  INFO -- : ------------------------------------------------------
D, [2020-03-14T12:05:32.073742 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.074284 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.074543 #1819]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:05:32.074579 #1819]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:05:32.074599 #1819]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:05:32.077464 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.078024 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.078707 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.078919 #1819]  INFO -- : ----------------------------------------------------------------
I, [2020-03-14T12:05:32.078954 #1819]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"152134"â€º. 
I, [2020-03-14T12:05:32.078973 #1819]  INFO -- : ----------------------------------------------------------------
D, [2020-03-14T12:05:32.081367 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.081970 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.082586 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.082800 #1819]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:05:32.082855 #1819]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"15213-0983"â€º. 
I, [2020-03-14T12:05:32.082904 #1819]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:05:32.085408 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.086026 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.086555 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.086856 #1819]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:05:32.086895 #1819]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"1512"â€º. 
I, [2020-03-14T12:05:32.086916 #1819]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:05:32.089742 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.090383 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.091164 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.091482 #1819]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:05:32.091546 #1819]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:05:32.091572 #1819]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:05:32.094688 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.095232 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.095832 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.096095 #1819]  INFO -- : ---------------------------------------------------------------
I, [2020-03-14T12:05:32.096134 #1819]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"bad"â€º. 
I, [2020-03-14T12:05:32.096154 #1819]  INFO -- : ---------------------------------------------------------------
D, [2020-03-14T12:05:32.099150 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.099755 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.100433 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.100688 #1819]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:05:32.100726 #1819]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:05:32.100777 #1819]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:05:32.103342 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.103902 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.104567 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.104824 #1819]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.104864 #1819]  INFO -- : StoreTest: test_: Store should validate that :name is case-insensitively unique. 
I, [2020-03-14T12:05:32.104885 #1819]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.105551 #1819] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.106156 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.107007 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("phone") VALUES (?)[0m  [["phone", ""]]
D, [2020-03-14T12:05:32.107580 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.108002 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.108760 #1819] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ? WHERE "stores"."id" = ?[0m  [["name", "an arbitrary value"], ["id", 1]]
D, [2020-03-14T12:05:32.109277 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.112201 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.115359 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "AN ARBITRARY VALUE"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.116543 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.117201 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.117428 #1819]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:05:32.117463 #1819]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:05:32.117495 #1819]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:05:32.119829 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.120393 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.120979 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.121257 #1819]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:05:32.121294 #1819]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"PA"â€º. 
I, [2020-03-14T12:05:32.121313 #1819]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:05:32.123758 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.124346 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.124932 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.125144 #1819]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.125179 #1819]  INFO -- : StoreTest: test_: Given context should shows that Oakland's phone is stripped of non-digits. 
I, [2020-03-14T12:05:32.125198 #1819]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.125730 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.126648 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.127791 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8399595123"], ["active", 1]]
D, [2020-03-14T12:05:32.128758 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.129537 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.130420 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.131322 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.132174 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.132979 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.133856 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.134778 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9812578797"], ["active", 0]]
D, [2020-03-14T12:05:32.135755 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.136202 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.136806 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.137356 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.137768 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.138284 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.138779 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.139202 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.139760 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.140230 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.140793 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.141347 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.141616 #1819]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:05:32.141669 #1819]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:05:32.141697 #1819]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:05:32.144138 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.144695 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.145384 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.145608 #1819]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:05:32.145662 #1819]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"CA"â€º. 
I, [2020-03-14T12:05:32.145712 #1819]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:05:32.148150 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.148721 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.149285 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.149541 #1819]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:05:32.149578 #1819]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"NY"â€º. 
I, [2020-03-14T12:05:32.149598 #1819]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:05:32.152022 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.152573 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.153132 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.153344 #1819]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:05:32.153392 #1819]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:05:32.153415 #1819]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:05:32.155575 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.156115 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.156679 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.156916 #1819]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:05:32.156951 #1819]  INFO -- : StoreTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:05:32.156971 #1819]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:05:32.157508 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.158383 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.159412 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6657874888"], ["active", 1]]
D, [2020-03-14T12:05:32.160313 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.161027 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.161907 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.162814 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.163694 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.164384 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.165172 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.166049 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1745169207"], ["active", 0]]
D, [2020-03-14T12:05:32.167096 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.167538 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.168560 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "Hazelwood"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.169466 #1819] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 1], ["id", 3]]
D, [2020-03-14T12:05:32.170633 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.171341 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.172013 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.172722 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.173222 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.173782 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.174340 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.174897 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.175327 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.175930 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.176558 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.177196 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.177841 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.178163 #1819]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:05:32.178204 #1819]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:05:32.178225 #1819]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:05:32.181248 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.181839 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.182581 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.182841 #1819]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:05:32.182880 #1819]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:05:32.182901 #1819]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:05:32.186295 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.186949 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.187587 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.187849 #1819]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:05:32.187885 #1819]  INFO -- : StoreTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:05:32.187905 #1819]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:05:32.188490 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.189570 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.190911 #1819] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1953486817"], ["active", 1]]
D, [2020-03-14T12:05:32.192000 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.192849 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.193743 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.194619 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.195480 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.196387 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.197384 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.198467 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9220616553"], ["active", 0]]
D, [2020-03-14T12:05:32.199363 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.199866 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.200479 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.201042 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.201458 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.202122 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.202776 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.203171 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.203696 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.204188 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.204750 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.205530 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.205796 #1819]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:05:32.205835 #1819]  INFO -- : StoreTest: test_: Store should validate that :city cannot be empty/falsy. 
I, [2020-03-14T12:05:32.205856 #1819]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:05:32.209006 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.209776 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.210407 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.210773 #1819]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:05:32.210827 #1819]  INFO -- : StoreTest: test_: Given context should list stores alphabetically. 
I, [2020-03-14T12:05:32.210851 #1819]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:05:32.211402 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.212247 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.213276 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2291696880"], ["active", 1]]
D, [2020-03-14T12:05:32.214289 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.215010 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.216032 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.216897 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.217856 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.218638 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.219598 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.220464 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2872070339"], ["active", 0]]
D, [2020-03-14T12:05:32.221614 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.222501 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" ORDER BY name[0m
D, [2020-03-14T12:05:32.223150 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.223742 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.224260 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.224675 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.225230 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.225774 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.226205 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.226853 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.227433 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.228075 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.228796 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.229051 #1819]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:05:32.229087 #1819]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:05:32.229108 #1819]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:05:32.232158 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.232842 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.233538 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.233818 #1819]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:05:32.233864 #1819]  INFO -- : StoreTest: test_: Store should validate that :street cannot be empty/falsy. 
I, [2020-03-14T12:05:32.233884 #1819]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:05:32.236951 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.237489 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.238147 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.238444 #1819]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:05:32.238497 #1819]  INFO -- : StoreTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:05:32.238521 #1819]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:05:32.239078 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.240026 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.241099 #1819] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6223019011"], ["active", 1]]
D, [2020-03-14T12:05:32.242030 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.242711 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.243522 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.244426 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.245352 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.246107 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.246902 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.247820 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9969518902"], ["active", 0]]
D, [2020-03-14T12:05:32.248953 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.249413 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.250382 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "CMU"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.251320 #1819] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 0], ["id", 1]]
D, [2020-03-14T12:05:32.251891 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.252729 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.253610 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.254332 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.254963 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.255381 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.255999 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.256569 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.256987 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.257516 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.258189 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.258811 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.259538 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.259797 #1819]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:05:32.259837 #1819]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:05:32.259859 #1819]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:05:32.265829 #1819] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.266550 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.267326 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.267595 #1819]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:05:32.267632 #1819]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"OH"â€º. 
I, [2020-03-14T12:05:32.267652 #1819]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:05:32.270207 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.270780 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.271334 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.271582 #1819]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:05:32.271618 #1819]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹10â€º. 
I, [2020-03-14T12:05:32.271638 #1819]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:05:32.274254 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.274902 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.275658 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.275881 #1819]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:05:32.275916 #1819]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"WV"â€º. 
I, [2020-03-14T12:05:32.275935 #1819]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:05:32.278399 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.279016 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.279550 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.279836 #1819]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:05:32.279906 #1819]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"bad"â€º. 
I, [2020-03-14T12:05:32.279934 #1819]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:05:32.282327 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.282873 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.284001 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.284264 #1819]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:05:32.284302 #1819]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-03-14T12:05:32.284323 #1819]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:05:32.285236 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.285845 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.286095 #1819]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.286138 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:05:32.286187 #1819]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.289725 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.290649 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.291214 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.291515 #1819]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.291555 #1819]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-03-14T12:05:32.291576 #1819]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.295942 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.296892 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.297532 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.297818 #1819]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:05:32.297859 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:05:32.297880 #1819]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:05:32.300794 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.301625 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.302250 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.302517 #1819]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:05:32.302554 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-03-14T12:05:32.302576 #1819]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:05:32.305088 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.306017 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.306616 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.306863 #1819]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:05:32.306898 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-03-14T12:05:32.306919 #1819]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:05:32.309932 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.310664 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.311237 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.311462 #1819]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.311509 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:05:32.311531 #1819]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.314852 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.315829 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.316579 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.316830 #1819]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:05:32.316866 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-03-14T12:05:32.316886 #1819]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:05:32.319510 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.320365 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.321084 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.321405 #1819]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.321494 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:05:32.321525 #1819]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.324817 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.325826 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.326491 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.326812 #1819]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:05:32.326856 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:05:32.326877 #1819]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:05:32.329992 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.330856 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.331517 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.331769 #1819]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:05:32.331810 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:05:32.331830 #1819]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:05:32.334999 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.335896 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.336458 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.336706 #1819]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.336743 #1819]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-03-14T12:05:32.336763 #1819]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.337375 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.338443 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "197696415"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.339624 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "197696415"], ["date_of_birth", "2001-03-14"], ["phone", "1648714403"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.340570 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.341437 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.342395 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.343355 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5967578422"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.344250 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.345084 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.346000 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "387366678"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.346955 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "387366678"], ["date_of_birth", "2004-03-14"], ["phone", "4745296692"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.347899 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.348802 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.349792 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200367141"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.350720 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "200367141"], ["date_of_birth", "1994-03-14"], ["phone", "5466012590"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.351664 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.352572 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.353441 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.354373 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.355273 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.356224 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.357099 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.358129 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7067514978"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.359097 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.359951 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.360804 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "255271100"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.361809 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "255271100"], ["date_of_birth", "2001-03-14"], ["phone", "0793324077"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.362751 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.363187 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.363776 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.364245 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.364607 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.365099 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.365583 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.365990 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.366507 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.366977 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.367390 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.367893 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.368408 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.368833 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.369343 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.369855 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.370339 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.370875 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.371432 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.371899 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.372388 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.372870 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.373445 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.374123 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.374348 #1819]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.374383 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Tue, 14 Mar 2006â€º. 
I, [2020-03-14T12:05:32.374436 #1819]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.377409 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.378339 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.378975 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.379229 #1819]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:05:32.379266 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-03-14T12:05:32.379288 #1819]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:05:32.382222 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.383095 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.383673 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.383891 #1819]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:05:32.383926 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-03-14T12:05:32.383947 #1819]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:05:32.386929 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.387879 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.388487 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.388810 #1819]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.388850 #1819]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-03-14T12:05:32.388871 #1819]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.392273 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.393229 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.393893 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.394120 #1819]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:05:32.394157 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:05:32.394177 #1819]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:05:32.397065 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.397950 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.398573 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.398793 #1819]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:05:32.398829 #1819]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-03-14T12:05:32.398849 #1819]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:05:32.399487 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.400535 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089575033"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.401668 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089575033"], ["date_of_birth", "2001-03-14"], ["phone", "4896175281"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.402565 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.403483 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.404427 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.405292 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1087945286"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.406268 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.407136 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.408079 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "142493666"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.409004 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "142493666"], ["date_of_birth", "2004-03-14"], ["phone", "4793831870"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.409993 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.410897 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.411821 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288489991"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.412703 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "288489991"], ["date_of_birth", "1994-03-14"], ["phone", "4994068651"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.413598 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.414501 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.415411 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.416335 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.417215 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.418216 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.419110 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.419986 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1661516261"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.420929 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.421795 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.422681 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "319482638"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.423521 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "319482638"], ["date_of_birth", "2001-03-14"], ["phone", "3381182946"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.424432 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.424871 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.425361 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.426839 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.427267 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.427777 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.428236 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.428642 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.429146 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.429663 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.430023 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.430534 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.431035 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.431388 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.431913 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.432396 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.432789 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.433301 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.433872 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.434221 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.434772 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.435271 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.435850 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.436518 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.436746 #1819]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.436782 #1819]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-03-14T12:05:32.436801 #1819]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.437460 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.438558 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "129914209"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.439640 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "129914209"], ["date_of_birth", "2001-03-14"], ["phone", "7590685411"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.440561 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.441450 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.442447 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.443364 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8219095710"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.444276 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.445130 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.446096 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342949888"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.447095 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "342949888"], ["date_of_birth", "2004-03-14"], ["phone", "7741759113"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.448033 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.449002 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.450072 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157573441"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.450992 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "157573441"], ["date_of_birth", "1994-03-14"], ["phone", "4476675708"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.451952 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.452956 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.454036 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.454987 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.455899 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.456911 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.457989 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.459019 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3117740740"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.459992 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.460922 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.461954 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386405057"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.462940 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "386405057"], ["date_of_birth", "2001-03-14"], ["phone", "1941481518"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.463993 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.464828 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.465539 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.466547 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.467276 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.467889 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.468429 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.468871 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.469416 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.469978 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.470399 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.470918 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.471401 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.471788 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.472278 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.472787 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.473183 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.473735 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.474251 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.474654 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.475116 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.475629 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.475976 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.476451 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.476943 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.477582 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.478282 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.478553 #1819]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:05:32.478590 #1819]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-03-14T12:05:32.478609 #1819]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:05:32.478988 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.479529 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.479802 #1819]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:05:32.479855 #1819]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:05:32.479881 #1819]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:05:32.480626 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.482129 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "257079591"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.483239 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "257079591"], ["date_of_birth", "2001-03-14"], ["phone", "1885771270"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.484193 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.485251 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.486419 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.487326 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1871064923"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.488296 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.489212 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.490260 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221860719"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.491259 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "221860719"], ["date_of_birth", "2004-03-14"], ["phone", "7808262508"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.492278 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.493227 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.494332 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143767871"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.495412 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "143767871"], ["date_of_birth", "1994-03-14"], ["phone", "7501604600"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.496310 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.497254 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.498306 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.499321 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.500273 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.501224 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.502229 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.503280 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3443054944"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.504287 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.505339 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.506389 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332643262"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.507430 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "332643262"], ["date_of_birth", "2001-03-14"], ["phone", "6498591916"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.508863 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.509381 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.510616 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "221860719"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.511860 #1819] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 0], ["id", 3]]
D, [2020-03-14T12:05:32.512469 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.513154 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.514019 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.514652 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.515187 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.515594 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.516135 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.516613 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.517052 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.517731 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.518343 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.518738 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.519252 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.519924 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.520334 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.520860 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.521403 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.521830 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.522384 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.523000 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.523412 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.523902 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.524531 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.525130 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.525829 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.526097 #1819]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:05:32.526172 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:05:32.526203 #1819]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:05:32.529237 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.530205 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.530872 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.531103 #1819]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.531139 #1819]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-03-14T12:05:32.531159 #1819]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.534943 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.536063 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.536759 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.536998 #1819]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.537078 #1819]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-03-14T12:05:32.537109 #1819]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.537854 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.539151 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086103463"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.540403 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "086103463"], ["date_of_birth", "2001-03-14"], ["phone", "3679753464"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.541501 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.542891 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.544045 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.545203 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0212636559"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.549466 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.550666 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.551883 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "254159282"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.552975 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "254159282"], ["date_of_birth", "2004-03-14"], ["phone", "2875885552"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.554061 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.554974 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.555926 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153349373"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.556841 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "153349373"], ["date_of_birth", "1994-03-14"], ["phone", "8133419407"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.557899 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.558820 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.559881 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.560948 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.562020 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.563228 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.564463 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.565421 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9947329462"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.566494 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.567374 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.568391 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "104412948"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.569426 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "104412948"], ["date_of_birth", "2001-03-14"], ["phone", "3046238963"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.570527 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.571249 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.571860 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.572439 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.572832 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.573442 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.574012 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.574404 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.574910 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.575395 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.575833 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.576333 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.576833 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.577301 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.577966 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.578429 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.578881 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.579431 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.579926 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.580336 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.580855 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.581329 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.581943 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.582524 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.582786 #1819]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.582823 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Mon, 14 Mar 2005â€º. 
I, [2020-03-14T12:05:32.582844 #1819]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.585820 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.586730 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.587409 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.587640 #1819]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.587676 #1819]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-03-14T12:05:32.587695 #1819]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.588308 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.589359 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335032464"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.590536 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "335032464"], ["date_of_birth", "2001-03-14"], ["phone", "8280267425"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.591503 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.592581 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.593674 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.594638 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1325026616"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.595574 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.596482 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.597429 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311877468"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.598370 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "311877468"], ["date_of_birth", "2004-03-14"], ["phone", "1637635084"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.599351 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.600301 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.601209 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "302679114"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.602158 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "302679114"], ["date_of_birth", "1994-03-14"], ["phone", "0924223175"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.603029 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.603962 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.604934 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.605951 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.606873 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.607855 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.608822 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.609818 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5110281091"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.610722 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.611630 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.612561 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054643680"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.613466 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "054643680"], ["date_of_birth", "2001-03-14"], ["phone", "9799616211"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.614379 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.615221 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:05:32.616010 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:05:32.616588 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.617161 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.617689 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.618097 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.618602 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.619079 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.619523 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.620052 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.620590 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.621023 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.621560 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.622083 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.622515 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.623015 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.623545 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.623917 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.624404 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.624905 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.625298 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.625902 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.626383 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.626977 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.627650 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.627919 #1819]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:05:32.627954 #1819]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:05:32.627973 #1819]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:05:32.628625 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.629756 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "141093896"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.630978 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "141093896"], ["date_of_birth", "2001-03-14"], ["phone", "2285991051"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.632081 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.633088 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.634121 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.635060 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8140980186"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.636188 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.637164 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.638203 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351957733"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.639248 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "351957733"], ["date_of_birth", "2004-03-14"], ["phone", "1061567847"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.640286 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.641167 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.642199 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "107058724"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.643136 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "107058724"], ["date_of_birth", "1994-03-14"], ["phone", "2244750516"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.644065 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.645039 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.646014 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.646911 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.647779 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.648662 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.649545 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.650502 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6103148694"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.651491 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.652385 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.653295 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087645011"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.654293 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "087645011"], ["date_of_birth", "2001-03-14"], ["phone", "9250266347"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.655267 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.655737 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.656712 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "107058724"], ["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.657689 #1819] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 1], ["id", 4]]
D, [2020-03-14T12:05:32.658395 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.659064 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.659801 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.660376 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.660862 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.661275 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.661784 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.662256 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.662638 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.663172 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.663679 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.664083 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.664603 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.665061 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.665469 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.666035 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.666521 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.666887 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.667397 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.667900 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.668282 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.668827 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.669332 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.670014 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.670726 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.670950 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.670986 #1819]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-03-14T12:05:32.671007 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.671703 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.672785 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "175544821"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.673957 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "175544821"], ["date_of_birth", "2001-03-14"], ["phone", "5901209444"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.674996 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.675903 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.676785 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.677766 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1603504527"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.678711 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.679571 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.680502 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "208424808"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.681376 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "208424808"], ["date_of_birth", "2004-03-14"], ["phone", "5912834977"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.682405 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.683301 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.684198 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "174081479"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.685215 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "174081479"], ["date_of_birth", "1994-03-14"], ["phone", "9640787316"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.686510 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.687481 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.688437 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.689436 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.690384 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.691341 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.692251 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.693173 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6145683233"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.694146 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.695077 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.696062 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252210488"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.697003 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "252210488"], ["date_of_birth", "2001-03-14"], ["phone", "6290623741"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.697951 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.698641 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.699520 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.700400 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5979605469"], ["active", 1]]
D, [2020-03-14T12:05:32.701324 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.702061 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.702832 #1819] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.703713 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:05:32.704612 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.705363 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.706273 #1819] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.707256 #1819] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5775897922"], ["active", 0]]
D, [2020-03-14T12:05:32.708146 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.709178 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.710199 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.711097 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.711885 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.713012 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.714023 #1819] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:05:32.714755 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.715719 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.716647 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.717493 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.718257 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.719459 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.720308 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:32.720991 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.721936 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.722792 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.723631 #1819] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.724417 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.725506 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.726306 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:05:32.727062 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.728159 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.729139 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.730045 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.730947 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.732115 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.732938 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:05:32.733784 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.734779 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.735720 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.736605 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.737361 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.738523 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.739336 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:05:32.739987 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.741099 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.742103 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.743056 #1819] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:05:32.743926 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.745052 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.745884 #1819] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:05:32.746623 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.747504 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.748359 #1819] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.749446 #1819] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 7], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.750076 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.750680 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.751228 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.751639 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.752156 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.752669 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.753052 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.753529 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.754118 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.754533 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.755060 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.755606 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.756017 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.756595 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.757124 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.757508 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.758105 #1819] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.758602 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.759002 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.759521 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.760019 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.760384 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.760921 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.761393 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.761823 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.762371 #1819] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.762849 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.763295 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.763814 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.764312 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.764741 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.765258 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.765832 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.766251 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.766770 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.767308 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.767766 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.768273 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.768839 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.769225 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.769754 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.770332 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.770784 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.771310 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.771814 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.772213 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.772744 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.773312 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.773961 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.774687 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.774921 #1819]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.774971 #1819]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-03-14T12:05:32.774991 #1819]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.775718 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.776873 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235911675"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.778277 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "235911675"], ["date_of_birth", "2001-03-14"], ["phone", "6745053214"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.779262 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.780247 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.781230 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.782263 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7231758600"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.783246 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.784179 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.785181 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154818638"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.786118 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "154818638"], ["date_of_birth", "2004-03-14"], ["phone", "1554843682"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.787017 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.787968 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.788864 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "361717750"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.789828 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "361717750"], ["date_of_birth", "1994-03-14"], ["phone", "1437684034"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.790818 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.791817 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.792807 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.793803 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.794778 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.795839 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.796856 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.797927 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0085707805"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.801277 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.802312 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.803323 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288430543"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.804292 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "288430543"], ["date_of_birth", "2001-03-14"], ["phone", "9696691427"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.805211 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.806059 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '2002-03-14')[0m
D, [2020-03-14T12:05:32.806940 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '2002-03-14') ORDER BY last_name, first_name[0m
D, [2020-03-14T12:05:32.807537 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.808111 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.808637 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.809028 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.809613 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.810135 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.810615 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.811148 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.811679 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.812089 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.812590 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.813099 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.813489 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.814052 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.814545 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.814935 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.815458 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.815964 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.816372 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.816914 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.817390 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.818006 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.818679 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.818908 #1819]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:05:32.818944 #1819]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-03-14T12:05:32.818964 #1819]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:05:32.819636 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.820756 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "197501003"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.821908 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "197501003"], ["date_of_birth", "2001-03-14"], ["phone", "7406668326"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.822844 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.823822 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.824804 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.825730 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3483493139"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.826666 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.827601 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.828540 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032140291"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.829548 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "032140291"], ["date_of_birth", "2004-03-14"], ["phone", "6064574203"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.830555 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.831444 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.832389 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195658588"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.833336 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "195658588"], ["date_of_birth", "1994-03-14"], ["phone", "9471635630"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.834288 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.835218 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.836157 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.837121 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.838043 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.838984 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.839891 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.840806 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6140022293"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.841670 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.842550 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.843545 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "341480909"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.844501 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "341480909"], ["date_of_birth", "2001-03-14"], ["phone", "8532272484"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.845404 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.846076 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:05:32.846740 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.847279 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.847820 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.848219 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.848776 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.849275 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.849740 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.850245 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.850728 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.851198 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.851804 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.852316 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.852726 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.853258 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.853770 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.854164 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.854663 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.855242 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.855616 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.856113 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.856622 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.857221 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.857943 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.858188 #1819]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.858226 #1819]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-03-14T12:05:32.858247 #1819]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.858935 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.860068 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281831924"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.861209 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "281831924"], ["date_of_birth", "2001-03-14"], ["phone", "1725895315"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.862127 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.863122 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.864076 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.865040 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3863894735"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.865933 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.866840 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.867779 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376020938"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.868754 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "376020938"], ["date_of_birth", "2004-03-14"], ["phone", "4309234155"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.869792 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.870747 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.871657 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087753492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.872680 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "087753492"], ["date_of_birth", "1994-03-14"], ["phone", "5696763884"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.873622 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.874604 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.875602 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.876552 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.877549 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.878469 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.879405 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.880321 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3693863281"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.881297 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.882646 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.883667 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "075479958"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.884623 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "075479958"], ["date_of_birth", "2001-03-14"], ["phone", "0488663686"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.885545 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.886263 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:05:32.886868 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:05:32.887413 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.887981 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.888552 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.888951 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.889446 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.889983 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.890389 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.890892 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.891334 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.891708 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.892185 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.892727 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.893078 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.893632 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.894160 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.894580 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.895129 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.895690 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.896078 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.896597 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.897072 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.897678 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.898292 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.898565 #1819]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:05:32.898601 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-03-14T12:05:32.898621 #1819]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:05:32.901511 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.902455 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.903109 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.903365 #1819]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.903416 #1819]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-03-14T12:05:32.903438 #1819]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.904103 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.905088 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "191023298"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.906216 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "191023298"], ["date_of_birth", "2001-03-14"], ["phone", "7353529597"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.907106 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.907978 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.908879 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.909786 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5285958381"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.910707 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.911569 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.912507 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342848947"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.913420 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "342848947"], ["date_of_birth", "2004-03-14"], ["phone", "4816694391"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.914348 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.915280 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.916322 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056030869"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.917272 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "056030869"], ["date_of_birth", "1994-03-14"], ["phone", "5551164103"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.918353 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.919285 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.920181 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.921146 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.922133 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.923067 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.923962 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.924941 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1073934827"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.925909 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.926800 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.927811 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "120718273"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.928709 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "120718273"], ["date_of_birth", "2001-03-14"], ["phone", "7398456207"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.929553 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.929996 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.930545 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.931042 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.931429 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.931960 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.932465 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.932862 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.933328 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.933946 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.934346 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.934862 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.935340 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.935741 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.936307 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.936884 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.937238 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.937778 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.938227 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.938632 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.939110 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.939565 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.940152 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.940880 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.941153 #1819]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.941193 #1819]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-03-14T12:05:32.941214 #1819]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.941931 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.943150 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "085914805"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.944319 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "085914805"], ["date_of_birth", "2001-03-14"], ["phone", "9143895056"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.945244 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.946182 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.947219 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.948138 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1341880500"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.948967 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.949865 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.950785 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069107612"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.951734 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "069107612"], ["date_of_birth", "2004-03-14"], ["phone", "5616651320"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.952609 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.953562 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.954510 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232800840"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.955390 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "232800840"], ["date_of_birth", "1994-03-14"], ["phone", "9181908976"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:32.956253 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.957152 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.958327 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.959192 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.960074 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.961103 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.962052 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.962938 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1794166815"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:32.963831 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.964727 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.965700 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283629448"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.966545 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "283629448"], ["date_of_birth", "2001-03-14"], ["phone", "3266315310"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:32.967418 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.967927 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.968480 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:32.968943 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.969337 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.969878 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:32.970370 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.970752 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.971244 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:32.971769 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.972142 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.972707 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:32.973219 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.973632 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.974209 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:32.974671 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.975057 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.975582 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:32.976101 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.976536 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.977057 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:32.977556 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.978219 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.978827 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.979102 #1819]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:05:32.979140 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Fri, 14 Mar 2003â€º. 
I, [2020-03-14T12:05:32.979175 #1819]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:05:32.982121 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.983047 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.983621 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.983879 #1819]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:05:32.983916 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:05:32.983937 #1819]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:05:32.986643 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:32.987533 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:32.988191 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:32.988413 #1819]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:05:32.988450 #1819]  INFO -- : EmployeeTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:05:32.988493 #1819]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:05:32.989127 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.990128 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030803147"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.991269 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "030803147"], ["date_of_birth", "2001-03-14"], ["phone", "0034634579"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.992191 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.993134 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.994086 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.995023 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0809869218"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.995928 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.996803 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:32.997812 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192253822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:32.998762 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "192253822"], ["date_of_birth", "2004-03-14"], ["phone", "1647982545"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:32.999681 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.000594 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.001523 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "230981422"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.002453 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "230981422"], ["date_of_birth", "1994-03-14"], ["phone", "1427992701"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:33.003413 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.004335 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.005246 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.006217 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.007162 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.008104 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.009087 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.010094 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2172879164"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.011020 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.011949 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.012897 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "073595043"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.013883 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "073595043"], ["date_of_birth", "2001-03-14"], ["phone", "1990936880"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:33.014880 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.015330 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.015914 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:33.016451 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.016910 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.017525 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:33.018101 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.018522 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.019150 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:33.019769 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.020166 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.020723 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:33.021262 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.021636 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.022176 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:33.022677 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.023063 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.023602 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:33.024081 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.024533 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.025057 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:33.025519 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.026132 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.026792 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.027032 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.027069 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Wed, 14 Mar 2007 08:05:30 EDT -04:00â€º. 
I, [2020-03-14T12:05:33.027090 #1819]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.030726 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.031577 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.032178 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.032462 #1819]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:05:33.032511 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-03-14T12:05:33.032533 #1819]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:05:33.035249 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.036081 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.036672 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.036920 #1819]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.036957 #1819]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-03-14T12:05:33.036977 #1819]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.037710 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.038758 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252869016"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.039832 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "252869016"], ["date_of_birth", "2001-03-14"], ["phone", "9546519833"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.040800 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.041788 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.042751 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.043696 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6871978309"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.044798 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.045816 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.046859 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232780520"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.050380 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "232780520"], ["date_of_birth", "2004-03-14"], ["phone", "4670220831"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.051436 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.052424 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.053467 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "361430450"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.054395 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "361430450"], ["date_of_birth", "1994-03-14"], ["phone", "8827082423"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:33.055330 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.056306 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.057200 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.058223 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.059184 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.060125 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.061106 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.062126 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3259245516"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.063095 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.064033 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.064993 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "290697580"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.065982 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "290697580"], ["date_of_birth", "2001-03-14"], ["phone", "7805727555"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:33.066857 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.067526 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:05:33.068183 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:05:33.068705 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.069279 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:33.070010 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.070480 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.070976 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:33.071481 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.071854 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.072401 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:33.072915 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.073407 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.074012 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:33.074566 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.074958 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.075485 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:33.076005 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.076392 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.076907 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:33.077418 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.077849 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.078345 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:33.078828 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.079487 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.080163 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.080422 #1819]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:05:33.080469 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-03-14T12:05:33.080506 #1819]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:05:33.083264 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.084256 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.084857 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.085119 #1819]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:05:33.085155 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-03-14T12:05:33.085174 #1819]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:05:33.088092 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.088864 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.089512 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.089756 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.089794 #1819]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-03-14T12:05:33.089814 #1819]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.090458 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.091537 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "002601761"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.092822 #1819] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "002601761"], ["date_of_birth", "2001-03-14"], ["phone", "2542386376"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.093749 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.094665 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.095638 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.096573 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8378590480"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.097429 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.098320 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.099265 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083947479"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.100263 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "083947479"], ["date_of_birth", "2004-03-14"], ["phone", "6566499460"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.101254 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.102179 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.103302 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188421284"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.104258 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "188421284"], ["date_of_birth", "1994-03-14"], ["phone", "9841746770"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:33.105396 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.106668 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.107746 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.108715 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.109693 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.110585 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.111542 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.112493 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8130959880"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.113405 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.114278 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.115245 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194045075"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.116133 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "194045075"], ["date_of_birth", "2001-03-14"], ["phone", "4064759788"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:33.117100 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.117798 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:05:33.118375 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:05:33.118975 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.119548 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:33.120084 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.120465 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.120980 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:33.121468 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.121880 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.122391 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:33.122846 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.123233 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.123790 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:33.124333 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.124730 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.125274 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:33.125857 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.126285 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.126830 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:33.127395 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.127908 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.128496 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:33.129071 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.129886 #1819] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.130666 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.130974 #1819]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:05:33.131030 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-03-14T12:05:33.131077 #1819]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:05:33.134559 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.135362 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.136038 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.136277 #1819]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:05:33.136312 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-03-14T12:05:33.136333 #1819]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:05:33.139029 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.139587 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.140138 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.140389 #1819]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:05:33.140424 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-03-14T12:05:33.140444 #1819]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:05:33.143349 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.144201 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.144817 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.145034 #1819]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:05:33.145069 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-03-14T12:05:33.145090 #1819]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:05:33.148078 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.148985 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.149616 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.149917 #1819]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:05:33.149956 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:05:33.149977 #1819]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:05:33.152954 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.153900 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.154503 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.154726 #1819]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.154762 #1819]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-03-14T12:05:33.154782 #1819]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.158248 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.159143 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.159791 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.160035 #1819]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.160109 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:05:33.160139 #1819]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.163659 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.164601 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.165219 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.165508 #1819]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.165546 #1819]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-03-14T12:05:33.165567 #1819]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.166290 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.167386 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179558540"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.168618 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179558540"], ["date_of_birth", "2001-03-14"], ["phone", "8832987274"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.169724 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.170730 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.171717 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.172678 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4633712833"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.173696 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.174592 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.175539 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351076442"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.176577 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "351076442"], ["date_of_birth", "2004-03-14"], ["phone", "4303352579"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.177560 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.178455 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.179335 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "316742936"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.180275 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "316742936"], ["date_of_birth", "1994-03-14"], ["phone", "8905327230"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:33.181263 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.182259 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.183129 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.184054 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.184954 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.185848 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.186720 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.187653 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2392277971"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.188639 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.189437 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.190315 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235372349"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.191203 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "235372349"], ["date_of_birth", "2001-03-14"], ["phone", "1905680532"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:33.192175 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.193027 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:05:33.193781 #1819] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:05:33.194514 #1819] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:05:33.195046 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.195600 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:33.196093 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.196703 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.197512 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:33.198191 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.198698 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.199339 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:33.199945 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.200422 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.201063 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:33.201597 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.202006 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.202542 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:33.203011 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.203391 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.203974 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:33.204493 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.204919 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.205446 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:33.206017 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.206717 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.207491 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.207754 #1819]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:05:33.207791 #1819]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-03-14T12:05:33.207812 #1819]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:05:33.211056 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:05:33.211691 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.212333 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.212579 #1819]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.212617 #1819]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-03-14T12:05:33.212637 #1819]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.213304 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.214445 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281453026"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.215666 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "281453026"], ["date_of_birth", "2001-03-14"], ["phone", "9717131656"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.216780 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.217742 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.218808 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.219827 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5156567971"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.220790 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.221684 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.222634 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235876245"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.223576 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "235876245"], ["date_of_birth", "2004-03-14"], ["phone", "0422259922"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.224485 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.225309 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.226306 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209407311"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.227221 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "209407311"], ["date_of_birth", "1994-03-14"], ["phone", "3346465238"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:33.228190 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.229043 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.230112 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.231035 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.231908 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.232787 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.233787 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.234745 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9221350016"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.235719 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.236713 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.237873 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "255373289"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.238875 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "255373289"], ["date_of_birth", "2001-03-14"], ["phone", "0507220064"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:33.239964 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.240414 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.240980 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:33.241459 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.241888 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.242404 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:33.242931 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.243312 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.243864 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:33.244334 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.244785 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.245294 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:33.245866 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.246254 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.246830 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:33.247391 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.247797 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.248322 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:33.248868 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.249259 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.249835 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:33.250342 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.251016 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.251744 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.251987 #1819]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:05:33.252024 #1819]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-03-14T12:05:33.252076 #1819]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:05:33.255190 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.256158 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:05:33.256865 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:05:33.257085 #1819]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:05:33.257122 #1819]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-03-14T12:05:33.257164 #1819]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:05:33.257920 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.259128 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381657164"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.260248 #1819] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "381657164"], ["date_of_birth", "2001-03-14"], ["phone", "9584303592"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.261124 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.262136 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.263058 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.263987 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4650960251"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.264821 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.265759 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.266728 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236101361"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.267660 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "236101361"], ["date_of_birth", "2004-03-14"], ["phone", "1250424819"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:05:33.268603 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.269499 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.270538 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148696090"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.271490 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "148696090"], ["date_of_birth", "1994-03-14"], ["phone", "3845640963"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:05:33.272359 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.273295 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.274284 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.275219 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.276076 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.277029 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.277987 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.279092 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0121250246"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:05:33.280298 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.281460 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.282740 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248139874"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.283695 #1819] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "248139874"], ["date_of_birth", "2001-03-14"], ["phone", "8661304491"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:05:33.285079 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.286936 #1819] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084359822"], ["LIMIT", 1]]
D, [2020-03-14T12:05:33.288219 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.288801 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:05:33.289435 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.289880 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.290456 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:05:33.290968 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.291350 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.291945 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:05:33.292430 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.292890 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.293412 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:05:33.293964 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.294349 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.294845 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:05:33.295352 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.295751 #1819] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.296269 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:05:33.296809 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.297189 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.297727 #1819] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:05:33.298179 #1819] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:05:33.298865 #1819] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.202083 #2606] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-14T12:16:14.488339 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.488825 #2606]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.488868 #2606]  INFO -- : AssignmentTest: test_: Given context should identify a non-active employee as part of an invalid assignment. 
I, [2020-03-14T12:16:14.488890 #2606]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.505872 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.507772 #2606] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.509194 #2606] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5210205340"], ["active", 1]]
D, [2020-03-14T12:16:14.510369 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.511234 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.512126 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.513069 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:14.514097 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.514904 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.515693 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.516670 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2015725811"], ["active", 0]]
D, [2020-03-14T12:16:14.517681 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.531336 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.535690 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241575995"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.537087 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241575995"], ["date_of_birth", "2001-03-14"], ["phone", "7168961234"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.538271 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.539373 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.540548 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.541706 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9274455340"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.542648 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.543623 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.544674 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221950970"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.545828 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "221950970"], ["date_of_birth", "2004-03-14"], ["phone", "8987475099"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.546787 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.547782 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.548913 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "345868956"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.550017 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "345868956"], ["date_of_birth", "1994-03-14"], ["phone", "0890795086"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:14.551047 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.552066 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.553068 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.554075 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.555017 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.555995 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.557000 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.557984 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3764439747"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.558957 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.559868 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.560834 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168439261"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.561845 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "168439261"], ["date_of_birth", "2001-03-14"], ["phone", "8083852575"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:14.562750 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.582050 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.583728 #2606] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.585976 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.587286 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.596846 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.598098 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:14.598886 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.599933 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.600914 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.601858 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.602691 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.603828 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.604653 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.605312 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.606260 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.607099 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.607909 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.608698 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.609839 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.610602 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:14.611234 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.612188 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.613043 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.613925 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.614689 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.615800 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.616640 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.617373 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.618320 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.619141 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.619953 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.620716 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.621817 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.622588 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.623240 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.624169 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.625016 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.625884 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.626703 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.627856 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.628641 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.629315 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.631895 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.632757 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.633338 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.634008 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.634534 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.634925 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.635445 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.635911 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.636299 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.636802 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.637358 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.637789 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.638350 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.638839 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.639234 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.639726 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.640259 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.640622 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.641129 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.641612 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.642000 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.642533 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.643007 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.643397 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.643916 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.644388 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.644771 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.645275 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.645776 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.646170 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.646651 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.647124 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.647488 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.648007 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.648476 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.648837 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.649325 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.649870 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.650243 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.650745 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:14.651212 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.651579 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.652139 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.652617 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.653000 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.653483 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.654000 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.654390 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.654889 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.655361 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.656007 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.656728 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.656976 #2606]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:16:14.657022 #2606]  INFO -- : AssignmentTest: test_: Assignment should belong to employee. 
I, [2020-03-14T12:16:14.657045 #2606]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:16:14.657417 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.657958 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.658182 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.658217 #2606]  INFO -- : AssignmentTest: test_: Given context should identify a non-active store as part of an invalid assignment. 
I, [2020-03-14T12:16:14.658242 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.658754 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.659785 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.660859 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2150415957"], ["active", 1]]
D, [2020-03-14T12:16:14.661781 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.662462 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.663288 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.664275 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:14.665184 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.665922 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.666750 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.667655 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5599497982"], ["active", 0]]
D, [2020-03-14T12:16:14.668519 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.669381 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.670417 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "141464065"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.671376 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "141464065"], ["date_of_birth", "2001-03-14"], ["phone", "5228731316"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.672235 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.673099 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.674070 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.674977 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8697913393"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.675857 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.676693 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.677588 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337839182"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.678525 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "337839182"], ["date_of_birth", "2004-03-14"], ["phone", "9265389149"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.679430 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.680340 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.681276 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201736830"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.682239 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "201736830"], ["date_of_birth", "1994-03-14"], ["phone", "0790568780"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:14.683097 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.684043 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.684942 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.685880 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.686740 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.687617 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.688529 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.689416 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4432906394"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.690308 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.691136 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.692060 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012637082"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.692938 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "012637082"], ["date_of_birth", "2001-03-14"], ["phone", "8893601238"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:14.693827 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.694758 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.695693 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.696661 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.697434 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.698582 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.699458 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:14.700183 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.701165 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.702034 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.702877 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.703628 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.704767 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.705577 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.706265 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.707158 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.707990 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.708813 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.709557 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.710682 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.711477 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:14.712145 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.713082 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.713989 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.714833 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.715625 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.716794 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.717584 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.718324 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.719230 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.720069 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.720905 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.721668 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.722756 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.723543 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.724184 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.725120 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.725960 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.726808 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.737985 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.739357 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.740189 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.740832 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.742181 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.742968 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.743532 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.744071 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.744554 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.744916 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.745424 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.745959 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.746365 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.746869 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.747363 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.747732 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.748188 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.748685 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.749023 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.749498 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.749994 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.750353 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.750842 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.751275 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.751636 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.752145 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.752604 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.752972 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.753446 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.753959 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.754324 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.754812 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.755257 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.755628 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.756098 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.756552 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.756925 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.757407 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.757910 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.758252 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.758775 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.759225 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.759602 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.760075 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:14.760560 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.760915 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.761500 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.762128 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.762526 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.763035 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.763478 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.763873 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.764321 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.764798 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.765335 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.765958 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.766176 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.766210 #2606]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by store name. 
I, [2020-03-14T12:16:14.766230 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.766728 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.767673 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.768692 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0578294652"], ["active", 1]]
D, [2020-03-14T12:16:14.769512 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.770234 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.771000 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.771860 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:14.772683 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.773351 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.774139 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.774959 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7221458058"], ["active", 0]]
D, [2020-03-14T12:16:14.775778 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.776579 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.777488 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "139238797"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.778436 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "139238797"], ["date_of_birth", "2001-03-14"], ["phone", "6204555953"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.779266 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.780088 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.780970 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.781889 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9620507560"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.782760 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.783556 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.784432 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097274338"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.785282 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "097274338"], ["date_of_birth", "2004-03-14"], ["phone", "0589682365"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.786160 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.786979 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.787820 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317343329"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.788677 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "317343329"], ["date_of_birth", "1994-03-14"], ["phone", "1460281088"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:14.789507 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.790364 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.791236 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.792062 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.792928 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.793766 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.794679 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.795555 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1271675562"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.796391 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.797196 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.798074 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124783092"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.798963 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "124783092"], ["date_of_birth", "2001-03-14"], ["phone", "7033074685"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:14.799774 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.800652 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.801521 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.802409 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.803142 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.804227 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.805065 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:14.805790 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.806659 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.807466 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.808301 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.809040 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.810165 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.810956 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.811582 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.812457 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.813315 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.814173 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.814936 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.816018 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.816828 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:14.817454 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.818413 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.819282 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.820102 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.820835 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.821924 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.822712 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.823372 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.824266 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.825063 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.825913 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.826704 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.827787 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.828600 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.829199 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.830126 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.830952 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.831781 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.832495 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.833554 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.834336 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.834967 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.840475 #2606] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" ORDER BY name[0m
D, [2020-03-14T12:16:14.841956 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.842812 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.843598 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.844408 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.845218 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.846026 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.846649 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.847210 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.847705 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.848049 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.848579 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.849179 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.849550 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.850105 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.850547 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.850921 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.851398 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.851905 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.852255 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.852781 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.853219 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.853562 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.854107 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.854550 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.854923 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.855404 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.855859 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.856227 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.856699 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.857153 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.857509 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.858069 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.858517 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.858881 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.859356 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.859833 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.860173 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.860704 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.861171 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.861540 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.862076 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.862540 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.862905 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.863390 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:14.863864 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.864234 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.864745 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.865207 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.865570 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.866126 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.866582 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.866930 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.867398 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.867877 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.868440 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.869079 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.869300 #2606]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.869334 #2606]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:14.869377 #2606]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.872692 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.873455 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.874090 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.874660 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.874880 #2606]  INFO -- : ----------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.874915 #2606]  INFO -- : AssignmentTest: test_: Given context should not terminate a completed assignment. 
I, [2020-03-14T12:16:14.874934 #2606]  INFO -- : ----------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.875431 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.876378 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.877410 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6667778991"], ["active", 1]]
D, [2020-03-14T12:16:14.878338 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.879067 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.879914 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.880755 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:14.881626 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.882325 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.883079 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.883924 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6122843763"], ["active", 0]]
D, [2020-03-14T12:16:14.884789 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.885677 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.886612 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169965022"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.887557 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "169965022"], ["date_of_birth", "2001-03-14"], ["phone", "6770311523"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.888383 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.889238 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.890181 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.891022 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4505249207"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.891990 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.892829 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.893714 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "285881087"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.894601 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "285881087"], ["date_of_birth", "2004-03-14"], ["phone", "4220056306"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.895479 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.896328 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.897329 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "261934805"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.898276 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "261934805"], ["date_of_birth", "1994-03-14"], ["phone", "1553090170"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:14.899249 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.900119 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.901116 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.901974 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.902920 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.903794 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.904684 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.905561 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3836373732"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:14.906503 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.907403 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.908390 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "226569983"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.909279 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "226569983"], ["date_of_birth", "2001-03-14"], ["phone", "6437580464"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:14.910186 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.911105 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.912037 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.912975 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.913797 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.914939 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.915776 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:14.916427 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.917299 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.918152 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.918970 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.919714 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.920759 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.921491 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.922132 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.922988 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.923814 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.924607 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.925352 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.926416 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.927149 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:14.927781 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.928709 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.929526 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.930363 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.931100 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.932207 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.932960 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.933625 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.934463 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.935251 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.936068 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.936787 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.937864 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.938643 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:14.939257 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.940109 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.940901 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.941738 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.942456 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.943505 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.944277 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:14.944920 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.945524 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.946099 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.946565 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.946941 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.947435 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.947902 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.948263 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.948781 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.949236 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.949628 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.950219 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.950710 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.951060 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.951612 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.952127 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.952477 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.952976 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.953434 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.953839 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.954334 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.954798 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.955155 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.955643 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.956112 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.956476 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.957010 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.957574 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.958007 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.958492 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:14.959001 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.959389 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.959914 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:14.960413 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.960804 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.961304 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:14.961819 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.962181 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.962666 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:14.963150 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.963525 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.964040 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:14.964515 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.964908 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.965386 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:14.965946 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.966318 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.966852 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:14.967317 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.967902 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.968507 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.968780 #2606]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:16:14.968815 #2606]  INFO -- : AssignmentTest: test_: Assignment should belong to store. 
I, [2020-03-14T12:16:14.968834 #2606]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:16:14.969143 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.969692 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.969957 #2606]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.969997 #2606]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Sat, 25 Jan 2020â€º. 
I, [2020-03-14T12:16:14.970018 #2606]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.972340 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.973131 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.973810 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.974362 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.974583 #2606]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.974628 #2606]  INFO -- : AssignmentTest: test_: Assignment should validate that :employee_id cannot be empty/falsy. 
I, [2020-03-14T12:16:14.974649 #2606]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.977723 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.978521 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:14.979150 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:14.979753 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:14.980020 #2606]  INFO -- : -----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:14.980056 #2606]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed chronologically by start date. 
I, [2020-03-14T12:16:14.980076 #2606]  INFO -- : -----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:14.980572 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.981512 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.982702 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2103978003"], ["active", 1]]
D, [2020-03-14T12:16:14.983638 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.984360 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.985181 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.986118 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:14.987030 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.987767 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.988572 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.989417 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2144019274"], ["active", 0]]
D, [2020-03-14T12:16:14.990361 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.991284 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.992330 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "276728669"], ["LIMIT", 1]]
D, [2020-03-14T12:16:14.993375 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "276728669"], ["date_of_birth", "2001-03-14"], ["phone", "3632479700"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:14.994421 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:14.995523 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.000479 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.001490 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5705028252"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.002397 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.003308 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.004260 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "110671774"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.005191 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "110671774"], ["date_of_birth", "2004-03-14"], ["phone", "7326331474"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.006095 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.006995 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.007944 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "302261071"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.008838 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "302261071"], ["date_of_birth", "1994-03-14"], ["phone", "7639924070"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.009748 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.010668 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.011617 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.012505 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.013360 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.014308 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.015250 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.016151 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2717630782"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.017009 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.017886 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.018785 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225299911"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.019671 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "225299911"], ["date_of_birth", "2001-03-14"], ["phone", "9533021912"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.020536 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.021464 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.022487 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.023403 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.024148 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.025241 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.026083 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.026776 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.027709 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.028538 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.029343 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.030096 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.031174 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.031962 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.032581 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.033432 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.034271 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.035094 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.035874 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.036966 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.037734 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.038342 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.039296 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.040186 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.041006 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.041777 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.042895 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.043653 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.044363 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.045230 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.046055 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.046885 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.047646 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.048735 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.049471 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.050146 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.051171 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.052013 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.052863 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.053585 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.054697 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.055435 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.056080 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.056676 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" ORDER BY start_date DESC, end_date DESC[0m
D, [2020-03-14T12:16:15.057748 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.058558 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.059350 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.060120 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.060928 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.061751 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.062333 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.062898 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.063359 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.063726 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.064217 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.064706 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.065084 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.065571 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.066054 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.066411 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.066911 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.067355 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.067721 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.068206 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.068680 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.069053 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.069539 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.070009 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.070386 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.070885 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.071361 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.071711 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.072194 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.072681 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.073079 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.073565 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.074091 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.074473 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.074946 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.075384 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.075770 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.076253 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.076758 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.077135 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.077589 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.078073 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.078446 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.078934 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.079375 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.079752 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.080235 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.080700 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.081045 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.081533 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.081999 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.082380 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.082899 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.083365 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.083943 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.084576 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.084825 #2606]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.084860 #2606]  INFO -- : AssignmentTest: test_: Given context should not allow for a end date in the future or before the start date. 
I, [2020-03-14T12:16:15.084880 #2606]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.085345 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.086329 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.087362 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7140979389"], ["active", 1]]
D, [2020-03-14T12:16:15.088363 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.089081 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.089899 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.090765 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.091602 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.092289 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.093039 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.093904 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0540584349"], ["active", 0]]
D, [2020-03-14T12:16:15.094741 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.095558 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.096467 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168147650"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.097389 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168147650"], ["date_of_birth", "2001-03-14"], ["phone", "7599339030"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.098260 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.099102 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.100025 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.100896 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2514697674"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.101763 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.102553 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.103472 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249219542"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.104329 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "249219542"], ["date_of_birth", "2004-03-14"], ["phone", "8700076847"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.105214 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.106098 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.106999 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062678033"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.107934 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "062678033"], ["date_of_birth", "1994-03-14"], ["phone", "6986962604"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.108797 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.109704 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.110584 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.111466 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.112325 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.113176 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.114104 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.114977 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7257599751"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.115875 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.116729 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.117625 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "071539653"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.118542 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "071539653"], ["date_of_birth", "2001-03-14"], ["phone", "7487647670"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.119413 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.120334 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.121265 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.122163 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.122936 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.124054 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.124935 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.125632 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.126546 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.127359 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.128213 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.128955 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.130057 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.130807 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.131481 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.132368 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.135001 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.135895 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.136658 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.137836 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.138629 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.139279 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.140228 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.141142 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.141982 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.142770 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.143846 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.144580 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.145298 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.146195 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.146987 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.147803 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.148502 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.149574 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.150385 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.151028 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.151901 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.152683 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.153683 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.154454 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.155550 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.156342 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.156958 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.158913 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.159737 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.161620 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.162519 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.163177 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.163766 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.164267 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.164632 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.165150 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.165761 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.166131 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.166622 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.167260 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.167905 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.168487 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.169009 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.169386 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.169976 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.170440 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.170881 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.171363 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.171846 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.172208 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.172734 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.173244 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.173604 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.174131 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.174612 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.175013 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.175511 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.176007 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.176383 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.176887 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.177337 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.177750 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.178219 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.178755 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.179109 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.179606 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.180104 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.180441 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.180933 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.181404 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.181807 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.182292 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.182792 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.183171 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.183668 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.184113 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.184457 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.184951 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.185400 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.186057 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.186654 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.186870 #2606]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.186905 #2606]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Wed, 14 Mar 2018â€º. 
I, [2020-03-14T12:16:15.186924 #2606]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.189225 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.190031 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.190628 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.191190 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.191431 #2606]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:16:15.191479 #2606]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹nilâ€º. 
I, [2020-03-14T12:16:15.191501 #2606]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:16:15.194187 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.194930 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.195501 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.196049 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.196263 #2606]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.196296 #2606]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_role' that works. 
I, [2020-03-14T12:16:15.196315 #2606]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.196813 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.197726 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.198777 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6640387685"], ["active", 1]]
D, [2020-03-14T12:16:15.199663 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.200353 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.201178 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.202082 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.202900 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.203617 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.204390 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.205236 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8692871968"], ["active", 0]]
D, [2020-03-14T12:16:15.206131 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.206970 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.207966 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "131575656"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.208884 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "131575656"], ["date_of_birth", "2001-03-14"], ["phone", "4959626240"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.209800 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.210685 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.211631 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.212519 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3836422219"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.213388 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.214382 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.215333 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167224152"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.216225 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "167224152"], ["date_of_birth", "2004-03-14"], ["phone", "7451102560"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.217148 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.218069 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.219144 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "364139444"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.220091 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "364139444"], ["date_of_birth", "1994-03-14"], ["phone", "0059608041"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.221044 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.222084 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.223081 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.224089 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.225031 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.226056 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.227085 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.228044 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9589932957"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.228989 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.229905 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.230880 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069230810"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.231820 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "069230810"], ["date_of_birth", "2001-03-14"], ["phone", "8346142438"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.232691 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.233632 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.234648 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.235521 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.236374 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.237572 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.238445 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.239167 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.240105 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.240979 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.241881 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.242694 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.243853 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.244696 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.245387 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.246362 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.247291 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.248121 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.248946 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.250235 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.251056 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.251768 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.252893 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.253983 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.258296 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.259091 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.260325 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.261150 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.261898 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.262858 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.263792 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.264627 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.265438 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.266618 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.267376 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.268072 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.268993 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.269925 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.270805 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.271561 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.272842 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.273634 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.274312 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.275323 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')[0m
D, [2020-03-14T12:16:15.276177 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
D, [2020-03-14T12:16:15.276556 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.277146 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.277630 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.278048 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.278525 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.278981 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.279357 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.279856 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.280324 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.280672 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.281155 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.281619 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.282021 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.282493 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.282947 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.283307 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.283848 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.284386 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.284760 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.285259 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.285787 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.286159 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.286672 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.287122 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.287477 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.287987 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.288446 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.288860 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.289340 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.289871 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.290249 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.290768 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.291226 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.291564 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.292058 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.292521 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.292893 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.293395 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.293906 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.294276 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.294744 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.295209 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.295559 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.296055 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.296503 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.296888 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.297362 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.297854 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.298414 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.299027 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.299287 #2606]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.299323 #2606]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_store' that works. 
I, [2020-03-14T12:16:15.299342 #2606]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.299815 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.300773 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.301790 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4348042492"], ["active", 1]]
D, [2020-03-14T12:16:15.302664 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.303340 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.304172 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.305017 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.305923 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.306646 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.307525 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.308362 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2543412664"], ["active", 0]]
D, [2020-03-14T12:16:15.309238 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.310131 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.311139 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "142914145"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.312073 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "142914145"], ["date_of_birth", "2001-03-14"], ["phone", "8159016414"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.312964 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.313854 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.314814 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.315709 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1394761606"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.316564 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.317394 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.318380 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111976425"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.319318 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "111976425"], ["date_of_birth", "2004-03-14"], ["phone", "9535366906"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.320175 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.321036 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.321952 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338016609"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.322881 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "338016609"], ["date_of_birth", "1994-03-14"], ["phone", "4949888158"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.323774 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.324648 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.325551 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.326449 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.327348 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.328218 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.329140 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.330041 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0745553542"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.330956 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.331825 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.332711 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "339741685"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.333606 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "339741685"], ["date_of_birth", "2001-03-14"], ["phone", "8651467503"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.334485 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.335407 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.336332 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.337236 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.338023 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.339171 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.340001 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.340748 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.341724 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.342545 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.343381 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.344113 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.345294 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.346155 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.346826 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.347692 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.348501 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.349447 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.350258 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.351354 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.352158 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.352813 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.353808 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.354674 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.355491 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.356233 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.357336 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.358209 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.358948 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.359840 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.360670 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.361484 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.362264 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.363372 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.364168 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.364806 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.365738 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.366552 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.367354 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.368188 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.369314 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.370076 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.370745 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.371406 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
D, [2020-03-14T12:16:15.372019 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 2)[0m
D, [2020-03-14T12:16:15.372408 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.372936 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.373407 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.373796 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.374287 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.374753 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.375134 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.375633 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.376090 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.376463 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.376965 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.377426 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.377838 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.378330 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.378781 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.379140 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.379612 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.380096 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.380485 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.381002 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.381494 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.381890 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.382377 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.382856 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.383208 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.383686 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.384155 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.384526 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.385027 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.385478 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.385885 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.386361 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.386821 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.387192 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.387657 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.388132 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.388497 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.388987 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.389452 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.389905 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.390406 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.390884 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.391265 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.391772 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.392220 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.392611 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.393102 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.393549 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.394162 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.394728 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.394978 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.395013 #2606]  INFO -- : AssignmentTest: test_: Given context should allow for a end date in the past (or today) but after the start date. 
I, [2020-03-14T12:16:15.395034 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.395525 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.396472 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.397543 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5865528278"], ["active", 1]]
D, [2020-03-14T12:16:15.398469 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.399188 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.400022 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.400896 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.401773 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.402523 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.403363 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.404274 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5139610544"], ["active", 0]]
D, [2020-03-14T12:16:15.405163 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.406065 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.407048 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014913659"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.408057 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014913659"], ["date_of_birth", "2001-03-14"], ["phone", "6608245895"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.408940 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.409885 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.410864 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.411756 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7989919606"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.412668 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.413519 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.414548 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384927570"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.415488 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "384927570"], ["date_of_birth", "2004-03-14"], ["phone", "4605121596"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.416358 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.417290 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.418324 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "057584749"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.419235 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "057584749"], ["date_of_birth", "1994-03-14"], ["phone", "5953584114"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.420128 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.421043 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.422069 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.422968 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.423914 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.424822 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.425821 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.426741 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5927206879"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.427679 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.428522 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.429481 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "226587364"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.430430 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "226587364"], ["date_of_birth", "2001-03-14"], ["phone", "6769389817"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.431377 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.432344 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.433332 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.434339 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.435163 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.436343 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.437249 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.438038 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.438987 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.439875 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.440723 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.441503 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.442678 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.443466 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.444114 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.445028 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.445905 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.446756 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.447487 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.448619 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.449356 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.450054 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.451277 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.452271 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.453113 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.453877 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.455053 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.455831 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.456547 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.457436 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.458280 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.459109 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.459877 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.460954 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.461749 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.462414 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.463333 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.464157 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.464993 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.465753 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.466885 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.467672 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.468313 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.469750 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.470545 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.471940 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.472738 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.473305 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.473877 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.474353 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.474778 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.475267 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.475750 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.476141 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.476641 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.477134 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.477520 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.478099 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.478557 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.478941 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.479447 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.480099 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.480506 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.481049 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.481540 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.481958 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.482453 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.482963 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.483328 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.483827 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.484319 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.484721 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.485217 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.485770 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.486132 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.486628 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.487093 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.487499 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.487971 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.488447 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.488856 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.489343 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.489879 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.490258 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.490762 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.491203 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.491611 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.492087 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.492536 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.492955 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.493406 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.493960 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.494310 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.494835 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.495294 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.495924 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.496489 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.496737 #2606]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.496771 #2606]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_employee' that works. 
I, [2020-03-14T12:16:15.496791 #2606]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.497258 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.498251 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.499313 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2892963622"], ["active", 1]]
D, [2020-03-14T12:16:15.500237 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.500998 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.501893 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.502861 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.503744 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.504457 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.505278 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.506335 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4621913850"], ["active", 0]]
D, [2020-03-14T12:16:15.507277 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.508186 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.509188 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371494380"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.510238 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "371494380"], ["date_of_birth", "2001-03-14"], ["phone", "9524320376"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.511339 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.514711 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.515781 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.516725 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8922577720"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.517587 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.518534 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.519522 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "186318387"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.520408 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "186318387"], ["date_of_birth", "2004-03-14"], ["phone", "5158956961"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.521307 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.522216 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.523182 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "215101917"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.524060 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "215101917"], ["date_of_birth", "1994-03-14"], ["phone", "3175133195"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.524953 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.525849 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.526776 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.527675 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.528558 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.529502 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.530484 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.531407 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2294612156"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.532297 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.533171 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.534142 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253509461"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.535017 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "253509461"], ["date_of_birth", "2001-03-14"], ["phone", "4888746626"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.535938 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.536835 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.537830 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.538692 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.539455 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.540589 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.541467 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.542227 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.543111 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.543937 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.544783 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.545688 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.546809 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.547586 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.548249 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.549118 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.550068 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.550885 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.551668 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.552762 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.553493 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.554191 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.555192 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.556174 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.556980 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.557797 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.558935 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.559709 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.560399 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.561275 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.562149 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.562961 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.563733 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.564785 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.565525 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.566227 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.567151 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.567970 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.568793 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.569521 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.570663 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.571447 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.572099 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.572785 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
D, [2020-03-14T12:16:15.573371 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 6)[0m
D, [2020-03-14T12:16:15.573803 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.574324 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.574820 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.575207 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.575741 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.576205 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.576582 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.577123 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.577573 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.577953 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.578438 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.578900 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.579282 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.579841 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.580310 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.580684 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.581205 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.581707 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.582059 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.582542 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.583002 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.583362 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.583959 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.584431 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.584827 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.585292 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.585809 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.586153 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.586663 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.587114 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.587474 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.587984 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.588454 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.588826 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.589327 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.589835 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.590205 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.590686 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.591166 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.591508 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.591989 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.592433 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.592829 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.593304 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.593820 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.594199 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.594655 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.595142 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.595707 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.596294 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.596508 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.596543 #2606]  INFO -- : AssignmentTest: test_: Given context should end the current assignment if it exists before adding a new assignment for an employee. 
I, [2020-03-14T12:16:15.596563 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.597051 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.598111 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.599141 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7728961591"], ["active", 1]]
D, [2020-03-14T12:16:15.600002 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.600721 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.601509 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.602412 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.603254 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.603958 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.604762 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.605715 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0523997578"], ["active", 0]]
D, [2020-03-14T12:16:15.606563 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.607370 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.608334 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "237951370"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.609266 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "237951370"], ["date_of_birth", "2001-03-14"], ["phone", "0752834525"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.610177 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.611164 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.612084 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.612969 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9894859786"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.613877 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.614746 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.615653 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379029710"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.616607 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "379029710"], ["date_of_birth", "2004-03-14"], ["phone", "4569335765"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.617464 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.618377 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.619262 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289359149"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.620153 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "289359149"], ["date_of_birth", "1994-03-14"], ["phone", "7514046031"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.621028 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.621931 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.622872 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.623829 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.624702 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.625558 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.626482 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.627460 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1461407513"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.628346 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.629227 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.630158 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060084778"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.631080 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "060084778"], ["date_of_birth", "2001-03-14"], ["phone", "4516156222"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.631964 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.632919 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.633902 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.634800 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.635566 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.636746 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.637637 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.638354 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.639269 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.640132 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.641001 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.641870 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.643028 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.643825 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.644492 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.645371 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.646251 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.647131 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.647957 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.649074 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.649849 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.650508 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.651478 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.652354 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.653162 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.653925 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.655018 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.655819 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.656508 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.657388 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.658234 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.659158 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.659941 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.661036 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.661907 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.662615 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.663477 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.664342 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.665149 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.665935 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.667086 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.667875 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.668513 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.669420 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.670267 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.671092 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.671858 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.672942 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.673801 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.674924 #2606] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-13"], ["id", 6]]
D, [2020-03-14T12:16:15.675907 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2020-03-13"]]
D, [2020-03-14T12:16:15.676600 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.677626 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.678281 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.678835 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.679312 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.679701 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.680223 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.680707 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.681055 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.681545 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.682085 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.682473 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.682953 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.683425 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.683795 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.684264 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.684807 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.685154 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.685763 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.686338 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.686758 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.687253 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.687726 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.688098 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.688578 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.689037 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.689432 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.689959 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.690434 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.690839 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.691302 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.691803 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.692145 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.692697 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.693151 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.693518 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.694037 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.694506 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.694873 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.695350 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.695836 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.696206 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.696718 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.697195 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.697583 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.698111 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.698578 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.698971 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.699443 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.699930 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.700314 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.700810 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.701268 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.701907 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.702516 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.702754 #2606]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:15.702789 #2606]  INFO -- : AssignmentTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:16:15.702810 #2606]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:15.703305 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.704266 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.705305 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4663144434"], ["active", 1]]
D, [2020-03-14T12:16:15.706202 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.706925 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.707727 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.708647 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.709620 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.710326 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.711229 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.712122 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2914357506"], ["active", 0]]
D, [2020-03-14T12:16:15.712981 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.713852 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.714811 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168220587"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.715737 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168220587"], ["date_of_birth", "2001-03-14"], ["phone", "5261208011"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.716614 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.717480 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.718402 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.719322 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9564893511"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.720202 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.721032 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.721975 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225089018"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.722916 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "225089018"], ["date_of_birth", "2004-03-14"], ["phone", "3022691780"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.723793 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.724673 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.725546 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "150580484"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.726461 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "150580484"], ["date_of_birth", "1994-03-14"], ["phone", "4869433989"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.727364 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.728284 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.729219 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.730182 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.731141 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.732115 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.733065 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.734052 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0055848661"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.734997 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.735916 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.736872 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "142548395"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.737830 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "142548395"], ["date_of_birth", "2001-03-14"], ["phone", "5970412786"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.738742 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.739710 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.740640 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.741751 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.742525 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.743743 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.744623 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.745351 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.746289 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.747158 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.748010 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.748794 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.749911 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.750693 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.751366 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.752288 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.753160 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.754063 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.754814 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.755966 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.756764 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.757436 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.758401 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.759348 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.760277 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.761135 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.762356 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.763219 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.766687 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.767675 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.768540 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.769382 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.770162 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.771292 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.772085 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.772771 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.773674 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.774467 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.775313 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.776057 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.777141 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.777941 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.778555 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.779227 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:15.779765 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.780313 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.780790 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.781191 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.781720 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.782186 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.782543 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.783036 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.783489 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.783892 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.784388 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.784874 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.785282 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.785813 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.786262 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.786647 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.787118 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.787561 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.787919 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.788427 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.788902 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.789281 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.789809 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.790313 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.790708 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.791196 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.791682 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.792051 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.792519 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.793029 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.793379 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.793910 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.794374 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.794752 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.795268 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.795738 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.796094 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.796573 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.797072 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.797436 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.797968 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.798447 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.798863 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.799364 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.799848 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.800188 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.800675 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.801119 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.801745 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.802381 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.802602 #2606]  INFO -- : ----------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.802639 #2606]  INFO -- : AssignmentTest: test_: Assignment should validate that :store_id cannot be empty/falsy. 
I, [2020-03-14T12:16:15.802659 #2606]  INFO -- : ----------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.805875 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.806751 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.807351 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.807922 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.808138 #2606]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.808173 #2606]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹Sat, 21 Mar 2020â€º. 
I, [2020-03-14T12:16:15.808192 #2606]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.810633 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.811336 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.811961 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.812537 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.812799 #2606]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.812835 #2606]  INFO -- : AssignmentTest: test_: Given context should terminate an assignment effectively as of today. 
I, [2020-03-14T12:16:15.812855 #2606]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.813330 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.814286 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.815295 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6613009358"], ["active", 1]]
D, [2020-03-14T12:16:15.816194 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.816884 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.817760 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.818571 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.819485 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.820210 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.821010 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.821909 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8846937238"], ["active", 0]]
D, [2020-03-14T12:16:15.822780 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.823587 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.824626 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "055122328"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.825542 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "055122328"], ["date_of_birth", "2001-03-14"], ["phone", "6107189592"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.826429 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.827314 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.828228 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.829215 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0094076486"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.830187 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.831061 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.831976 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357124845"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.832875 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "357124845"], ["date_of_birth", "2004-03-14"], ["phone", "6992880708"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.833784 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.834663 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.835623 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062398697"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.836524 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "062398697"], ["date_of_birth", "1994-03-14"], ["phone", "8513234788"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.837410 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.838365 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.839262 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.840205 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.841223 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.842177 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.843079 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.844018 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0733586344"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.844980 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.845866 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.846772 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253830193"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.847691 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "253830193"], ["date_of_birth", "2001-03-14"], ["phone", "8865202227"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.848612 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.849525 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.850454 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.851343 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.852102 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.853247 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.854121 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.854779 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.855663 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.856497 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.857334 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.858110 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.859157 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.859952 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.860617 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.861457 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.862294 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.863094 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.863904 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.865038 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.865805 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.866455 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.867394 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.868338 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.869191 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.869961 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.871040 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.871883 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.872613 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.873499 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.874321 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.875119 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.875847 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.876956 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.877759 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.878404 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.879290 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.880099 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.880971 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.881735 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.882856 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.883648 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.884267 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.884813 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.885870 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.886682 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.887326 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.888040 #2606] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-14"], ["id", 6]]
D, [2020-03-14T12:16:15.888618 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.889339 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.890075 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.890575 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.891099 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.891488 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.891980 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.892468 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.892822 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.893319 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.893802 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.894183 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.894682 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.895147 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.895497 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.896008 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.896467 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.896866 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.897358 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.897863 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.898222 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.898772 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.899267 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.899657 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.900133 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.900608 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.900971 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.901464 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.901946 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.902334 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.902841 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.903307 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.903694 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.904149 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.904640 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.905012 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.905506 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.905994 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.906375 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.906893 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:15.907357 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.907713 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.908263 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.908754 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.909134 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.909634 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.910152 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.910501 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.911033 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.911498 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.912103 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:15.912769 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:15.912999 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:15.913034 #2606]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all current assignments for a store or employee. 
I, [2020-03-14T12:16:15.913065 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:15.913565 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.914546 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.915578 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1481095496"], ["active", 1]]
D, [2020-03-14T12:16:15.916478 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.917235 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.918102 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.918984 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:15.919830 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.920563 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.921373 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.922289 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4257866546"], ["active", 0]]
D, [2020-03-14T12:16:15.923156 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.924012 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.924970 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041678579"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.925951 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "041678579"], ["date_of_birth", "2001-03-14"], ["phone", "5344158972"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.926874 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.927744 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.928673 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.929547 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3147047101"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.930467 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.931285 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.932215 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "024564169"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.933121 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "024564169"], ["date_of_birth", "2004-03-14"], ["phone", "9970286247"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:15.934128 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.935019 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.935939 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351377584"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.936862 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "351377584"], ["date_of_birth", "1994-03-14"], ["phone", "3858642969"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:15.937897 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.938841 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.939824 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.940758 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.941698 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.942636 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.943582 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.944492 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7381546631"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:15.945415 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.946289 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.947186 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "360583771"], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.948103 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "360583771"], ["date_of_birth", "2001-03-14"], ["phone", "7911986206"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:15.949058 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.949990 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.950975 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.951842 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.952656 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.953874 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.954761 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:15.955460 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.956336 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.957182 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.958052 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.958803 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.959939 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.960701 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.961386 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.962305 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.963122 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.963946 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.964689 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.965841 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.966624 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:15.967295 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.968247 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.969123 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.969993 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.970765 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.971920 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.972672 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.973413 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.974341 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.975170 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.976002 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.976758 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.977896 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.978715 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:15.979365 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.980265 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.981068 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.981951 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:15.982734 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.983852 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:15.984660 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:15.985320 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.986072 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:16:15.986859 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:16:15.987541 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:16:15.988278 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 1)[0m
D, [2020-03-14T12:16:15.988706 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.989281 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.989841 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.990239 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.990754 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.991221 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.991610 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.992133 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:15.992643 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.993048 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.993552 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:15.994066 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.994446 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.994942 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:15.995396 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.995766 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.996273 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:15.996753 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.997165 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.997689 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:15.998174 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.998552 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.999041 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:15.999518 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:15.999900 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.000427 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.001006 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.001364 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.001887 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.002355 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.002837 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.003352 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.003816 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.004209 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.004694 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.005189 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.005537 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.006081 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.006528 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.006935 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.007436 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.007922 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.008277 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.008804 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.009280 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.009717 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.010196 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.010695 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.011302 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.011945 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.012179 #2606]  INFO -- : ---------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.012215 #2606]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all assignments for a given date. 
I, [2020-03-14T12:16:16.012234 #2606]  INFO -- : ---------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.012720 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.013710 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.014835 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2348911280"], ["active", 1]]
D, [2020-03-14T12:16:16.015773 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.016649 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.017548 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.018523 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:16.019510 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.020380 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.023671 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.024650 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2908647309"], ["active", 0]]
D, [2020-03-14T12:16:16.025585 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.026456 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.027420 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374273922"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.028387 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374273922"], ["date_of_birth", "2001-03-14"], ["phone", "7884551854"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.029324 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.030315 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.031283 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.032193 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0907270062"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.033044 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.033944 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.034899 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "280099564"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.035843 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "280099564"], ["date_of_birth", "2004-03-14"], ["phone", "4153525256"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.036736 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.037639 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.038587 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350183356"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.039549 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "350183356"], ["date_of_birth", "1994-03-14"], ["phone", "4453821301"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.040459 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.041401 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.042358 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.043280 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.044174 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.045132 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.046102 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.047032 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8315424033"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.047973 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.048836 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.049756 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "191529076"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.050677 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "191529076"], ["date_of_birth", "2001-03-14"], ["phone", "0504000522"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.051578 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.052518 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.053490 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.054372 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.055188 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.056306 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.057198 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:16.057933 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.058836 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.059698 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.060551 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.061324 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.062454 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.063254 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.063878 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.064796 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.065669 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.066500 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.067243 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.068410 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.069220 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:16.069927 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.070889 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.071782 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.072645 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.073395 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.074567 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.075379 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.076099 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.077025 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.077898 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.078757 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.079506 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.080587 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.081414 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.082121 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.082999 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.083870 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.084682 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.085448 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.086586 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.087351 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.088006 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.088887 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:16:16.089571 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:16:16.090408 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.091250 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.092056 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.092730 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.093290 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.093800 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.094153 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.094640 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.095123 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.095494 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.096007 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.096482 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.096870 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.097335 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.097829 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.098209 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.098699 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.099146 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.099544 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.100024 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.100551 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.100922 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.101422 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.101911 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.102302 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.102778 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.103225 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.103571 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.104070 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.104551 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.104971 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.105470 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.105972 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.106348 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.106830 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.107295 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.107686 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.108186 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.108645 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.109021 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.109494 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.110013 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.110358 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.110885 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.111368 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.111776 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.112280 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.112753 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.113127 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.113587 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.114075 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.114687 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.115308 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.115527 #2606]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.115562 #2606]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all past assignments for a store or employee. 
I, [2020-03-14T12:16:16.115582 #2606]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.116083 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.117012 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.118086 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3030804411"], ["active", 1]]
D, [2020-03-14T12:16:16.118969 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.119685 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.120462 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.121342 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:16.122228 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.122963 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.123773 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.124724 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5557923302"], ["active", 0]]
D, [2020-03-14T12:16:16.125739 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.126557 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.127511 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "255359772"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.128473 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "255359772"], ["date_of_birth", "2001-03-14"], ["phone", "5437733119"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.129367 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.130267 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.131212 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.132107 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3731280357"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.133001 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.133963 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.134884 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086807202"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.135874 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "086807202"], ["date_of_birth", "2004-03-14"], ["phone", "6714447988"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.136773 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.137624 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.138569 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "304596275"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.139453 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "304596275"], ["date_of_birth", "1994-03-14"], ["phone", "1654064965"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.140391 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.141290 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.142270 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.143188 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.144160 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.145046 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.146054 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.146989 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4945081838"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.147895 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.148808 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.149754 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200322154"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.150713 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "200322154"], ["date_of_birth", "2001-03-14"], ["phone", "4433429610"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.151613 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.152525 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.153476 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.154450 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.155236 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.156414 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.157318 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:16.158094 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.159015 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.159903 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.160784 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.161545 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.162777 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.163583 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.164242 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.165135 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.166047 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.166884 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.167678 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.168800 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.169525 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:16.170214 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.171180 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.172095 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.172923 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.173712 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.174836 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.175652 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.176375 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.177233 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.178097 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.178912 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.179709 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.180818 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.181570 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.182256 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.183204 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.184073 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.184923 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.185696 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.186763 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.187588 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.188266 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.189012 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:16:16.189685 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:16:16.190337 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:16:16.190953 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 2)[0m
D, [2020-03-14T12:16:16.191356 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.191944 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.192435 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.192861 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.193368 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.193908 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.194293 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.194817 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.195294 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.195663 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.196142 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.196624 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.197027 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.197543 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.198061 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.198467 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.199027 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.199479 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.199871 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.200359 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.200921 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.201293 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.201840 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.202337 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.202761 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.203261 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.203731 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.204116 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.204580 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.205086 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.205454 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.205966 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.206441 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.206826 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.207364 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.207840 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.208215 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.208722 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.209190 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.209553 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.210076 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.210568 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.210932 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.211435 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.211891 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.212261 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.212760 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.213226 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.213882 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.214515 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.214749 #2606]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.214785 #2606]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by employee name. 
I, [2020-03-14T12:16:16.214828 #2606]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.215299 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.216268 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.217346 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0667773033"], ["active", 1]]
D, [2020-03-14T12:16:16.218266 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.218977 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.219831 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.220713 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:16.221566 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.222313 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.223134 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.223981 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1125094327"], ["active", 0]]
D, [2020-03-14T12:16:16.224914 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.225785 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.226719 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124762762"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.227677 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "124762762"], ["date_of_birth", "2001-03-14"], ["phone", "9376863857"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.228563 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.229433 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.230423 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.231333 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0759544040"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.232190 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.233064 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.233982 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "274570793"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.234920 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "274570793"], ["date_of_birth", "2004-03-14"], ["phone", "3383658925"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.235841 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.236714 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.237635 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078617273"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.238570 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "078617273"], ["date_of_birth", "1994-03-14"], ["phone", "8396454887"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.239514 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.240492 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.241465 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.242445 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.243446 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.244685 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.245738 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.246695 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4601589791"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.247640 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.248528 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.249505 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083484965"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.250505 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "083484965"], ["date_of_birth", "2001-03-14"], ["phone", "6021212387"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.251494 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.252485 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.253477 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.254409 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.255214 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.256394 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.257292 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:16.258144 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.259062 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.259930 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.260826 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.261582 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.262829 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.263640 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.264405 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.265310 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.266174 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.267081 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.267947 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.269200 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.270059 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:16.270808 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.274428 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.275423 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.276291 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.277048 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.278214 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.278999 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.279747 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.280650 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.281460 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.282348 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.283199 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.284362 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.285116 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.285802 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.286737 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.287573 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.288375 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.289146 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.290324 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.291140 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.291804 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.292613 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:16:16.293388 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.294214 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.295053 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.295931 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.296726 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.297544 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.298165 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.298749 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.299245 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.299649 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.300135 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.300704 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.301055 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.301548 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.302063 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.302433 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.302920 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.303379 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.303794 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.304261 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.304785 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.305130 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.305630 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.306104 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.306491 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.306990 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.307446 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.307833 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.308334 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.308805 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.309172 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.309705 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.310223 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.310574 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.311089 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.311560 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.311948 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.312439 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.312897 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.313277 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.313795 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.314271 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.314671 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.315221 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.315725 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.316086 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.316581 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.317073 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.317453 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.318070 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.318539 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.318916 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.319421 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.319878 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.320443 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.321583 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.321897 #2606]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.321937 #2606]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-03-14T12:16:16.321957 #2606]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.322653 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.323733 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195367260"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.324816 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "195367260"], ["date_of_birth", "2001-03-14"], ["phone", "7135790184"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.325757 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.326675 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.327618 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.328535 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8978003831"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.329521 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.330406 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.331333 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "185896796"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.332236 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "185896796"], ["date_of_birth", "2004-03-14"], ["phone", "1726558483"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.333133 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.334071 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.335052 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326290888"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.335948 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "326290888"], ["date_of_birth", "1994-03-14"], ["phone", "0174795036"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.336803 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.337755 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.338667 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.339562 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.340433 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.341343 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.342279 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.343190 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6418813596"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.344070 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.345123 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.346208 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213249520"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.347137 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "213249520"], ["date_of_birth", "2001-03-14"], ["phone", "5382882887"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.348044 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.348488 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.348992 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.349512 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.349905 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.350418 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.350885 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.351271 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.351793 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.352260 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.352617 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.353126 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.353616 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.354120 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.354641 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.355105 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.355487 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.356003 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.356474 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.356829 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.357332 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.357835 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.358427 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.359070 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.359295 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.359339 #2606]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-03-14T12:16:16.359360 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.360037 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.361107 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310545780"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.362220 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "310545780"], ["date_of_birth", "2001-03-14"], ["phone", "6463563713"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.363136 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.364082 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.365039 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.366015 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5161736763"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.366943 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.367810 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.368724 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "149571889"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.369607 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "149571889"], ["date_of_birth", "2004-03-14"], ["phone", "8085440255"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.370502 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.371433 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.372365 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "174724223"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.373236 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "174724223"], ["date_of_birth", "1994-03-14"], ["phone", "8018665086"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.374245 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.375151 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.376061 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.377040 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.378013 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.378881 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.379798 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.380705 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2366070142"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.381605 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.382444 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.383341 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "190937045"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.384240 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "190937045"], ["date_of_birth", "2001-03-14"], ["phone", "5332782610"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.385187 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.385913 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.386722 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.387638 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8512400423"], ["active", 1]]
D, [2020-03-14T12:16:16.388502 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.389214 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.390047 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.390907 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:16.391789 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.392504 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.393252 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.394133 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4402126438"], ["active", 0]]
D, [2020-03-14T12:16:16.395131 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.396121 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.397059 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.397968 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.398693 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.399810 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.400706 #2606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:16.401393 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.402320 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.403201 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.404063 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.404880 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.406128 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.406950 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.407602 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.408489 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.409346 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.410210 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.411014 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.412091 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.412919 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:16.413567 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.414606 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.415476 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.416328 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.417090 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.418291 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.419133 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.419851 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.420808 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.421695 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.422566 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.423411 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.424521 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.425309 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:16.426008 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.426967 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.427800 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.428833 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.429581 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.430809 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.431571 #2606] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:16.432274 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.433185 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.434014 #2606] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.435086 #2606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 7], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.435656 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.436219 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.436738 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.437089 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.437577 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.438086 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.438488 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.438990 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.439454 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.439840 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.440352 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.440889 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.441274 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.441810 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.442285 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.442692 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.443191 #2606] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.443674 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.444069 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.444585 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.445059 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.445440 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.445967 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.446485 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.446916 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.447418 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.447934 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.448330 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.448808 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.449320 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.449751 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.450222 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.450716 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.451121 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.451652 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.452133 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.452523 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.453039 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.453529 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.453955 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.454465 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.454974 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.455365 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.455837 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.456343 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.456696 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.457189 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.457676 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.458286 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.458959 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.459185 #2606]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:16:16.459219 #2606]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-03-14T12:16:16.459238 #2606]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:16:16.459638 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.460120 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.460380 #2606]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:16:16.460414 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:16:16.460434 #2606]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:16:16.464179 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.465094 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.465668 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.465932 #2606]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.465967 #2606]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-03-14T12:16:16.465986 #2606]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.469434 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.470291 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.470904 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.471155 #2606]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:16.471192 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:16:16.471212 #2606]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:16.473842 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.474720 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.475302 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.475525 #2606]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.475559 #2606]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-03-14T12:16:16.475579 #2606]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.478943 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.479906 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.480513 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.480753 #2606]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:16:16.480790 #2606]  INFO -- : EmployeeTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:16:16.480812 #2606]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:16:16.481475 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.482545 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "220120239"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.483686 #2606] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "220120239"], ["date_of_birth", "2001-03-14"], ["phone", "4250338052"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.484576 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.485495 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.486469 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.487376 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9745951862"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.488324 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.489184 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.490168 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "175755726"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.491036 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "175755726"], ["date_of_birth", "2004-03-14"], ["phone", "2047533020"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.491963 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.492933 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.493900 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032066045"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.494766 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "032066045"], ["date_of_birth", "1994-03-14"], ["phone", "4741556943"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.495712 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.496628 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.497562 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.498497 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.499515 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.500460 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.501414 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.502345 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3026593844"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.503388 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.504254 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.505175 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246392017"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.506074 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "246392017"], ["date_of_birth", "2001-03-14"], ["phone", "0397410775"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.507017 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.507448 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.507964 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.508469 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.508882 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.509363 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.509920 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.510319 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.510871 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.511385 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.511810 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.512299 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.512775 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.513146 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.513674 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.514137 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.514524 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.515016 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.515513 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.515885 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.516407 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.516869 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.517461 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.518118 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.518358 #2606]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:16:16.518394 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-03-14T12:16:16.518413 #2606]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:16:16.521269 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.522166 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.522732 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.522966 #2606]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.523001 #2606]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-03-14T12:16:16.523020 #2606]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.523701 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.524830 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "355168508"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.525949 #2606] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "355168508"], ["date_of_birth", "2001-03-14"], ["phone", "1937078408"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.526948 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.527982 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.529037 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.530089 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6951372796"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.533736 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.534912 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.535966 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138095253"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.536946 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "138095253"], ["date_of_birth", "2004-03-14"], ["phone", "7533560178"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.537889 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.538809 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.539762 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "067324604"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.540687 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "067324604"], ["date_of_birth", "1994-03-14"], ["phone", "2147334608"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.541580 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.542494 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.543455 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.544375 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.545244 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.546166 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.547112 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.548039 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9899903774"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.548943 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.549806 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.550728 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291119799"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.551735 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "291119799"], ["date_of_birth", "2001-03-14"], ["phone", "7381868525"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.552607 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.553359 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.554106 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.554964 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:16.555676 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.556231 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.556748 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.557115 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.557719 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.558302 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.558689 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.559201 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.559684 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.560063 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.560576 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.561065 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.561436 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.561951 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.562464 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.562825 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.563321 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.563800 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.564179 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.564695 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.565161 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.565796 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.566433 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.566673 #2606]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.566709 #2606]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-03-14T12:16:16.566729 #2606]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.567402 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.568481 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291727713"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.569599 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "291727713"], ["date_of_birth", "2001-03-14"], ["phone", "0955266852"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.570578 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.571484 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.572481 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.573427 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7017178232"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.574451 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.575324 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.576311 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "159620785"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.577229 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "159620785"], ["date_of_birth", "2004-03-14"], ["phone", "0653331134"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.578122 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.578973 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.579950 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "280495299"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.580867 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "280495299"], ["date_of_birth", "1994-03-14"], ["phone", "9479610451"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.581755 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.582750 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.583772 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.584726 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.585570 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.586522 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.587451 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.588450 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2040601768"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.589360 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.590247 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.591183 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "140187960"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.592125 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "140187960"], ["date_of_birth", "2001-03-14"], ["phone", "2672481450"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.592983 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.593680 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:16:16.594280 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:16:16.594799 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.595302 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.595859 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.596212 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.596733 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.597180 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.597561 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.598153 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.598615 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.599000 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.599501 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.600001 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.600356 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.600863 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.601331 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.601732 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.602229 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.602723 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.603180 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.603674 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.604149 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.604727 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.605305 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.605532 #2606]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:16:16.605566 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-03-14T12:16:16.605585 #2606]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:16:16.608552 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.609148 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.609753 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.610019 #2606]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:16.610055 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-03-14T12:16:16.610076 #2606]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:16.612777 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.613693 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.614241 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.614458 #2606]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.614493 #2606]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-03-14T12:16:16.614511 #2606]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.615172 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.616230 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "073705709"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.617326 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "073705709"], ["date_of_birth", "2001-03-14"], ["phone", "4137100569"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.618321 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.619219 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.620143 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.621080 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5847915854"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.622077 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.623005 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.623924 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169574877"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.624851 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "169574877"], ["date_of_birth", "2004-03-14"], ["phone", "2114023585"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.625795 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.626658 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.627531 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384210281"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.628437 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "384210281"], ["date_of_birth", "1994-03-14"], ["phone", "8425057062"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.629348 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.630235 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.631108 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.632033 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.632964 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.633848 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.634740 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.635652 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8564542759"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.636535 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.637372 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.638260 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "120213334"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.639180 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "120213334"], ["date_of_birth", "2001-03-14"], ["phone", "8878015525"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.640098 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.640783 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:16:16.641364 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:16:16.641923 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.642449 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.642973 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.643317 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.643825 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.644297 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.644672 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.645220 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.645739 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.646157 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.646706 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.647188 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.647563 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.648116 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.648625 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.649020 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.649484 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.649986 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.650337 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.650845 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.651358 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.651942 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.652532 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.652776 #2606]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.652811 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Mon, 14 Mar 2005â€º. 
I, [2020-03-14T12:16:16.652830 #2606]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.655780 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.656610 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.657182 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.657422 #2606]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.657462 #2606]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-03-14T12:16:16.657493 #2606]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.658179 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.659212 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "222200595"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.660294 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222200595"], ["date_of_birth", "2001-03-14"], ["phone", "9224335478"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.661181 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.662129 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.663112 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.664047 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9317575426"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.664963 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.665890 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.666875 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "106688641"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.667776 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "106688641"], ["date_of_birth", "2004-03-14"], ["phone", "8647765685"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.668728 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.669679 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.670586 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "114139646"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.671488 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "114139646"], ["date_of_birth", "1994-03-14"], ["phone", "1456532218"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.672380 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.673276 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.674269 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.675163 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.676074 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.676994 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.677903 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.678884 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9381187789"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.679792 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.680679 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.681558 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "290271959"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.682473 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "290271959"], ["date_of_birth", "2001-03-14"], ["phone", "4660095217"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.683422 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.684062 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.684600 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.685093 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.685440 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.685987 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.686464 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.686855 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.687350 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.687855 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.688203 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.688717 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.689216 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.689564 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.690128 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.690621 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.690994 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.691511 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.692000 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.692382 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.692898 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.693381 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.693964 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.694561 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.694801 #2606]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:16:16.694901 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:16.694924 #2606]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:16:16.698173 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.699049 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.699628 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.699880 #2606]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.699916 #2606]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-03-14T12:16:16.699935 #2606]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.703413 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.704270 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.704838 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.705078 #2606]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.705113 #2606]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-03-14T12:16:16.705133 #2606]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.705836 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.706937 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317741120"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.708067 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317741120"], ["date_of_birth", "2001-03-14"], ["phone", "2590930542"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.709007 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.710033 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.711024 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.712014 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6726274505"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.712984 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.713921 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.714898 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194615349"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.715902 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "194615349"], ["date_of_birth", "2004-03-14"], ["phone", "2946418641"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.716906 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.717824 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.718783 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209119362"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.719721 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "209119362"], ["date_of_birth", "1994-03-14"], ["phone", "6737449163"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.720656 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.721558 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.722519 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.723456 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.724347 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.725266 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.726274 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.727179 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3476112112"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.728082 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.728985 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.729951 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "368551412"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.730991 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "368551412"], ["date_of_birth", "2001-03-14"], ["phone", "8094267686"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.731853 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.732332 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.732895 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.733368 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.733803 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.734341 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.734822 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.735196 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.735712 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.736168 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.736525 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.737023 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.737505 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.737929 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.738453 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.738938 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.739322 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.739820 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.740307 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.740671 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.741147 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.741617 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.742220 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.742833 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.743065 #2606]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:16:16.743098 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-03-14T12:16:16.743117 #2606]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:16:16.746327 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.747146 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.747722 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.747944 #2606]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.747979 #2606]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-03-14T12:16:16.747998 #2606]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.748677 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.749781 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "159129237"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.750909 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "159129237"], ["date_of_birth", "2001-03-14"], ["phone", "3581433987"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.751866 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.752875 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.753935 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.754928 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9242868819"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.755921 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.756834 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.757870 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "287468714"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.758819 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "287468714"], ["date_of_birth", "2004-03-14"], ["phone", "2250742035"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.759790 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.760683 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.761615 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376156650"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.762620 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "376156650"], ["date_of_birth", "1994-03-14"], ["phone", "5540126177"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.763567 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.764502 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.765433 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.766393 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.767371 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.768342 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.769306 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.770322 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4875925313"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.771245 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.772171 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.773134 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232336608"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.774105 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "232336608"], ["date_of_birth", "2001-03-14"], ["phone", "1281144856"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.774981 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.775845 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:16:16.776624 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:16:16.777199 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.777793 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.778464 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.778887 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.779413 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.779957 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.780372 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.783353 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.783899 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.784328 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.784864 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.785337 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.785781 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.786297 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.786749 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.787114 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.787633 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.788095 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.788486 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.789029 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.789497 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.790091 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.790699 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.790933 #2606]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.790967 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Fri, 14 Mar 2003â€º. 
I, [2020-03-14T12:16:16.790987 #2606]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.793953 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.794810 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.795378 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.795608 #2606]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:16.795652 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-03-14T12:16:16.795675 #2606]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:16.798272 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.798831 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.799383 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.799612 #2606]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:16:16.799647 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-03-14T12:16:16.799667 #2606]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:16:16.802019 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.802910 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.803447 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.803684 #2606]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:16.803720 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-03-14T12:16:16.803740 #2606]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:16.806358 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.807213 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.807770 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.807991 #2606]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:16.808026 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:16:16.808045 #2606]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:16.810731 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.811534 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.812096 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.812313 #2606]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:16:16.812375 #2606]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-03-14T12:16:16.812398 #2606]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:16:16.813026 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.814144 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168314249"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.815293 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168314249"], ["date_of_birth", "2001-03-14"], ["phone", "6220807662"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.816260 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.817271 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.818308 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.819288 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2453236331"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.820208 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.821128 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.822145 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "136236432"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.823080 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "136236432"], ["date_of_birth", "2004-03-14"], ["phone", "6484404808"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.824027 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.824902 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.825882 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "010850407"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.826833 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "010850407"], ["date_of_birth", "1994-03-14"], ["phone", "2376280998"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.827770 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.828676 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.829688 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.830628 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.831494 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.832393 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.833370 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.834340 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8698260643"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.835265 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.836142 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.837127 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "363685723"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.838114 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "363685723"], ["date_of_birth", "2001-03-14"], ["phone", "6425711339"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.839030 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.839694 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:16:16.840271 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.840824 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.841324 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.841745 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.842270 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.842765 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.843151 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.843625 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.844112 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.844461 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.844939 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.845388 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.845814 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.846336 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.846825 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.847204 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.847700 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.848173 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.848552 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.849054 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.849492 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.850087 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.850703 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.850933 #2606]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.850973 #2606]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-03-14T12:16:16.850992 #2606]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.851688 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.852777 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337121228"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.853921 #2606] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "337121228"], ["date_of_birth", "2001-03-14"], ["phone", "0874779269"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.854927 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.855866 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.856861 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.857843 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9898726374"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.858763 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.859655 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.860708 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "347218658"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.861717 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "347218658"], ["date_of_birth", "2004-03-14"], ["phone", "6217427388"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.862579 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.863508 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.864542 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "136278457"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.865491 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "136278457"], ["date_of_birth", "1994-03-14"], ["phone", "9193940270"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.866441 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.867415 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.868430 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.869345 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.870259 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.871187 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.872186 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.873090 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2916505995"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.874028 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.874931 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.875898 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "212612750"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.876816 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "212612750"], ["date_of_birth", "2001-03-14"], ["phone", "1092906324"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.877708 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.878143 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.878712 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.879202 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.879604 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.880081 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.880567 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.880934 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.881423 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.881942 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.882335 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.882820 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.883305 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.883711 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.884217 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.884679 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.885056 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.885557 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.886039 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.886397 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.886934 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.887397 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.887979 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.888528 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.888805 #2606]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:16:16.888848 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-03-14T12:16:16.888867 #2606]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:16:16.891941 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.892840 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.893371 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.893632 #2606]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:16:16.893752 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:16:16.893773 #2606]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:16:16.896476 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.897261 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.897811 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.898028 #2606]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.898062 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:16:16.898083 #2606]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.901022 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.901928 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.902488 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.902714 #2606]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.902750 #2606]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-03-14T12:16:16.902769 #2606]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.903428 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.904494 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231490428"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.905580 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "231490428"], ["date_of_birth", "2001-03-14"], ["phone", "1809129634"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.906603 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.907534 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.908489 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.909429 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "5495842569"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.910421 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.911262 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.912209 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021865515"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.913130 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "021865515"], ["date_of_birth", "2004-03-14"], ["phone", "4853592939"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.914074 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.914954 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.915849 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "187715874"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.916767 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "187715874"], ["date_of_birth", "1994-03-14"], ["phone", "2112677988"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.917737 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.918633 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.919534 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.920485 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.921403 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.922325 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.923273 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.924214 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9588722813"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.925164 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.926017 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.926889 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049195732"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.927831 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "049195732"], ["date_of_birth", "2001-03-14"], ["phone", "4939692019"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.928747 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.929167 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.929726 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.930182 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.930532 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.931049 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.931539 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.931945 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.932471 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.932953 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.933305 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.933834 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.934325 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.934704 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.935181 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.935656 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.936058 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.936525 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.937016 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.937412 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.937949 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.938401 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.938991 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.939543 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.939778 #2606]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.939813 #2606]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-03-14T12:16:16.939833 #2606]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.940492 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.941628 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014070882"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.942771 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014070882"], ["date_of_birth", "2001-03-14"], ["phone", "7199936424"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.943745 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.944714 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.945727 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.946723 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2601382656"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.947660 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.948549 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.949516 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157855572"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.950587 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "157855572"], ["date_of_birth", "2004-03-14"], ["phone", "3884088248"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:16.951507 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.952432 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.953395 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295374718"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.954382 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "295374718"], ["date_of_birth", "1994-03-14"], ["phone", "4634653611"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:16.955238 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.956213 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.957219 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.958315 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.959177 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.960120 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.961084 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.962065 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8309837564"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:16.962940 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.963807 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.964753 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "009812424"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.965718 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "009812424"], ["date_of_birth", "2001-03-14"], ["phone", "3520591990"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:16.966600 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.967370 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '2002-03-14')[0m
D, [2020-03-14T12:16:16.968179 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '2002-03-14') ORDER BY last_name, first_name[0m
D, [2020-03-14T12:16:16.968777 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.969334 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:16.969921 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.970279 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.970784 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:16.971274 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.971663 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.972135 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:16.972654 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.973008 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.973517 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:16.974087 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.974441 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.975009 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:16.975504 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.975908 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.976375 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:16.976841 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.977230 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.977765 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:16.978250 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:16.978849 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.979428 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.979662 #2606]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.979699 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:16:16.979720 #2606]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:16.982798 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.983673 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.984215 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.984441 #2606]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:16.984475 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:16:16.984494 #2606]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:16.987462 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.988267 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.988826 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.989043 #2606]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:16.989077 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:16.989096 #2606]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:16.991831 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-03-14T12:16:16.992765 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.993326 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.993547 #2606]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:16:16.993580 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-03-14T12:16:16.993611 #2606]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:16:16.996643 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:16.997547 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:16.998160 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:16.998404 #2606]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:16:16.998440 #2606]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-03-14T12:16:16.998459 #2606]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.001893 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.002769 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.003317 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.003548 #2606]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:17.003583 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:16:17.003615 #2606]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:17.006385 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.007261 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.007857 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.008096 #2606]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:16:17.008137 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:16:17.008156 #2606]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:16:17.011130 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.012018 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.012571 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.012848 #2606]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:16:17.012885 #2606]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:16:17.012910 #2606]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:16:17.013612 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.014767 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "102859764"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.015915 #2606] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "102859764"], ["date_of_birth", "2001-03-14"], ["phone", "6959087570"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.016921 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.017956 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.018955 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.019899 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2445186820"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.020810 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.021735 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.022715 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "120264934"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.023636 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "120264934"], ["date_of_birth", "2004-03-14"], ["phone", "7939917031"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.024496 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.025422 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.026386 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249788746"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.027310 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "249788746"], ["date_of_birth", "1994-03-14"], ["phone", "1537136014"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:17.028188 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.029157 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.030133 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.031072 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.031989 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.032968 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.033944 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.034910 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2087807580"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.035845 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.036825 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.037816 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "080097175"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.038910 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "080097175"], ["date_of_birth", "2001-03-14"], ["phone", "4236882715"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:17.042671 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.043136 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.044335 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "120264934"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.045411 #2606] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 0], ["id", 3]]
D, [2020-03-14T12:16:17.046026 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.046717 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.047417 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.047977 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.048458 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.048864 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.049373 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.049892 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.050262 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.050762 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.051223 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.051637 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.052151 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:17.052619 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.053012 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.053498 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:17.053997 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.054373 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.054873 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:17.055346 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.055747 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.056265 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:17.056725 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.057289 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.057894 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.058141 #2606]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.058175 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Tue, 14 Mar 2006â€º. 
I, [2020-03-14T12:16:17.058195 #2606]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.061147 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.062016 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.062580 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.062807 #2606]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:16:17.062867 #2606]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-03-14T12:16:17.062890 #2606]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:16:17.065557 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.066157 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.066695 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.066914 #2606]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.066948 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:16:17.066968 #2606]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.069932 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.070791 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.071329 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.071546 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.071582 #2606]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-03-14T12:16:17.071613 #2606]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.072274 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.073277 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202686284"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.074411 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202686284"], ["date_of_birth", "2001-03-14"], ["phone", "9451584975"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.075407 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.076318 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.077247 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.078238 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3759745519"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.079180 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.080050 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.080973 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236791500"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.081922 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "236791500"], ["date_of_birth", "2004-03-14"], ["phone", "4464160085"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.082862 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.083771 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.084661 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125393547"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.085601 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "125393547"], ["date_of_birth", "1994-03-14"], ["phone", "1790825198"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:17.086607 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.087500 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.088378 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.089270 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.090305 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.091182 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.092079 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.092994 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9188198173"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.093948 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.094822 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.095716 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166250121"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.096619 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "166250121"], ["date_of_birth", "2001-03-14"], ["phone", "4145793965"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:17.097538 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.098335 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:16:17.098952 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:16:17.099540 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.100073 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.100581 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.100986 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.101539 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.102063 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.102443 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.102981 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.103446 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.103853 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.104319 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:17.104810 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.105186 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.105740 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:17.106211 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.106602 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.107110 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:17.107585 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.108006 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.108480 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:17.108961 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.109525 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.110151 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.110383 #2606]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:16:17.110418 #2606]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:16:17.110436 #2606]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:16:17.111097 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.112159 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "199763008"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.113262 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "199763008"], ["date_of_birth", "2001-03-14"], ["phone", "6061726053"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.114218 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.115129 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.116083 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.117018 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4640669617"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.117979 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.118826 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.119716 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041788843"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.120646 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "041788843"], ["date_of_birth", "2004-03-14"], ["phone", "1250174797"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.121545 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.122444 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.123351 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153776054"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.124285 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "153776054"], ["date_of_birth", "1994-03-14"], ["phone", "2325603477"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:17.125211 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.126151 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.127062 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.128014 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.128921 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.129839 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.130725 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.131672 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5437512879"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.132557 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.133400 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.134298 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178013727"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.135223 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "178013727"], ["date_of_birth", "2001-03-14"], ["phone", "4425267379"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:17.136148 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.136571 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.137575 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "153776054"], ["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.138557 #2606] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 1], ["id", 4]]
D, [2020-03-14T12:16:17.139174 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.139866 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.140523 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.141087 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.141586 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.142012 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.142481 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.143020 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.143367 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.143884 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.144379 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.144767 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.145264 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:17.145761 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.146138 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.146637 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:17.147111 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.147479 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.147999 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:17.148460 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.148843 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.149338 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:17.149855 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.150506 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.151096 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.151352 #2606]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:16:17.151387 #2606]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-03-14T12:16:17.151408 #2606]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:16:17.152382 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.152894 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.153103 #2606]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:16:17.153136 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-03-14T12:16:17.153156 #2606]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:16:17.155935 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.156816 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.157374 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.157640 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.157704 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Wed, 14 Mar 2007 08:16:14 EDT -04:00â€º. 
I, [2020-03-14T12:16:17.157725 #2606]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.160792 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.161606 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.162197 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.162447 #2606]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:17.162487 #2606]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-03-14T12:16:17.162506 #2606]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:17.163106 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.164209 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026804513"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.165324 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "026804513"], ["date_of_birth", "2001-03-14"], ["phone", "3029665080"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.166252 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.167223 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.168211 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.169116 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1228586759"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.170044 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.170927 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.171936 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362027058"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.172864 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "362027058"], ["date_of_birth", "2004-03-14"], ["phone", "6981235780"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.173758 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.174661 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.175652 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232694683"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.176561 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "232694683"], ["date_of_birth", "1994-03-14"], ["phone", "7880454543"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:17.177417 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.178387 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.179330 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.180272 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.181145 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.182128 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.183074 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.184014 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9591515396"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.184879 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.185824 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.186755 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "199729025"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.187690 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "199729025"], ["date_of_birth", "2001-03-14"], ["phone", "6536129886"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:17.188618 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.189069 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.189623 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.190166 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.190551 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.191030 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.191501 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.191910 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.192409 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.192904 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.193297 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.193867 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:17.194357 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.194717 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.195232 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:17.195722 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.196115 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.196611 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:17.197088 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.197433 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.197941 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:17.198389 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.199028 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.199627 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.199889 #2606]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.199924 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:16:17.199944 #2606]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.203099 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.203911 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.204431 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.204678 #2606]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:17.204720 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-03-14T12:16:17.204740 #2606]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:17.207431 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.208313 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.208843 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.209058 #2606]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.209104 #2606]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-03-14T12:16:17.209123 #2606]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.209771 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.210836 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374579036"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.211968 #2606] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374579036"], ["date_of_birth", "2001-03-14"], ["phone", "1970949041"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.212867 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.213830 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.214859 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.215822 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2274419870"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.216733 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.217680 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.218634 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "156382013"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.219556 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "156382013"], ["date_of_birth", "2004-03-14"], ["phone", "0397626480"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.220469 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.221365 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.222290 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "181293639"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.223239 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "181293639"], ["date_of_birth", "1994-03-14"], ["phone", "7552844208"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:17.224175 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.225036 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.226019 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.226942 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.227861 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.228839 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.230118 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.231058 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3320027700"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.232062 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.232936 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.233946 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350757001"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.234859 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "350757001"], ["date_of_birth", "2001-03-14"], ["phone", "2067596060"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:17.235804 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.237144 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084359822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.238224 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.238794 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.239320 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.239694 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.240204 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.240678 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.241059 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.241525 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.242072 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.242455 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.242964 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:17.243434 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.243819 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.244337 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:17.244818 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.245219 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.245757 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:17.246240 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.246635 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.247117 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:17.247572 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.248152 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.248724 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.248967 #2606]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.249002 #2606]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-03-14T12:16:17.249022 #2606]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.249727 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.250809 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097026411"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.251899 #2606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "097026411"], ["date_of_birth", "2001-03-14"], ["phone", "0018009794"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.252750 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.253622 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.254589 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.255472 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4660617784"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.256365 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.257254 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.258197 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317105666"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.259096 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "317105666"], ["date_of_birth", "2004-03-14"], ["phone", "5055545466"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:17.260093 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.261027 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.261951 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320155833"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.262909 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "320155833"], ["date_of_birth", "1994-03-14"], ["phone", "0677542180"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:17.263926 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.264870 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.265838 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.266707 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.267646 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.268528 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.269415 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.270296 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9508011777"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:17.271263 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.272113 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.273029 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "094006309"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.273953 #2606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "094006309"], ["date_of_birth", "2001-03-14"], ["phone", "5259613588"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:17.274956 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.275726 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.276425 #2606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.277185 #2606] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.277789 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.278312 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.278837 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.279234 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.279766 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.280265 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.280660 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.281152 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.281697 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.282074 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.282551 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:17.283046 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.283472 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.284014 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:17.284541 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.284944 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.285485 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:17.286040 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.286532 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.287090 #2606] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:17.290483 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.291169 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.291867 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.292137 #2606]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:17.292174 #2606]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:17.292194 #2606]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:17.295068 #2606] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.295919 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.296930 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.297164 #2606]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.297201 #2606]  INFO -- : StoreTest: test_: Given context should have all inactive stores accounted for. 
I, [2020-03-14T12:16:17.297222 #2606]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.297774 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.298789 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.299897 #2606] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2898924389"], ["active", 1]]
D, [2020-03-14T12:16:17.300856 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.301610 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.302479 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.303404 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:17.304377 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.305136 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.306015 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.306935 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0309644148"], ["active", 0]]
D, [2020-03-14T12:16:17.307784 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.308651 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.309380 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.310230 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.310774 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.311311 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.311825 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.312218 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.312736 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.313200 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.313571 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.314103 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.314561 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.315143 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.315727 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.315956 #2606]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:17.315989 #2606]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:16:17.316009 #2606]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:17.318850 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.319385 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.319943 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.320170 #2606]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:16:17.320215 #2606]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"WV"â€º. 
I, [2020-03-14T12:16:17.320235 #2606]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:16:17.322374 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.322896 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.323414 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.323710 #2606]  INFO -- : ---------------------------------------------------------------
I, [2020-03-14T12:16:17.323747 #2606]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:17.323766 #2606]  INFO -- : ---------------------------------------------------------------
D, [2020-03-14T12:16:17.326112 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.326621 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.327100 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.327358 #2606]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:16:17.327393 #2606]  INFO -- : StoreTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:16:17.327411 #2606]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:16:17.327924 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.328826 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.329920 #2606] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1038771234"], ["active", 1]]
D, [2020-03-14T12:16:17.330787 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.331479 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.332248 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.333144 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:17.334053 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.334726 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.335504 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.336379 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4385212190"], ["active", 0]]
D, [2020-03-14T12:16:17.337281 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.337764 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.338610 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "Hazelwood"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.339547 #2606] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 1], ["id", 3]]
D, [2020-03-14T12:16:17.340166 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.340836 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.341491 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.342057 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.342553 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.342935 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.343416 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.343903 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.344282 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.344835 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.345297 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.345898 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.346457 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.346737 #2606]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.346774 #2606]  INFO -- : StoreTest: test_: Store should validate that :name is case-insensitively unique. 
I, [2020-03-14T12:16:17.346793 #2606]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.347393 #2606] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.347934 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.348655 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("phone") VALUES (?)[0m  [["phone", ""]]
D, [2020-03-14T12:16:17.349156 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.349617 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.350293 #2606] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ? WHERE "stores"."id" = ?[0m  [["name", "an arbitrary value"], ["id", 1]]
D, [2020-03-14T12:16:17.350832 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.353698 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.356782 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "AN ARBITRARY VALUE"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.357995 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.358632 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.358863 #2606]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:17.358898 #2606]  INFO -- : StoreTest: test_: Store should validate that :city cannot be empty/falsy. 
I, [2020-03-14T12:16:17.358917 #2606]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:17.361884 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.362456 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.362978 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.363231 #2606]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:16:17.363265 #2606]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"OH"â€º. 
I, [2020-03-14T12:16:17.363284 #2606]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:16:17.365437 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.365992 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.366512 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.366757 #2606]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:16:17.366792 #2606]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"PA"â€º. 
I, [2020-03-14T12:16:17.366812 #2606]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:16:17.368936 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.369464 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.370021 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.370245 #2606]  INFO -- : -----------------------------------------------------------
I, [2020-03-14T12:16:17.370280 #2606]  INFO -- : StoreTest: test_: Store should allow :zip to be â€¹"15213"â€º. 
I, [2020-03-14T12:16:17.370299 #2606]  INFO -- : -----------------------------------------------------------
D, [2020-03-14T12:16:17.372410 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.372934 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.373443 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.373709 #2606]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:17.373748 #2606]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:16:17.373814 #2606]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:17.376197 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.376726 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.377262 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.377487 #2606]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:17.377536 #2606]  INFO -- : StoreTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:16:17.377568 #2606]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:17.378064 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.378881 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.379954 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8415426644"], ["active", 1]]
D, [2020-03-14T12:16:17.380926 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.381580 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.382357 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.383226 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:17.384180 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.384863 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.385631 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.386481 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9263378397"], ["active", 0]]
D, [2020-03-14T12:16:17.387447 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.387855 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.388760 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "CMU"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.389671 #2606] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 0], ["id", 1]]
D, [2020-03-14T12:16:17.390224 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.390908 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.391589 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.392097 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.392603 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.392993 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.393525 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.394009 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.394372 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.394882 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.395380 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.395955 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.396539 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.396775 #2606]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:17.396809 #2606]  INFO -- : StoreTest: test_: Given context should list stores alphabetically. 
I, [2020-03-14T12:16:17.396827 #2606]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:17.397314 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.398223 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.399280 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1652468461"], ["active", 1]]
D, [2020-03-14T12:16:17.400227 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.400989 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.401794 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.402702 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:17.403582 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.404297 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.405070 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.405989 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8398072774"], ["active", 0]]
D, [2020-03-14T12:16:17.406907 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.407526 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" ORDER BY name[0m
D, [2020-03-14T12:16:17.408102 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.408670 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.409222 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.409679 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.410196 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.410671 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.411022 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.411511 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.412007 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.412601 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.413165 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.413390 #2606]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:16:17.413430 #2606]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"CA"â€º. 
I, [2020-03-14T12:16:17.413449 #2606]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:16:17.416099 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.416698 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.417265 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.417512 #2606]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:16:17.417548 #2606]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹10â€º. 
I, [2020-03-14T12:16:17.417569 #2606]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:16:17.420221 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.420796 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.421344 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.421563 #2606]  INFO -- : ------------------------------------------------------
I, [2020-03-14T12:16:17.421606 #2606]  INFO -- : StoreTest: test_: Store should have many assignments. 
I, [2020-03-14T12:16:17.421635 #2606]  INFO -- : ------------------------------------------------------
D, [2020-03-14T12:16:17.422545 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.423038 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.423294 #2606]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:17.423328 #2606]  INFO -- : StoreTest: test_: Store should have many employees through assignments. 
I, [2020-03-14T12:16:17.423349 #2606]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:17.424121 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.424648 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.424898 #2606]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:17.424932 #2606]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:16:17.424952 #2606]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:17.427375 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.427919 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.428424 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.428647 #2606]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:17.428682 #2606]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:16:17.428758 #2606]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:17.431290 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.431886 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.432383 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.432644 #2606]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:16:17.432679 #2606]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:16:17.432699 #2606]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:16:17.434888 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.435403 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.435937 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.436155 #2606]  INFO -- : ----------------------------------------------------------------
I, [2020-03-14T12:16:17.436189 #2606]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"152134"â€º. 
I, [2020-03-14T12:16:17.436251 #2606]  INFO -- : ----------------------------------------------------------------
D, [2020-03-14T12:16:17.438679 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.439193 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.439700 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.439957 #2606]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:16:17.439992 #2606]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹nilâ€º. 
I, [2020-03-14T12:16:17.440011 #2606]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:16:17.442613 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.443123 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.443646 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.443906 #2606]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:17.443941 #2606]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"15213-0983"â€º. 
I, [2020-03-14T12:16:17.443960 #2606]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:17.446326 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.446888 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.447414 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.447663 #2606]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:17.447698 #2606]  INFO -- : StoreTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:16:17.447717 #2606]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:17.448193 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.449106 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.450190 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2923845554"], ["active", 1]]
D, [2020-03-14T12:16:17.451049 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.451787 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.452587 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.453513 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:17.454411 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.455189 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.456045 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.456962 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6201857580"], ["active", 0]]
D, [2020-03-14T12:16:17.457935 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.458378 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.458902 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.459442 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.459812 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.460324 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.460813 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.461213 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.461753 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.462252 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.462810 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.463413 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.463678 #2606]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:17.463719 #2606]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:16:17.463739 #2606]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:17.466358 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.466914 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.467450 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.467677 #2606]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:16:17.467718 #2606]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:16:17.467760 #2606]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:16:17.470274 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.470848 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.471365 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.471615 #2606]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:16:17.471652 #2606]  INFO -- : StoreTest: test_: Given context should have all active stores accounted for. 
I, [2020-03-14T12:16:17.471671 #2606]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:16:17.472139 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.473050 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.474182 #2606] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2567111091"], ["active", 1]]
D, [2020-03-14T12:16:17.475130 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.475870 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.476647 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.477520 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:17.478474 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.479195 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.479982 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.480825 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7643197725"], ["active", 0]]
D, [2020-03-14T12:16:17.481819 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.482560 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.483187 #2606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.483953 #2606] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:17.484487 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.485047 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.485538 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.485987 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.486531 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.487028 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.487378 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.487860 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.488351 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.488936 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.489506 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.489816 #2606]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:16:17.489855 #2606]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"NY"â€º. 
I, [2020-03-14T12:16:17.489875 #2606]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:16:17.492490 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.493079 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.493632 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.493912 #2606]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:17.493948 #2606]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:16:17.493968 #2606]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:17.496340 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.496886 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.497425 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.497687 #2606]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:16:17.497725 #2606]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"1512"â€º. 
I, [2020-03-14T12:16:17.497743 #2606]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:16:17.500252 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.500802 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.501323 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.501547 #2606]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:17.501584 #2606]  INFO -- : StoreTest: test_: Given context should shows that Oakland's phone is stripped of non-digits. 
I, [2020-03-14T12:16:17.501625 #2606]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:17.502125 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.503052 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.504156 #2606] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5515061847"], ["active", 1]]
D, [2020-03-14T12:16:17.505088 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.505823 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.506660 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.507536 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:17.508472 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.509216 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.510042 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:17.510988 #2606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2864186746"], ["active", 0]]
D, [2020-03-14T12:16:17.511904 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.512322 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.512879 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:17.513367 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.513786 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.514298 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:17.514818 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.515176 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.515726 #2606] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:17.516197 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:17.516763 #2606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.517354 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.517627 #2606]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:16:17.517691 #2606]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:16:17.517714 #2606]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:16:17.520087 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.520644 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.521220 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.521447 #2606]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:17.521483 #2606]  INFO -- : StoreTest: test_: Store should validate that :name cannot be empty/falsy. 
I, [2020-03-14T12:16:17.521504 #2606]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:17.524519 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.525122 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.525718 #2606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.525941 #2606]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:17.525975 #2606]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:16:17.525995 #2606]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:17.528368 #2606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.528921 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.529445 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.529724 #2606]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:16:17.529762 #2606]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:16:17.529782 #2606]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:16:17.532305 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.532883 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.533406 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.533642 #2606]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:16:17.533702 #2606]  INFO -- : StoreTest: test_: Store should validate that :street cannot be empty/falsy. 
I, [2020-03-14T12:16:17.533728 #2606]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:16:17.536714 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.537296 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:17.537923 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:17.538167 #2606]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:16:17.538202 #2606]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:17.538227 #2606]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:16:17.540979 #2606] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:17.541769 #2606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:56.913290 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-14T12:16:57.122049 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.122417 #2689]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:16:57.122456 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-03-14T12:16:57.122479 #2689]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:16:57.140691 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.141433 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.142113 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.142381 #2689]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.142417 #2689]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-03-14T12:16:57.142438 #2689]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.143547 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.144752 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "207552418"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.146166 #2689] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "207552418"], ["date_of_birth", "2001-03-14"], ["phone", "4500626492"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.147110 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.148052 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.149000 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.149923 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4793266174"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.150811 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.151659 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.152583 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037806035"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.153499 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "037806035"], ["date_of_birth", "2004-03-14"], ["phone", "8903197238"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.154433 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.155297 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.156192 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133646873"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.157108 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "133646873"], ["date_of_birth", "1994-03-14"], ["phone", "9801999833"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.157999 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.158909 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.159798 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.160719 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.161518 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.162437 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.163319 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.164199 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8671239744"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.165094 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.165910 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.166834 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334771021"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.167718 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "334771021"], ["date_of_birth", "2001-03-14"], ["phone", "7682178609"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.168547 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.169056 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.169683 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.170188 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.170582 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.171114 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.171583 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.171996 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.172465 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.172937 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.173277 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.173827 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.174269 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.174616 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.175134 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.175551 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.175948 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.176407 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.176873 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.177252 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.177749 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.178212 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.178810 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.179416 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.179639 #2689]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.179674 #2689]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-03-14T12:16:57.179694 #2689]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.180367 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.181420 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225913135"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.182473 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "225913135"], ["date_of_birth", "2001-03-14"], ["phone", "7065947112"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.183359 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.184254 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.185148 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.186121 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0942673448"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.186939 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.187768 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.188651 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "129728168"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.189529 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "129728168"], ["date_of_birth", "2004-03-14"], ["phone", "4773894292"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.190386 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.191218 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.192114 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "170585153"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.192980 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "170585153"], ["date_of_birth", "1994-03-14"], ["phone", "9900035962"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.193878 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.194705 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.195592 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.196468 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.197304 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.198176 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.199068 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.199942 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8042868140"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.200799 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.201591 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.202537 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371229318"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.203419 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "371229318"], ["date_of_birth", "2001-03-14"], ["phone", "9105222055"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.204252 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.205470 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084359822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.206555 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.207092 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.207566 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.207947 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.208431 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.208909 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.209256 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.209767 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.210215 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.210569 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.211052 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.211516 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.211891 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.212353 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.212813 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.213178 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.213692 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.214154 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.214534 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.215006 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.215463 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.216015 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.216555 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.216782 #2689]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:16:57.216816 #2689]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-03-14T12:16:57.216835 #2689]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:16:57.223102 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.223678 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.223908 #2689]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:16:57.223943 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:16:57.223968 #2689]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:16:57.226870 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.227703 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.228294 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.228508 #2689]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:16:57.228543 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:57.228564 #2689]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:16:57.231666 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.232486 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.233013 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.233247 #2689]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:57.233281 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-03-14T12:16:57.233301 #2689]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:57.235813 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.236655 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.237179 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.237390 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.237423 #2689]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-03-14T12:16:57.237469 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.238149 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.239167 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310245799"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.240262 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "310245799"], ["date_of_birth", "2001-03-14"], ["phone", "9997747262"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.241146 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.242070 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.243046 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.243936 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0740134224"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.244789 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.245609 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.246604 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367784922"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.247493 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "367784922"], ["date_of_birth", "2004-03-14"], ["phone", "5699760971"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.248334 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.249221 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.250168 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "207381424"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.251066 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "207381424"], ["date_of_birth", "1994-03-14"], ["phone", "1061925283"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.251940 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.252799 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.253734 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.254595 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.255455 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.256355 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.257245 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.258175 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0443738251"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.259015 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.259932 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.260818 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281913880"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.261748 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "281913880"], ["date_of_birth", "2001-03-14"], ["phone", "5788369480"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.262618 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.263443 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:16:57.264065 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-14T12:16:57.265538 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.266222 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.266725 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.267115 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.267617 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.268087 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.268430 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.268930 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.269387 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.269793 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.270258 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.270752 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.271106 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.271591 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.272058 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.272452 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.272920 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.273395 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.273802 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.274309 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.274788 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.275384 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.275964 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.276206 #2689]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:16:57.276244 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:16:57.276265 #2689]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:16:57.279530 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.280359 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.281007 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.281225 #2689]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.281259 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:16:57.281279 #2689]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.284380 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.285223 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.285851 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.286094 #2689]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:16:57.286128 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-03-14T12:16:57.286148 #2689]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:16:57.288739 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.289540 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.290104 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.290314 #2689]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.290361 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Fri, 14 Mar 2003â€º. 
I, [2020-03-14T12:16:57.290383 #2689]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.293090 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.293932 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.294475 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.294697 #2689]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:16:57.294732 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:16:57.294763 #2689]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:16:57.297726 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.298582 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.299224 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.309429 #2689]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:57.309511 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:16:57.309533 #2689]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:57.312354 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.313212 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.313775 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.314016 #2689]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:57.314051 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-03-14T12:16:57.314072 #2689]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:57.316510 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.317051 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.317548 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.317809 #2689]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:16:57.317846 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-03-14T12:16:57.317867 #2689]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:16:57.320546 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.321341 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.321876 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.322082 #2689]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-14T12:16:57.322116 #2689]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-03-14T12:16:57.322137 #2689]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-14T12:16:57.322779 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.323787 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "017433266"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.324875 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "017433266"], ["date_of_birth", "2001-03-14"], ["phone", "0912865926"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.325761 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.326657 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.327575 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.328483 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6416823430"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.329342 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.330208 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.331130 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088522310"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.332086 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "088522310"], ["date_of_birth", "2004-03-14"], ["phone", "1818131032"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.333061 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.333995 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.334938 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218949838"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.335833 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "218949838"], ["date_of_birth", "1994-03-14"], ["phone", "8730272773"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.336665 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.337508 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.338494 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.339361 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.340174 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.341027 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.341975 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.342834 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8119069520"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.343664 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.344491 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.345376 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154054179"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.346269 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "154054179"], ["date_of_birth", "2001-03-14"], ["phone", "6516242005"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.347089 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.347726 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:16:57.348289 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.348818 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.349280 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.349636 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.350111 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.350567 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.350925 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.351385 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.351842 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.352200 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.352674 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.353114 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.353443 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.353952 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.354386 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.354748 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.355197 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.355631 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.355964 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.356429 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.356871 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.357406 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.358011 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.358221 #2689]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:16:57.358254 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-03-14T12:16:57.358274 #2689]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:16:57.360827 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.361394 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.361992 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.362234 #2689]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:57.362271 #2689]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-03-14T12:16:57.362292 #2689]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:57.362954 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.363989 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091880414"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.365065 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091880414"], ["date_of_birth", "2001-03-14"], ["phone", "2250973692"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.365937 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.366836 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.367754 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.368651 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0301005122"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.369471 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.370346 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.371251 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331281384"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.372108 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "331281384"], ["date_of_birth", "2004-03-14"], ["phone", "3070737841"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.372975 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.373844 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.374792 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126359524"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.375680 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "126359524"], ["date_of_birth", "1994-03-14"], ["phone", "8289016184"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.376542 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.377391 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.378341 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.379257 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.380121 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.381046 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.382000 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.382892 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9359501240"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.383736 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.384680 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.385585 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035804521"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.386443 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "035804521"], ["date_of_birth", "2001-03-14"], ["phone", "6978526574"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.387301 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.387693 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.388203 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.388674 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.389035 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.389500 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.389978 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.390314 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.390798 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.391250 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.391605 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.392074 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.392515 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.392885 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.393324 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.393786 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.394129 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.394599 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.395099 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.395461 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.395913 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.396379 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.396904 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.397469 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.397708 #2689]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:57.397743 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-03-14T12:16:57.397764 #2689]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:57.400348 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.401175 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.401768 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.402042 #2689]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.402077 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Mon, 14 Mar 2005â€º. 
I, [2020-03-14T12:16:57.402098 #2689]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.404735 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.405514 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.406076 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.406285 #2689]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.406319 #2689]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-03-14T12:16:57.406339 #2689]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.409507 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.410379 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.410904 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.411140 #2689]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.411175 #2689]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-03-14T12:16:57.411196 #2689]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.411850 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.412926 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350015734"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.414030 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350015734"], ["date_of_birth", "2001-03-14"], ["phone", "8160936515"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.414923 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.415871 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.416889 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.417820 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4485195126"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.418752 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.419632 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.420592 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169008996"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.421516 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "169008996"], ["date_of_birth", "2004-03-14"], ["phone", "7186725185"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.422386 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.423288 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.424253 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218847038"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.425134 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "218847038"], ["date_of_birth", "1994-03-14"], ["phone", "3675898641"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.426075 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.426960 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.427920 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.428816 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.429642 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.430565 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.431501 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.432430 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6759220078"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.433308 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.434189 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.435155 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145570805"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.436293 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "145570805"], ["date_of_birth", "2001-03-14"], ["phone", "4584154135"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.437173 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.437917 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:16:57.438553 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-14T12:16:57.439063 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.439613 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.440123 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.440505 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.440993 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.441464 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.441863 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.442379 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.442867 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.443254 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.443788 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.444263 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.444651 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.445117 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.445561 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.445981 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.446460 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.446931 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.447306 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.447805 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.448248 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.448977 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.449571 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.449824 #2689]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.449861 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Tue, 14 Mar 2006â€º. 
I, [2020-03-14T12:16:57.449882 #2689]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.452758 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.453573 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.454167 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.454384 #2689]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:57.454418 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:16:57.454439 #2689]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:57.456974 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.457774 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.458299 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.458520 #2689]  INFO -- : -----------------------------------------------------------------
I, [2020-03-14T12:16:57.458554 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-03-14T12:16:57.458574 #2689]  INFO -- : -----------------------------------------------------------------
D, [2020-03-14T12:16:57.461490 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.462324 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.462853 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.463076 #2689]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.463122 #2689]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-03-14T12:16:57.463144 #2689]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.463803 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.464846 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221376669"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.465925 #2689] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "221376669"], ["date_of_birth", "2001-03-14"], ["phone", "3531563826"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.466861 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.467760 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.468699 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.469594 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9106915793"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.470454 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.471271 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.472175 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034276203"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.473051 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "034276203"], ["date_of_birth", "2004-03-14"], ["phone", "4625317473"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.473915 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.474820 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.475710 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335777309"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.476579 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "335777309"], ["date_of_birth", "1994-03-14"], ["phone", "0897326256"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.477395 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.478298 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.479211 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.480131 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.481018 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.481952 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.482852 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.483715 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2713837106"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.484588 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.485519 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.486483 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148258302"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.487365 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "148258302"], ["date_of_birth", "2001-03-14"], ["phone", "3628167477"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.488189 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.488965 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.489666 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.490366 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.490872 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.491381 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.491862 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.492216 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.492691 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.493143 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.493500 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.494005 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.494443 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.494814 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.495381 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.495900 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.496267 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.496741 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.497188 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.497540 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.498028 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.498506 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.498878 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.499357 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.499803 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.500339 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.500943 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.501154 #2689]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.501188 #2689]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-03-14T12:16:57.501208 #2689]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.501865 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.502905 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000754515"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.503931 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "000754515"], ["date_of_birth", "2001-03-14"], ["phone", "2745797174"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.504749 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.505675 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.506597 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.507516 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2051136368"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.508467 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.509379 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.510401 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305901449"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.511328 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "305901449"], ["date_of_birth", "2004-03-14"], ["phone", "5052784725"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.512256 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.513128 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.514124 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113157430"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.515018 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "113157430"], ["date_of_birth", "1994-03-14"], ["phone", "1190314446"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.515957 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.516892 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.517811 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.518738 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.519655 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.520551 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.521490 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.522403 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0980226559"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.523317 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.524229 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.525169 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "075954831"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.526167 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "075954831"], ["date_of_birth", "2001-03-14"], ["phone", "7188421542"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.527303 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.531442 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:16:57.532043 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-14T12:16:57.532554 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.533147 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.533640 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.534033 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.534529 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.534981 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.535339 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.535820 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.536261 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.536634 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.537082 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.537551 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.537918 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.538386 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.538848 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.539203 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.539684 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.540124 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.540482 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.540969 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.541428 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.542009 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.542585 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.542821 #2689]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.542856 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:16:57.542877 #2689]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.545773 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.546614 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.547148 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.547384 #2689]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.547430 #2689]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-03-14T12:16:57.547452 #2689]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.548102 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.549076 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "137067772"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.550129 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "137067772"], ["date_of_birth", "2001-03-14"], ["phone", "3083880630"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.550971 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.551838 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.552775 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.553614 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6293536821"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.554490 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.555323 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.556202 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "079820226"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.557077 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "079820226"], ["date_of_birth", "2004-03-14"], ["phone", "7639306006"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.557940 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.558763 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.559639 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "250550351"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.560461 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "250550351"], ["date_of_birth", "1994-03-14"], ["phone", "6458916993"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.561289 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.562151 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.563009 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.563871 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.564695 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.565544 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.566413 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.567255 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8405501820"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.568077 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.568889 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.569777 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037238979"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.570602 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "037238979"], ["date_of_birth", "2001-03-14"], ["phone", "2437483365"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.571469 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.572176 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.572864 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.573699 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.574349 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.574869 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.575335 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.575681 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.576159 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.576600 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.576970 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.577441 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.577911 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.578280 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.578731 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.579184 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.579544 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.580051 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.580494 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.580885 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.581346 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.581835 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.582171 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.582655 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.583077 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.583616 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.584217 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.584429 #2689]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.584462 #2689]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-03-14T12:16:57.584484 #2689]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.585146 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.586206 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209066453"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.587743 #2689] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209066453"], ["date_of_birth", "2001-03-14"], ["phone", "2958477222"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.589186 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.590653 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.592101 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.593536 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8219256735"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.594944 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.596208 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.597402 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194521688"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.598358 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "194521688"], ["date_of_birth", "2004-03-14"], ["phone", "1530868791"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.599241 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.600106 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.601040 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072556163"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.601952 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "072556163"], ["date_of_birth", "1994-03-14"], ["phone", "9093290575"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.602808 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.603675 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.604542 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.605411 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.606263 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.607120 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.608005 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.608858 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0490517456"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.609692 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.610498 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.611349 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295808371"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.612201 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "295808371"], ["date_of_birth", "2001-03-14"], ["phone", "9552379764"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.613060 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.613462 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.614010 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.614462 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.614855 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.615331 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.615783 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.616122 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.616600 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.617047 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.617414 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.617924 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.618367 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.618711 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.619182 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.619632 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.619987 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.620446 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.620894 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.621253 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.621723 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.622200 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.622739 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.623294 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.623523 #2689]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-14T12:16:57.623556 #2689]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-03-14T12:16:57.623576 #2689]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-14T12:16:57.627306 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.627926 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.628160 #2689]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:57.628199 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-03-14T12:16:57.628220 #2689]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:57.630931 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.631792 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.632335 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.632557 #2689]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.632637 #2689]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-03-14T12:16:57.632660 #2689]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.633292 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.634336 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "340713353"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.635354 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "340713353"], ["date_of_birth", "2001-03-14"], ["phone", "7496443860"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.636268 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.637135 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.638093 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.638958 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4273164910"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.639810 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.640634 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.641521 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103774568"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.642374 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "103774568"], ["date_of_birth", "2004-03-14"], ["phone", "1347718214"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.643260 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.644094 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.644955 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103843673"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.645814 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "103843673"], ["date_of_birth", "1994-03-14"], ["phone", "2948538548"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.646652 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.647501 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.648373 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.649223 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.650099 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.650965 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.651848 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.652671 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8857052066"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.653530 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.654357 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.655243 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117935363"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.656069 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "117935363"], ["date_of_birth", "2001-03-14"], ["phone", "8802225362"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.656921 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.657766 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '2002-03-14')[0m
D, [2020-03-14T12:16:57.658552 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '2002-03-14') ORDER BY last_name, first_name[0m
D, [2020-03-14T12:16:57.659127 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.659673 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.660150 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.660515 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.661011 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.661456 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.661870 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.662356 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.662809 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.663189 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.663682 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.664128 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.664531 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.665011 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.665683 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.666171 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.666774 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.667373 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.667857 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.668460 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.669072 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.669768 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.670480 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.670726 #2689]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.670761 #2689]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-03-14T12:16:57.670783 #2689]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.671426 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.672472 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195600689"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.673529 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "195600689"], ["date_of_birth", "2001-03-14"], ["phone", "8012264914"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.674405 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.675271 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.676230 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.677089 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7794428247"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.677945 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.678773 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.679700 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "165083048"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.680562 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "165083048"], ["date_of_birth", "2004-03-14"], ["phone", "1808096536"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.681375 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.682277 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.683144 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192710896"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.684000 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "192710896"], ["date_of_birth", "1994-03-14"], ["phone", "0740872981"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.684795 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.685630 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.686515 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.687346 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.688179 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.689054 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.689980 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.690878 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7836844072"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.691717 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.692535 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.693437 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001309048"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.694377 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "001309048"], ["date_of_birth", "2001-03-14"], ["phone", "6471320966"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.695230 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.695665 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.696168 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.696674 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.697071 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.697549 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.698021 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.698402 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.698863 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.699310 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.699680 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.700174 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.700678 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.701060 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.701564 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.702069 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.702426 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.702925 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.703347 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.703706 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.704179 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.704638 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.705189 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.705764 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.706006 #2689]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:16:57.706045 #2689]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:16:57.706064 #2689]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:16:57.706712 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.707723 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "011656536"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.708809 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "011656536"], ["date_of_birth", "2001-03-14"], ["phone", "6541878114"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.709717 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.710606 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.711529 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.712457 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1728674607"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.713318 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.714175 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.715082 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305317208"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.715953 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "305317208"], ["date_of_birth", "2004-03-14"], ["phone", "1480933662"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.716785 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.717639 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.718509 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157283615"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.719390 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "157283615"], ["date_of_birth", "1994-03-14"], ["phone", "8082345412"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.720247 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.721109 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.722050 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.722945 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.723865 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.724700 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.725595 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.726514 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7490626933"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.727427 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.728329 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.729231 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268204758"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.730154 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "268204758"], ["date_of_birth", "2001-03-14"], ["phone", "2579946167"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.731050 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.731475 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.732430 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "157283615"], ["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.733475 #2689] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 1], ["id", 4]]
D, [2020-03-14T12:16:57.734094 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.734840 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.735496 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.736040 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.736488 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.736858 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.737326 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.737880 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.738277 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.738808 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.739307 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.739704 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.740212 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.740747 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.741123 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.741679 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.745369 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.745775 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.746278 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.746753 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.747128 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.747634 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.748086 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.748652 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.749267 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.749479 #2689]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.749512 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:16:57.749533 #2689]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.752602 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.753406 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.753990 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.754231 #2689]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.754265 #2689]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-03-14T12:16:57.754285 #2689]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.757463 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.758299 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.758871 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.759102 #2689]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.759136 #2689]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-03-14T12:16:57.759155 #2689]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.759799 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.760829 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158746220"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.761972 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "158746220"], ["date_of_birth", "2001-03-14"], ["phone", "7320849661"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.762840 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.763714 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.764645 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.765496 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8604259310"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.766424 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.767256 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.768143 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "070533110"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.769009 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "070533110"], ["date_of_birth", "2004-03-14"], ["phone", "8784548826"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.769893 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.770765 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.771687 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "366517305"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.772541 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "366517305"], ["date_of_birth", "1994-03-14"], ["phone", "7441673417"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.773405 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.774306 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.775229 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.776067 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.776935 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.777821 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.778707 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.779516 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7835931023"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.780356 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.781158 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.782033 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "085075521"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.782850 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "085075521"], ["date_of_birth", "2001-03-14"], ["phone", "6028824350"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.783736 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.784487 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:16:57.785159 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '2002-03-14')[0m
D, [2020-03-14T12:16:57.785716 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.786221 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.786699 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.787051 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.787566 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.788028 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.788386 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.788864 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.789300 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.789690 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.790144 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.790587 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.790956 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.791436 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.791891 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.792252 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.792705 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.793178 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.793514 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.794017 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.794464 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.795026 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.795589 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.795814 #2689]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:16:57.795849 #2689]  INFO -- : EmployeeTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:16:57.795869 #2689]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:16:57.796507 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.797540 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376190747"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.798607 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376190747"], ["date_of_birth", "2001-03-14"], ["phone", "7790474355"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.799461 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.800345 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.801258 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.802180 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0754055801"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.802978 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.803774 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.804666 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268472418"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.805461 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "268472418"], ["date_of_birth", "2004-03-14"], ["phone", "2208802139"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.806309 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.807099 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.807916 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288383470"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.808796 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "288383470"], ["date_of_birth", "1994-03-14"], ["phone", "3901944440"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.809679 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.810478 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.811303 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.812158 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.812960 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.813992 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.814845 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.815697 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2713371829"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.816479 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.817253 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.818143 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "314938728"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.818956 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "314938728"], ["date_of_birth", "2001-03-14"], ["phone", "6749753874"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.819779 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.820157 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.820655 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.821142 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.821502 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.822012 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.822460 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.822802 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.823258 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.823703 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.824062 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.824551 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.825002 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.825334 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.825880 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.826327 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.826695 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.827173 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.827612 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.828001 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.828441 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.828893 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.829473 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.830065 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.830277 #2689]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.830311 #2689]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-03-14T12:16:57.830331 #2689]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.831010 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.832033 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "205560314"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.833082 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "205560314"], ["date_of_birth", "2001-03-14"], ["phone", "9439240817"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.834027 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.834851 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.835762 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.836602 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7642045344"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.837479 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.838285 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.839158 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "057699806"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.840025 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "057699806"], ["date_of_birth", "2004-03-14"], ["phone", "4796916291"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.840882 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.841756 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.842577 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "044601085"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.843459 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "044601085"], ["date_of_birth", "1994-03-14"], ["phone", "5565344117"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.844342 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.845183 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.846066 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.846942 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.847793 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.848630 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.849466 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.850356 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4908506064"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.851209 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.851977 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.852770 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029013235"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.853614 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "029013235"], ["date_of_birth", "2001-03-14"], ["phone", "4001661678"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.854475 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.855039 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.855550 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.855999 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.856350 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.856804 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.857257 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.857616 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.858141 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.858585 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.858977 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.859417 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.859886 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.860221 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.860692 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.861130 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.861508 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.862021 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.862480 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.862827 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.863305 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.863743 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.864298 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.864912 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.865118 #2689]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:16:57.865152 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:16:57.865173 #2689]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:16:57.867915 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.868729 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.869245 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.869455 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:57.869489 #2689]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-03-14T12:16:57.869510 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:57.870150 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.871090 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001288884"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.872153 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "001288884"], ["date_of_birth", "2001-03-14"], ["phone", "1029197480"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.873077 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.873948 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.874819 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.875708 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "3819037330"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.876600 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.877406 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.878283 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108994533"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.879141 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "108994533"], ["date_of_birth", "2004-03-14"], ["phone", "3177524905"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:57.879995 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.880891 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.881829 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "240460731"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.882689 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "240460731"], ["date_of_birth", "1994-03-14"], ["phone", "8756693552"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:57.883485 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.884345 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.885214 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.886088 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.886933 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.887777 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.888664 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.889535 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1545944264"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:57.890359 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.891152 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.892016 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "387266319"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.892859 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "387266319"], ["date_of_birth", "2001-03-14"], ["phone", "7787698453"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:57.893692 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.901875 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.903256 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.904299 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8317049235"], ["active", 1]]
D, [2020-03-14T12:16:57.905238 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.906041 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.906806 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.907659 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:57.908619 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.909351 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.910146 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.910976 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9650071614"], ["active", 0]]
D, [2020-03-14T12:16:57.911834 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.921529 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.922964 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.923975 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.925044 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.932477 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.933629 #2689] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:57.934398 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.935422 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.936361 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.937192 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.937981 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.939055 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.939843 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:57.940524 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.941407 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.942273 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.943056 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.943829 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.944949 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.945764 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:57.946411 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.947357 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.948268 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.949090 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.949848 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.950936 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.951733 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:57.952482 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.953376 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.954221 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.955115 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.955917 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.957097 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.957970 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:57.962136 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.963127 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.964033 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.964880 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:57.965642 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.966736 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.967496 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:57.968138 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.968931 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.969718 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.970764 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 7], ["LIMIT", 1]]
D, [2020-03-14T12:16:57.971248 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.971793 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.972277 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.972679 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.973152 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.973615 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.974013 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.974484 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.974960 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.975292 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.975757 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.976200 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.976569 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.977075 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.977543 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.977957 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.978489 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.978949 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.979317 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.979837 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.980271 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.980630 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.981079 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.981571 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.981937 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.982422 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.982875 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.983236 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.983760 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:57.984183 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.984538 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.985019 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:57.985485 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.985880 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.986408 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:57.986880 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.987253 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.987706 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:57.988187 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.988520 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.988988 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:57.989430 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.989844 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.990335 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:57.990849 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.991241 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.991741 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:57.992196 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.992798 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.993460 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.993705 #2689]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:57.993742 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:57.993764 #2689]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:57.996576 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:57.997387 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:57.997953 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:57.998188 #2689]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:16:57.998225 #2689]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:16:57.998245 #2689]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:16:57.998879 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:57.999844 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "313749222"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.000863 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "313749222"], ["date_of_birth", "2001-03-14"], ["phone", "4400630772"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.001810 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.002695 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.003578 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.004453 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "6051025220"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.005342 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.006181 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.007062 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262670443"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.007903 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "262670443"], ["date_of_birth", "2004-03-14"], ["phone", "7723723471"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.008805 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.009633 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.010498 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "220410056"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.011380 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "220410056"], ["date_of_birth", "1994-03-14"], ["phone", "5829395422"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.012273 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.013155 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.014032 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.014881 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.015695 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.016530 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.017372 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.018272 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4090628330"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.019166 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.019954 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.020831 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "130333390"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.021735 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "130333390"], ["date_of_birth", "2001-03-14"], ["phone", "6051976042"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.022537 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.022974 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.023923 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "262670443"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.024839 #2689] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 0], ["id", 3]]
D, [2020-03-14T12:16:58.025380 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.026085 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.026720 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.027224 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.027711 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.028082 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.028597 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.029084 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.029422 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.029935 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.030391 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.030754 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.031205 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.031671 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.032047 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.032493 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.032954 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.033317 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.033825 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.034274 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.034650 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.035093 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.035518 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.036069 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.036693 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.036912 #2689]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.036946 #2689]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-03-14T12:16:58.036966 #2689]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.040277 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.041107 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.041633 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.041884 #2689]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-14T12:16:58.041922 #2689]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-03-14T12:16:58.041959 #2689]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-14T12:16:58.044309 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.045147 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.045735 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.045943 #2689]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:16:58.045977 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-03-14T12:16:58.045998 #2689]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:16:58.048424 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.049221 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.049761 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.049999 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.050033 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Wed, 14 Mar 2007 08:16:57 EDT -04:00â€º. 
I, [2020-03-14T12:16:58.050053 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.053018 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.053887 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.054369 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.054604 #2689]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:16:58.054661 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-03-14T12:16:58.054684 #2689]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:16:58.057357 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.058205 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.058712 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.058922 #2689]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:58.058956 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:58.058977 #2689]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:58.061373 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.062244 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.062743 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.062947 #2689]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.062981 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:16:58.063002 #2689]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.065697 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.066457 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.066949 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.067186 #2689]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.067220 #2689]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-03-14T12:16:58.067240 #2689]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.067896 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.068822 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164575415"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.069912 #2689] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "164575415"], ["date_of_birth", "2001-03-14"], ["phone", "0577811181"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.070821 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.071679 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.072495 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.073348 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2790885805"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.074246 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.075038 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.075881 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087342069"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.076727 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "087342069"], ["date_of_birth", "2004-03-14"], ["phone", "1305213299"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.077581 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.078411 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.079234 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154273926"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.080060 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "154273926"], ["date_of_birth", "1994-03-14"], ["phone", "1202852863"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.080963 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.081825 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.082636 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.083492 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.084348 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.085253 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.086122 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.087001 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3958635782"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.087856 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.088689 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.089501 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "066476870"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.090393 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "066476870"], ["date_of_birth", "2001-03-14"], ["phone", "3243561696"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.091254 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.091667 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.092177 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.092649 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.093014 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.093492 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.093981 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.094352 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.094838 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.095284 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.095674 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.096141 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.096601 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.096956 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.097417 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.097890 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.098265 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.098751 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.099232 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.099585 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.100075 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.100516 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.101109 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.101729 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.101945 #2689]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:58.101979 #2689]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:16:58.102000 #2689]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:58.104942 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.105801 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.106383 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.106590 #2689]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.106633 #2689]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-03-14T12:16:58.106657 #2689]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.109813 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.110605 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.111534 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.111762 #2689]  INFO -- : ----------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.111798 #2689]  INFO -- : AssignmentTest: test_: Given context should not terminate a completed assignment. 
I, [2020-03-14T12:16:58.111818 #2689]  INFO -- : ----------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.112320 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.113257 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.114370 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7811695120"], ["active", 1]]
D, [2020-03-14T12:16:58.115274 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.115964 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.116700 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.117489 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.118368 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.119049 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.119790 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.120559 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3358892035"], ["active", 0]]
D, [2020-03-14T12:16:58.121396 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.122221 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.123108 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324644374"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.124009 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "324644374"], ["date_of_birth", "2001-03-14"], ["phone", "4490415840"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.124868 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.125759 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.126644 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.127556 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1292567115"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.128591 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.129481 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.130462 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113459627"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.131337 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "113459627"], ["date_of_birth", "2004-03-14"], ["phone", "5385886114"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.132222 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.133097 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.134044 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320523847"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.134945 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "320523847"], ["date_of_birth", "1994-03-14"], ["phone", "9732292476"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.135880 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.136790 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.137670 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.138508 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.139346 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.140263 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.141133 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.142112 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8221367918"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.143047 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.143856 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.144733 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213721904"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.145635 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "213721904"], ["date_of_birth", "2001-03-14"], ["phone", "4626679619"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.146512 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.147407 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.148266 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.149167 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.149944 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.151042 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.151874 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.152563 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.153513 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.154345 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.155151 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.155951 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.157022 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.157835 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.158477 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.159387 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.160213 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.161030 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.161817 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.162899 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.163675 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.164331 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.165326 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.166240 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.167118 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.167914 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.169007 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.169814 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.170535 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.171438 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.172320 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.173206 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.174061 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.175185 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.176073 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.179657 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.180602 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.181527 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.182366 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.183137 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.184216 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.184983 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.185671 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.186291 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.186826 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.187271 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.187650 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.188140 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.188587 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.188985 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.189485 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.189964 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.190341 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.190816 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.191305 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.191654 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.192152 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.192601 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.192976 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.193475 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.193969 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.194346 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.194811 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.195311 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.195668 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.196165 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.196618 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.196997 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.197509 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.198041 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.198417 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.198916 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.199373 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.199744 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.200226 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.200692 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.201072 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.201522 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.202013 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.202382 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.202885 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.203337 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.203731 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.204223 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.204686 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.205061 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.205509 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.205983 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.206350 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.206849 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.207298 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.207910 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.208470 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.208733 #2689]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:58.208769 #2689]  INFO -- : AssignmentTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:16:58.208789 #2689]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:58.209295 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.210259 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.211255 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3839393585"], ["active", 1]]
D, [2020-03-14T12:16:58.212109 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.212810 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.213547 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.214389 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.215202 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.215832 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.216585 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.217387 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1123761868"], ["active", 0]]
D, [2020-03-14T12:16:58.218257 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.219002 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.219883 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202864017"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.220803 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202864017"], ["date_of_birth", "2001-03-14"], ["phone", "5754201389"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.221685 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.222496 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.223352 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.224230 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1899315450"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.225084 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.225870 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.226706 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282456299"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.227555 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "282456299"], ["date_of_birth", "2004-03-14"], ["phone", "1665229706"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.228406 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.229234 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.230218 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277733429"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.231098 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "277733429"], ["date_of_birth", "1994-03-14"], ["phone", "5463700741"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.231946 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.232801 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.233681 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.234536 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.235374 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.236205 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.237049 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.237941 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6889993421"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.238762 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.239561 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.240427 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "257914973"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.241297 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "257914973"], ["date_of_birth", "2001-03-14"], ["phone", "5637044074"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.242234 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.243111 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.244028 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.244863 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.245671 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.246796 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.247606 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.248308 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.249173 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.250023 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.250814 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.251561 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.252598 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.253319 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.253967 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.254833 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.255656 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.256457 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.257180 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.258239 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.259004 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.259632 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.260554 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.261386 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.262226 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.262943 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.263995 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.264770 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.265457 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.266336 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.267139 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.267956 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.268695 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.269753 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.270487 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.271131 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.272006 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.272819 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.273698 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.274401 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.275417 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.276176 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.276855 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.277490 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:58.278049 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.278538 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.279025 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.279383 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.279853 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.280307 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.280688 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.281144 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.281673 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.282020 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.282504 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.282953 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.283322 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.283798 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.284242 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.284581 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.285072 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.285540 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.285978 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.286477 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.286949 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.287324 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.287787 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.288215 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.288561 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.289074 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.289538 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.289944 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.290395 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.290894 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.291247 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.291719 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.292179 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.292521 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.292982 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.293457 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.293824 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.294310 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.294785 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.295179 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.295698 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.296145 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.296498 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.297008 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.297450 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.297895 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.298411 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.298881 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.299487 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.300080 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.300329 #2689]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.300364 #2689]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_store' that works. 
I, [2020-03-14T12:16:58.300386 #2689]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.300859 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.301865 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.302835 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7887752526"], ["active", 1]]
D, [2020-03-14T12:16:58.303725 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.304446 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.305273 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.306216 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.307121 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.307838 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.308605 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.309463 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4982530705"], ["active", 0]]
D, [2020-03-14T12:16:58.310390 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.311213 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.312132 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "216082631"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.313050 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "216082631"], ["date_of_birth", "2001-03-14"], ["phone", "5622695081"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.313934 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.314782 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.315591 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.316442 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7159437907"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.317325 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.318173 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.319027 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "096917907"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.319931 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "096917907"], ["date_of_birth", "2004-03-14"], ["phone", "4827856988"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.320796 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.321678 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.322561 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083622370"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.323416 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "083622370"], ["date_of_birth", "1994-03-14"], ["phone", "1197553640"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.324288 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.325149 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.326044 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.326910 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.327786 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.328642 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.329488 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.330410 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9541839543"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.331316 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.332133 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.332980 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "010766231"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.333889 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "010766231"], ["date_of_birth", "2001-03-14"], ["phone", "9166744517"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.334829 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.335745 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.336665 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.337559 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.338348 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.339487 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.340374 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.341122 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.342104 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.342959 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.343766 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.344505 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.345591 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.346386 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.347065 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.347957 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.348826 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.349675 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.350410 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.351535 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.352309 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.352948 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.353913 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.354773 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.355586 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.356338 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.357358 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.358179 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.358898 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.359804 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.360591 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.361418 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.362229 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.363305 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.364087 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.364738 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.365638 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.366526 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.367360 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.368116 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.369211 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.369999 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.370660 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.371367 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
D, [2020-03-14T12:16:58.371978 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 2)[0m
D, [2020-03-14T12:16:58.372357 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.372919 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.373400 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.373808 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.374301 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.374794 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.375165 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.375686 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.376154 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.376513 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.377028 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.377479 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.377913 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.378383 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.378869 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.379264 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.379782 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.380276 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.380701 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.381220 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.381790 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.382195 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.382739 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.383225 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.383652 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.384190 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.387351 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.387762 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.388294 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.388777 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.389157 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.389672 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.390160 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.390523 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.391049 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.391527 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.391890 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.392396 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.392866 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.393245 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.393756 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.394238 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.394607 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.395101 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.395551 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.395981 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.396460 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.396923 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.397501 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.398112 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.398326 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.398360 #2689]  INFO -- : AssignmentTest: test_: Given context should allow for a end date in the past (or today) but after the start date. 
I, [2020-03-14T12:16:58.398380 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.398890 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.399823 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.400830 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1282409382"], ["active", 1]]
D, [2020-03-14T12:16:58.401726 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.402403 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.403144 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.404028 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.404878 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.405544 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.406305 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.407142 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0663729138"], ["active", 0]]
D, [2020-03-14T12:16:58.408104 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.408928 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.409859 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126321005"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.410780 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "126321005"], ["date_of_birth", "2001-03-14"], ["phone", "1236667671"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.411653 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.412510 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.413372 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.414283 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2824005657"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.415137 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.415910 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.416725 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281247818"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.417581 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "281247818"], ["date_of_birth", "2004-03-14"], ["phone", "8617191314"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.418500 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.419285 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.420128 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032383553"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.420981 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "032383553"], ["date_of_birth", "1994-03-14"], ["phone", "5348751224"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.421846 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.422684 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.423527 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.424407 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.425226 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.426092 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.426984 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.427844 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9687312234"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.428655 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.429482 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.430354 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "307947731"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.431246 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "307947731"], ["date_of_birth", "2001-03-14"], ["phone", "8989023105"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.432066 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.432949 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.433842 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.434736 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.435466 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.436525 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.437377 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.438116 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.438999 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.439798 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.440594 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.441319 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.442407 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.443208 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.443867 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.444726 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.445514 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.446351 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.447104 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.448184 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.448972 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.449579 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.450562 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.451429 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.452217 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.452976 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.454045 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.454853 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.455554 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.456418 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.457234 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.458070 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.458842 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.459935 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.460664 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.461292 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.462204 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.463023 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.463854 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.464632 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.465683 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.466410 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.467063 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.468412 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.469198 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.470507 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.471283 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.471857 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.472405 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.472861 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.473242 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.473731 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.474213 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.474559 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.475043 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.475500 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.475869 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.476354 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.476874 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.477224 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.477737 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.478190 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.478565 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.479040 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.479515 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.479894 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.480357 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.480872 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.481210 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.481707 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.482166 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.482537 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.483019 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.483505 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.483851 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.484327 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.484799 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.485151 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.485707 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.486162 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.486542 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.486994 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.487446 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.487852 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.488325 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.488792 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.489171 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.489741 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.490239 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.490584 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.491080 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.491529 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.491916 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.492400 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.492890 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.493483 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.494140 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.494387 #2689]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:16:58.494427 #2689]  INFO -- : AssignmentTest: test_: Assignment should belong to store. 
I, [2020-03-14T12:16:58.494446 #2689]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:16:58.494786 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.495273 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.495479 #2689]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.495513 #2689]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_employee' that works. 
I, [2020-03-14T12:16:58.495533 #2689]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.496014 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.497002 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.498071 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5448924658"], ["active", 1]]
D, [2020-03-14T12:16:58.498987 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.499689 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.500461 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.501313 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.502247 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.502913 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.503702 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.504532 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7996078720"], ["active", 0]]
D, [2020-03-14T12:16:58.505409 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.506228 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.507164 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "254328828"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.508092 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "254328828"], ["date_of_birth", "2001-03-14"], ["phone", "8441857590"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.508970 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.509816 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.510715 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.511634 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9778000255"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.512465 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.513297 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.514202 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357619907"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.515114 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "357619907"], ["date_of_birth", "2004-03-14"], ["phone", "5346836912"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.515964 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.516820 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.517773 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "304392848"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.518644 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "304392848"], ["date_of_birth", "1994-03-14"], ["phone", "5608053561"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.519454 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.520371 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.521312 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.522233 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.523085 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.523989 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.524886 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.525777 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "0707902599"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.526608 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.527462 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.528337 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116580951"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.529208 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "116580951"], ["date_of_birth", "2001-03-14"], ["phone", "0450700456"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.530093 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.531019 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.531918 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.532779 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.533519 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.534643 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.535482 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.536190 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.537072 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.537947 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.538744 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.539509 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.540598 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.541408 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.542119 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.543008 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.543864 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.544715 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.545529 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.546678 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.547415 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.548101 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.549104 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.550105 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.550967 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.551746 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.552832 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.553595 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.554360 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.555282 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.556126 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.556936 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.557741 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.558812 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.559576 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.560227 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.561113 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.561976 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.562793 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.563532 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.564600 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.565375 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.566066 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.566702 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
D, [2020-03-14T12:16:58.567362 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 6)[0m
D, [2020-03-14T12:16:58.567755 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.568298 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.568789 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.569168 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.569669 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.570139 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.570528 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.571022 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.571462 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.571853 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.572365 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.572835 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.573205 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.573717 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.574231 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.574602 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.575100 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.575546 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.575935 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.576431 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.576894 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.577258 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.577780 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.578242 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.578609 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.579094 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.579559 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.579956 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.580463 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.580934 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.581319 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.581846 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.582318 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.582701 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.583212 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.583710 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.584065 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.584552 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.585044 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.585418 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.585945 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.586433 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.586813 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.587305 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.587800 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.588202 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.588721 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.589309 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.589946 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.590568 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.590843 #2689]  INFO -- : -----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.590881 #2689]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed chronologically by start date. 
I, [2020-03-14T12:16:58.590903 #2689]  INFO -- : -----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.591423 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.592433 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.593572 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2543139471"], ["active", 1]]
D, [2020-03-14T12:16:58.596706 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.597447 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.598401 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.599290 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.600203 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.600903 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.601731 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.602582 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5426030631"], ["active", 0]]
D, [2020-03-14T12:16:58.603451 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.604273 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.605187 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "353986705"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.606131 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "353986705"], ["date_of_birth", "2001-03-14"], ["phone", "8306979498"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.606968 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.607859 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.608729 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.609616 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "9048737916"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.610506 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.611345 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.612279 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324433231"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.613140 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "324433231"], ["date_of_birth", "2004-03-14"], ["phone", "0371211315"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.614013 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.614882 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.615742 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "273765051"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.616590 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "273765051"], ["date_of_birth", "1994-03-14"], ["phone", "2515746204"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.617479 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.618431 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.619303 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.620175 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.621073 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.621970 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.622853 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.623692 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1457654397"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.624619 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.625447 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.626363 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249066149"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.627195 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "249066149"], ["date_of_birth", "2001-03-14"], ["phone", "7455480955"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.628087 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.629009 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.630061 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.630911 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.631651 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.632781 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.633601 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.634420 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.635408 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.636367 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.637343 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.638199 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.639469 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.640238 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.640856 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.641876 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.642746 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.643558 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.644293 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.645365 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.646170 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.646803 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.647791 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.648683 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.649521 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.650297 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.651422 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.652238 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.652933 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.653942 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.654866 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.655767 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.656665 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.657960 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.658761 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.659398 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.660321 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.661159 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.662003 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.662769 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.663853 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.664599 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.665240 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.665918 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" ORDER BY start_date DESC, end_date DESC[0m
D, [2020-03-14T12:16:58.667106 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.667898 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.668693 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.669477 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.670289 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.671289 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.672078 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.672788 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.673436 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.673918 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.674586 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.675194 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.675681 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.676263 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.676745 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.677115 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.677577 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.678075 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.678452 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.678952 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.679438 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.679815 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.680303 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.680780 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.681154 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.681613 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.682171 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.682536 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.683028 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.683473 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.683866 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.684363 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.684834 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.685220 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.685719 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.686189 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.686557 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.687055 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.687514 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.687889 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.688370 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.688866 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.689235 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.689769 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.690224 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.690601 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.691115 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.691561 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.691955 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.692405 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.692928 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.693266 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.693791 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.694250 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.694845 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.695441 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.695675 #2689]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.695711 #2689]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Sat, 25 Jan 2020â€º. 
I, [2020-03-14T12:16:58.695731 #2689]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.698511 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.699266 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.699858 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.700416 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.700681 #2689]  INFO -- : ---------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.700716 #2689]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all assignments for a given date. 
I, [2020-03-14T12:16:58.700737 #2689]  INFO -- : ---------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.701195 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.702195 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.703229 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4596426844"], ["active", 1]]
D, [2020-03-14T12:16:58.704140 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.704911 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.705741 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.706616 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.707513 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.708262 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.709099 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.710027 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5598128914"], ["active", 0]]
D, [2020-03-14T12:16:58.710864 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.711732 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.712706 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200048004"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.713679 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "200048004"], ["date_of_birth", "2001-03-14"], ["phone", "7409497715"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.714548 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.715468 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.716392 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.717279 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2488716413"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.718153 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.719037 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.719968 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317262728"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.720826 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "317262728"], ["date_of_birth", "2004-03-14"], ["phone", "8425621066"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.721740 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.722650 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.723582 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "101982469"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.724460 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "101982469"], ["date_of_birth", "1994-03-14"], ["phone", "1266406641"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.725350 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.726316 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.727310 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.728178 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.729172 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.730139 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.731071 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.731948 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8341532501"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.732939 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.733858 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.734821 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "063977494"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.735677 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "063977494"], ["date_of_birth", "2001-03-14"], ["phone", "6907696333"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.736579 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.737507 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.738461 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.739300 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.740036 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.741179 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.742068 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.742753 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.743599 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.744411 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.745259 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.746042 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.747128 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.747855 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.748484 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.749360 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.750204 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.751060 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.751830 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.752899 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.753683 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.754318 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.755283 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.756197 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.757062 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.757869 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.758991 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.759803 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.760529 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.761424 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.762253 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.763093 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.763956 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.765095 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.765927 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.766548 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.767444 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.768245 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.769079 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.769859 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.770936 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.771713 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.772337 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.773170 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:16:58.773924 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (start_date <= '2019-04-14' AND (end_date > '2019-04-14' OR end_date IS NULL))[0m
D, [2020-03-14T12:16:58.774706 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.775540 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.776347 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.777091 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.777969 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.778784 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.779448 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.780258 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.781052 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.781681 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.782487 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.783247 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.783856 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.784667 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.785410 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.786023 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.786802 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.787381 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.787771 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.788316 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.788809 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.789211 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.789744 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.790256 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.790643 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.791144 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.791603 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.791977 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.792484 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.792955 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.793363 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.793892 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.794365 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.794776 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.795273 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.795780 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.796166 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.796674 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.797149 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.797535 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.798048 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.798540 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.798940 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.799433 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.799954 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.800352 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.800852 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.801343 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.801750 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.802245 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.802738 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.803363 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.804001 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.804216 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.804250 #2689]  INFO -- : AssignmentTest: test_: Given context should end the current assignment if it exists before adding a new assignment for an employee. 
I, [2020-03-14T12:16:58.804270 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.804777 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.805777 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.806838 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1220311456"], ["active", 1]]
D, [2020-03-14T12:16:58.807808 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.808611 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.809528 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.810504 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.813993 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.814745 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.815617 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.816511 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2751353795"], ["active", 0]]
D, [2020-03-14T12:16:58.817326 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.818306 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.819259 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029589073"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.820238 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "029589073"], ["date_of_birth", "2001-03-14"], ["phone", "4136337376"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.821079 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.821983 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.822899 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.823797 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "4387683497"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.824660 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.825489 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.826434 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "115967418"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.827322 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "115967418"], ["date_of_birth", "2004-03-14"], ["phone", "4023742587"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.828144 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.829017 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.829955 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "063830603"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.830843 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "063830603"], ["date_of_birth", "1994-03-14"], ["phone", "0660391017"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.831675 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.832577 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.833491 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.834401 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.835254 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.836107 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.836956 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.837858 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "7306954005"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.838711 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.839548 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.840416 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282496959"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.841300 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "282496959"], ["date_of_birth", "2001-03-14"], ["phone", "0059444583"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.842135 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.843044 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.843975 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.844840 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.845570 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.846653 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.847500 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.848220 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.849097 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.849954 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.850776 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.851524 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.852574 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.853370 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.854058 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.854944 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.855796 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.856576 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.857368 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.858468 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.859255 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.859948 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.860886 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.861802 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.862582 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.863325 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.864402 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.865155 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.865910 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.866772 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.867615 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.868406 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.869154 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.870277 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.871062 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.871714 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.872647 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.873440 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.874329 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.875090 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.876155 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.876958 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.877608 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.878524 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.879336 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.880153 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.880888 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.881996 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.882789 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.883863 #2689] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-13"], ["id", 6]]
D, [2020-03-14T12:16:58.884690 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2020-03-13"]]
D, [2020-03-14T12:16:58.885320 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.886350 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.887006 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.887533 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.888009 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.888406 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.888948 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.889426 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.889844 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.890322 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.890839 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.891180 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.891668 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.892141 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.892544 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.893066 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.893541 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.893954 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.894407 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.894919 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.895257 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.895752 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.896226 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.896611 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.897108 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.897597 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.898006 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.898494 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.898973 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.899324 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.899834 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.900296 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.900700 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.901194 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.901684 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.902059 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.902543 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.903015 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.903391 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.903869 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.904352 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.904736 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.905224 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:58.905720 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.906093 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.906544 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.907061 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.907400 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.907883 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.908347 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.908731 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.909211 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.909702 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.910294 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:58.910861 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:58.911123 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:58.911160 #2689]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all current assignments for a store or employee. 
I, [2020-03-14T12:16:58.911182 #2689]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:58.911713 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.912685 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.913764 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7035494225"], ["active", 1]]
D, [2020-03-14T12:16:58.914656 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.915376 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.916201 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.917026 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:58.917925 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.918633 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.919415 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.920222 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4320894249"], ["active", 0]]
D, [2020-03-14T12:16:58.921094 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.921913 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.922809 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "364407374"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.923716 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "364407374"], ["date_of_birth", "2001-03-14"], ["phone", "2156424228"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.924550 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.925420 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.926319 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.927156 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0833186363"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.928065 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.928897 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.929829 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153707868"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.930659 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "153707868"], ["date_of_birth", "2004-03-14"], ["phone", "8727364346"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:58.931545 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.932439 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.933326 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370396754"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.934188 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "370396754"], ["date_of_birth", "1994-03-14"], ["phone", "0600901327"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:58.935072 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.935933 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.936839 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.937730 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.938645 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.939522 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.940396 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.941267 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "1732054902"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:58.942185 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.943029 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.943914 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "156173802"], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.944771 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "156173802"], ["date_of_birth", "2001-03-14"], ["phone", "6265623711"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:58.945675 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.946588 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.947521 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.948378 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.949122 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.950293 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.951141 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:58.951828 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.952719 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.953564 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.954407 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.955164 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.956242 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.957052 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.957720 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.958586 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.959436 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.960238 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.960998 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.962106 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.962880 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:58.963521 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.964470 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.965357 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.966206 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.966968 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.968061 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.968885 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.969679 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.970580 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.971422 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.972273 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.973047 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.974164 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.974969 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:58.975653 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.976594 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.977397 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.978259 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:58.979001 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.980101 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:58.980886 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:58.981538 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.982273 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:16:58.982935 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:16:58.983565 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:16:58.984208 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 1)[0m
D, [2020-03-14T12:16:58.984619 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.985189 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.985722 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.986108 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.986615 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.987108 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.987467 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.987952 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.988452 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.988830 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.989303 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.989829 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.990169 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.990689 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.991192 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.991569 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.992073 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:58.992531 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.992922 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.993394 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:58.993911 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.994278 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.994812 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:58.995252 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.995659 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.996164 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:58.996635 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.997024 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.997532 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:58.998076 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.998465 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.998962 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:58.999497 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:58.999890 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.000380 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.000881 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.001250 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.001770 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.002240 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.002607 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.003125 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.003629 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.004004 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.004602 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.005099 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.005467 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.005996 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.006470 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.007090 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.007726 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.007971 #2689]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.008004 #2689]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all past assignments for a store or employee. 
I, [2020-03-14T12:16:59.008033 #2689]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.008549 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.009500 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.010595 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7224183764"], ["active", 1]]
D, [2020-03-14T12:16:59.011547 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.012294 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.013136 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.014063 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.014933 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.015675 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.016511 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.017459 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3441195496"], ["active", 0]]
D, [2020-03-14T12:16:59.018490 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.021761 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.022784 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021266178"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.023795 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "021266178"], ["date_of_birth", "2001-03-14"], ["phone", "7411678641"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.024669 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.025567 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.026494 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.027424 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8269441518"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.028257 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.029116 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.030055 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030784998"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.030953 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "030784998"], ["date_of_birth", "2004-03-14"], ["phone", "5586482793"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.031806 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.032653 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.033562 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "115463405"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.034460 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "115463405"], ["date_of_birth", "1994-03-14"], ["phone", "6777672161"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.035338 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.036227 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.037149 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.038047 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.038910 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.039802 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.040694 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.041576 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "6920610166"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.042485 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.043343 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.044222 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "134651304"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.045113 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "134651304"], ["date_of_birth", "2001-03-14"], ["phone", "0454824815"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.045977 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.046889 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.047813 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.048671 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.049394 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.050563 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.051445 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.052143 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.053013 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.053821 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.054632 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.055373 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.056573 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.057329 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.058052 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.058959 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.059764 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.060573 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.061330 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.062447 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.063236 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.063890 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.064862 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.065806 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.066633 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.067377 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.068450 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.069263 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.070007 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.070895 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.071676 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.072495 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.073219 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.074331 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.075117 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.075762 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.076649 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.077439 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.078292 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.079018 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.080105 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.080893 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.081527 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.082258 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 1)[0m
D, [2020-03-14T12:16:59.082894 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 2)[0m
D, [2020-03-14T12:16:59.083491 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 5)[0m
D, [2020-03-14T12:16:59.084144 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 2)[0m
D, [2020-03-14T12:16:59.084511 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.085047 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.085518 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.085930 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.086442 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.086931 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.087305 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.087777 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.088237 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.088601 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.089094 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.089550 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.089948 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.090406 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.090898 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.091235 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.091742 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.092187 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.092561 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.093055 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.093524 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.093920 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.094407 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.094888 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.095226 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.095765 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.096235 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.096602 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.097106 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.097575 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.097977 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.098470 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.098955 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.099295 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.099785 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.100246 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.100636 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.101137 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.101590 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.101997 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.102498 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.102967 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.103307 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.103798 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.104258 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.104634 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.105128 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.105581 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.106206 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.106841 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.107066 #2689]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.107100 #2689]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹Sat, 21 Mar 2020â€º. 
I, [2020-03-14T12:16:59.107120 #2689]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.109762 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.110480 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.111086 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.111599 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.111870 #2689]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.111905 #2689]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Wed, 14 Mar 2018â€º. 
I, [2020-03-14T12:16:59.111924 #2689]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.114094 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.114827 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.115393 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.115943 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.116184 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.116218 #2689]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by store name. 
I, [2020-03-14T12:16:59.116251 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.116718 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.117671 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.118723 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2769249955"], ["active", 1]]
D, [2020-03-14T12:16:59.119617 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.120353 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.121144 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.122033 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.122867 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.123584 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.124349 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.125201 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0004644994"], ["active", 0]]
D, [2020-03-14T12:16:59.126059 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.126851 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.127821 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "377216325"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.128730 #2689] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "377216325"], ["date_of_birth", "2001-03-14"], ["phone", "4352467080"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.129602 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.130502 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.131384 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.132266 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "0364500989"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.133155 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.134029 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.134943 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113222485"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.135814 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "113222485"], ["date_of_birth", "2004-03-14"], ["phone", "3819488278"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.136727 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.137587 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.138501 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083680701"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.139391 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "083680701"], ["date_of_birth", "1994-03-14"], ["phone", "0164228216"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.140252 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.141187 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.142076 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.142952 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.143834 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.144763 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.145668 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.146552 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "3597442078"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.147440 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.148295 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.149183 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249176504"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.150089 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "249176504"], ["date_of_birth", "2001-03-14"], ["phone", "2291131709"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.150976 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.151910 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.152860 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.153708 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.154490 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.155581 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.156439 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.157162 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.158070 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.158905 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.159727 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.160451 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.161530 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.162332 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.163011 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.163885 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.164708 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.165512 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.166580 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.167679 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.168463 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.169131 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.170174 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.171093 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.171989 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.172745 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.173955 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.174809 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.175518 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.176550 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.177589 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.178454 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.179233 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.180364 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.181177 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.181883 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.182821 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.183691 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.184527 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.185316 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.186491 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.187341 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.188025 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.193221 #2689] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" ORDER BY name[0m
D, [2020-03-14T12:16:59.194557 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.195404 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.196199 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.197028 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.197889 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.198734 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.199354 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.199928 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.200451 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.200843 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.201328 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.201841 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.202213 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.202726 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.203198 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.203589 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.204079 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.204537 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.204929 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.205415 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.205964 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.206329 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.206812 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.207293 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.207677 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.208164 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.208698 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.209062 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.209542 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.210067 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.210456 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.210935 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.211432 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.211814 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.212286 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.212781 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.213142 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.213662 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.214119 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.214515 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.215006 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.215487 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.215925 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.216384 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.216894 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.217258 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.217790 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.218281 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.218682 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.219142 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.219641 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.220030 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.220506 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.220994 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.221601 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.222258 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.222509 #2689]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.222555 #2689]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:59.222577 #2689]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.225563 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.226401 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.227019 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.227566 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.227826 #2689]  INFO -- : ----------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.227862 #2689]  INFO -- : AssignmentTest: test_: Assignment should validate that :store_id cannot be empty/falsy. 
I, [2020-03-14T12:16:59.227882 #2689]  INFO -- : ----------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.231005 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.231826 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.232467 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.233085 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.233329 #2689]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:16:59.233366 #2689]  INFO -- : AssignmentTest: test_: Assignment should belong to employee. 
I, [2020-03-14T12:16:59.233386 #2689]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:16:59.233721 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.234205 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.234442 #2689]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.234477 #2689]  INFO -- : AssignmentTest: test_: Given context should not allow for a end date in the future or before the start date. 
I, [2020-03-14T12:16:59.234500 #2689]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.235027 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.239084 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.240227 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3950931023"], ["active", 1]]
D, [2020-03-14T12:16:59.241119 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.241898 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.242748 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.243660 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.244559 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.245337 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.246530 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.247455 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5994054868"], ["active", 0]]
D, [2020-03-14T12:16:59.248697 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.249539 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.250558 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "339167475"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.251565 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "339167475"], ["date_of_birth", "2001-03-14"], ["phone", "0260564559"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.252523 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.253412 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.254434 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.255367 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "1465443095"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.256261 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.257082 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.258086 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295458634"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.259010 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "295458634"], ["date_of_birth", "2004-03-14"], ["phone", "1744797662"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.259930 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.260792 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.261746 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034902084"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.262670 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "034902084"], ["date_of_birth", "1994-03-14"], ["phone", "3812646084"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.263553 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.264434 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.265341 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.266272 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.267174 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.268038 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.269008 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.269936 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "4248796339"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.270836 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.271705 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.272584 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249323922"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.273468 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "249323922"], ["date_of_birth", "2001-03-14"], ["phone", "3806819477"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.274381 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.275306 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.276265 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.277150 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.277955 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.279120 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.279942 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.280648 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.281536 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.282425 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.283217 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.283991 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.285064 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.285813 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.286452 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.287346 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.288203 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.288991 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.289800 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.290868 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.291610 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.292257 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.293221 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.294173 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.295004 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.295732 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.296797 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.297570 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.298340 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.299242 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.300080 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.300956 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.301749 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.302835 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.303629 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.304302 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.305203 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.306060 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.306905 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.307659 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.308767 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.309553 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.310254 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.312203 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.313043 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.315025 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.315813 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.316431 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.317017 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.317604 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.317998 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.318531 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.319029 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.319401 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.319928 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.320395 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.320779 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.321292 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.321793 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.322145 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.322660 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.323126 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.323497 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.323982 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.324444 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.324834 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.325337 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.325831 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.326201 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.326700 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.327156 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.327582 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.328074 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.328547 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.328934 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.329418 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.329908 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.330293 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.330798 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.331261 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.331649 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.332113 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.332656 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.332994 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.333461 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.333936 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.334322 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.334910 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.335385 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.335776 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.336250 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.336750 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.337095 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.337556 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.338028 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.338652 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.339294 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.339515 #2689]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.339550 #2689]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by employee name. 
I, [2020-03-14T12:16:59.339570 #2689]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.340083 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.341022 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.342077 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3794862315"], ["active", 1]]
D, [2020-03-14T12:16:59.342920 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.343660 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.344447 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.345328 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.346184 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.346933 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.347737 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.348570 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3081758532"], ["active", 0]]
D, [2020-03-14T12:16:59.349404 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.350237 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.351175 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367677914"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.352117 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "367677914"], ["date_of_birth", "2001-03-14"], ["phone", "4039758942"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.352961 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.353911 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.354820 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.355711 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2223240451"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.356534 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.357436 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.358396 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "267534194"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.359258 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "267534194"], ["date_of_birth", "2004-03-14"], ["phone", "4412936209"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.360108 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.360952 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.361890 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147771375"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.362831 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "147771375"], ["date_of_birth", "1994-03-14"], ["phone", "1708564195"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.363684 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.364559 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.365449 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.366413 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.367264 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.368172 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.369027 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.369927 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9947998749"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.370809 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.371637 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.372488 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "104261105"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.373450 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "104261105"], ["date_of_birth", "2001-03-14"], ["phone", "0049716372"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.374419 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.375374 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.376259 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.377109 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.377921 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.379033 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.379907 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.380588 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.381461 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.382315 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.383163 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.383880 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.384969 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.385783 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.386432 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.387349 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.388199 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.389027 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.389817 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.390915 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.391727 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.392368 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.393408 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.394472 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.395324 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.396112 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.397333 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.398204 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.398935 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.399902 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.400777 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.401686 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.402529 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.403694 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.404471 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.405176 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.406111 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.406924 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.407736 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.408484 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.409548 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.410335 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.411018 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.411881 #2689] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" ORDER BY last_name, first_name[0m
D, [2020-03-14T12:16:59.412684 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.413514 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.414366 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.415171 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.416029 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.416854 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.417466 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.418073 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.418559 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.418961 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.419455 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.419960 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.420322 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.420835 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.421317 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.421750 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.422242 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.422740 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.423117 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.423607 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.424154 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.424564 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.425081 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.425529 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.425977 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.426484 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.426999 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.427401 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.427883 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.428376 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.428750 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.429257 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.429816 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.430214 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.430696 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.431205 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.431588 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.432090 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.432563 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.432953 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.433463 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.433973 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.434338 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.434831 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.435308 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.435710 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.436203 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.436680 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.437067 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.437563 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.438047 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.438429 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.438920 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.439389 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.439996 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.440658 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.440926 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.440965 #2689]  INFO -- : AssignmentTest: test_: Given context should identify a non-active store as part of an invalid assignment. 
I, [2020-03-14T12:16:59.440986 #2689]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.441480 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.442533 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.443694 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6623838484"], ["active", 1]]
D, [2020-03-14T12:16:59.447227 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.448002 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.448848 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.449828 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.450747 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.451449 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.452224 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.453102 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0700555236"], ["active", 0]]
D, [2020-03-14T12:16:59.454028 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.454831 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.455738 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138228432"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.456675 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "138228432"], ["date_of_birth", "2001-03-14"], ["phone", "9291653035"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.457549 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.458438 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.459362 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.460295 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "8302606473"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.461240 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.462087 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.462960 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166954400"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.463854 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "166954400"], ["date_of_birth", "2004-03-14"], ["phone", "0884856644"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.464837 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.465690 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.466564 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195463968"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.467454 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "195463968"], ["date_of_birth", "1994-03-14"], ["phone", "3352821831"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.468373 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.469225 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.470140 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.471057 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.471972 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.472835 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.473761 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.474667 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "2224608996"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.475532 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.476347 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.477245 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210636794"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.478175 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "210636794"], ["date_of_birth", "2001-03-14"], ["phone", "6184267490"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.479055 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.479928 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.480797 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.481695 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.482425 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.483537 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.484378 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.485070 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.485969 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.486773 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.487588 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.488353 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.489409 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.490180 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.490844 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.491699 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.492476 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.493319 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.494097 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.495147 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.495907 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.496551 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.497459 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.498379 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.499212 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.500013 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.501099 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.501896 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.502567 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.503455 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.504315 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.505140 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.505917 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.507012 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.507746 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.508397 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.509275 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.510115 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.510941 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.511671 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.512727 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.513470 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.514136 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.515412 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.516180 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.516795 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.517301 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.517832 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.518177 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.518667 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.519142 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.519509 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.520014 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.520467 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.520851 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.521383 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.521874 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.522221 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.522727 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.523187 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.523558 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.524070 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.524526 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.524927 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.525434 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.525924 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.526315 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.526773 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.527268 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.527615 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.528111 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.528610 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.528983 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.529469 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.529964 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.530337 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.530841 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.531292 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.531672 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.532149 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.532632 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.533010 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.533507 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.533994 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.534368 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.534899 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.535353 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.535749 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.536251 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.536719 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.537102 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.537598 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.538085 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.538647 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.539231 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.539479 #2689]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.539514 #2689]  INFO -- : AssignmentTest: test_: Given context should terminate an assignment effectively as of today. 
I, [2020-03-14T12:16:59.539534 #2689]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.540044 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.541011 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.542101 #2689] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3668177142"], ["active", 1]]
D, [2020-03-14T12:16:59.542996 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.543701 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.544452 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.545280 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.546151 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.546847 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.547584 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.548404 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7458257069"], ["active", 0]]
D, [2020-03-14T12:16:59.549230 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.550041 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.550944 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381057832"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.551846 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "381057832"], ["date_of_birth", "2001-03-14"], ["phone", "2110483179"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.552689 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.553557 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.554487 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.555367 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2352038768"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.556225 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.557086 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.558015 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "046461927"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.558894 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "046461927"], ["date_of_birth", "2004-03-14"], ["phone", "0047686013"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.559725 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.560592 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.561450 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231220931"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.562346 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "231220931"], ["date_of_birth", "1994-03-14"], ["phone", "8586025925"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.563193 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.564078 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.564961 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.565839 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.566724 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.567595 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.568460 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.569357 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "9427596172"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.570258 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.571122 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.572004 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "247648576"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.572902 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "247648576"], ["date_of_birth", "2001-03-14"], ["phone", "4739533534"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.573769 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.574662 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.575567 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.576390 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.577165 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.578292 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.579158 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.579867 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.580728 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.581562 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.582384 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.583131 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.584181 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.584971 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.585634 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.586502 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.587328 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.588111 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.588875 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.589944 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.590737 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.591385 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.592367 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.593224 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.594067 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.594823 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.595874 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.596683 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.597447 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.598387 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.599237 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.600069 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.600806 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.601912 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.602685 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.603390 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.604371 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.605201 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.606064 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.606808 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.607906 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.608666 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.609350 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.609902 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.610910 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.611660 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.612307 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.613038 #2689] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-14"], ["id", 6]]
D, [2020-03-14T12:16:59.613630 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.614342 #2689] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.615039 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.615560 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.616042 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.616401 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.616921 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.617394 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.617788 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.618275 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.618742 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.619123 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.619605 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.620058 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.620449 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.620977 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.621438 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.621858 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.622345 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.622849 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.623225 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.623720 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.624232 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.624607 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.625100 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.625615 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.626022 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.626494 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.626998 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.627355 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.627878 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.628326 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.628720 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.629214 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.629732 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.630124 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.630612 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.631091 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.631471 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.631963 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.632434 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.632864 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.633345 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.633861 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.634239 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.634740 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.635241 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.635610 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.636120 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.636589 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.637196 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.637808 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.638039 #2689]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.638097 #2689]  INFO -- : AssignmentTest: test_: Given context should identify a non-active employee as part of an invalid assignment. 
I, [2020-03-14T12:16:59.638119 #2689]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.638617 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.639593 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.640668 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6207709845"], ["active", 1]]
D, [2020-03-14T12:16:59.641635 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.642510 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.643414 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.644386 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.645424 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.648600 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.649545 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.650459 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2350586351"], ["active", 0]]
D, [2020-03-14T12:16:59.651321 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.652122 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.653086 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295879905"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.654057 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "295879905"], ["date_of_birth", "2001-03-14"], ["phone", "1692789560"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.654915 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.655790 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.656696 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.657571 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "7116249623"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.658421 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.659277 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.660153 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "364484102"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.661039 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "364484102"], ["date_of_birth", "2004-03-14"], ["phone", "4064606039"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.661928 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.662771 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.663668 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "018450814"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.664532 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "018450814"], ["date_of_birth", "1994-03-14"], ["phone", "0277690280"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.665368 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.666267 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.667184 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.668044 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.668912 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.669824 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.670704 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.671567 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "8294655371"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.672431 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.673278 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.674204 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "360594290"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.675053 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "360594290"], ["date_of_birth", "2001-03-14"], ["phone", "6620566304"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.675919 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.677063 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.678233 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.679341 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.680309 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.681719 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.682590 #2689] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.683290 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.684206 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.685083 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.685980 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.686781 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.687875 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.688650 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.689296 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.690199 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.691022 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.691859 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.692808 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.693950 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.694756 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.695451 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.696475 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.697380 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.698271 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.699009 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.700122 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.700944 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.701638 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.702555 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.703388 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.704177 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.704927 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.706059 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.706853 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.707504 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.708387 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.709196 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.710075 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.710792 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.711860 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.712644 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.713291 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.715390 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.716203 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.716801 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.717336 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.717847 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.718205 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.718715 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.719169 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.719525 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.720030 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.720478 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.720877 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.721375 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.721870 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.722250 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.722758 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.723222 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.723633 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.724091 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.724635 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.724980 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.725488 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.726005 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.726387 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.726895 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.727352 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.727748 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.728242 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.728729 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.729111 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.729560 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.730091 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.730433 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.730929 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.731381 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.731785 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.732275 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.732743 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.733138 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.733640 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.734122 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.734496 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.734999 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.735483 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.735872 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.736370 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.736834 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.737215 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.737750 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.738203 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.738793 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.739402 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.739620 #2689]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:16:59.739664 #2689]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹nilâ€º. 
I, [2020-03-14T12:16:59.739684 #2689]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:16:59.742576 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.743341 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.743979 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.744541 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.744790 #2689]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.744826 #2689]  INFO -- : AssignmentTest: test_: Assignment should validate that :employee_id cannot be empty/falsy. 
I, [2020-03-14T12:16:59.744845 #2689]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.747853 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.748595 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.749209 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.749781 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.749999 #2689]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.750039 #2689]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_role' that works. 
I, [2020-03-14T12:16:59.750059 #2689]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.750556 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.751426 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.752489 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0363359147"], ["active", 1]]
D, [2020-03-14T12:16:59.753398 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.754157 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.754951 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.755831 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.756717 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.757419 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.758200 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.759082 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9992672384"], ["active", 0]]
D, [2020-03-14T12:16:59.759983 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.760786 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.761746 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "025831201"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.762637 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "025831201"], ["date_of_birth", "2001-03-14"], ["phone", "5077205200"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.763638 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.764499 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.765369 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.766296 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-14"], ["phone", "2624986325"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.767225 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.768064 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.768968 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "274025955"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.769879 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "274025955"], ["date_of_birth", "2004-03-14"], ["phone", "8996920069"], ["role", "employee"], ["active", 1]]
D, [2020-03-14T12:16:59.770814 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.771731 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.772650 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "360444137"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.773510 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "360444137"], ["date_of_birth", "1994-03-14"], ["phone", "0788799636"], ["role", "employee"], ["active", 0]]
D, [2020-03-14T12:16:59.774474 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.775354 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.776280 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.777143 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-14"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.778108 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.779036 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.779945 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.780890 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-14"], ["phone", "5770468026"], ["role", "manager"], ["active", 1]]
D, [2020-03-14T12:16:59.781820 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.782749 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.783720 #2689] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "118624596"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.784685 #2689] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "118624596"], ["date_of_birth", "2001-03-14"], ["phone", "9853022373"], ["role", "admin"], ["active", 1]]
D, [2020-03-14T12:16:59.785536 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.786542 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.787535 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.788439 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.789210 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.790374 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.791237 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-14"], ["end_date", "2020-02-14"]]
D, [2020-03-14T12:16:59.791990 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.792918 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.793782 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.794600 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.795371 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.796458 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.797234 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.797909 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.798826 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.799729 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.800548 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.801273 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.802401 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.803194 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-14"]]
D, [2020-03-14T12:16:59.803869 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.804901 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.805885 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.806748 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.807537 #2689] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.808662 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.809451 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-14"], ["end_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.810221 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.811224 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.812131 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.812944 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.813729 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.814861 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.815609 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-14"]]
D, [2020-03-14T12:16:59.816271 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.817236 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.818116 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.818957 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.819739 #2689] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.820821 #2689] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.821636 #2689] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-14"]]
D, [2020-03-14T12:16:59.822312 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.823242 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')[0m
D, [2020-03-14T12:16:59.824059 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
D, [2020-03-14T12:16:59.824436 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.825015 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.825514 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.825948 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.826463 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.826949 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.827318 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.827842 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.828314 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.828699 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.829236 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.829712 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.830086 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.830618 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.831089 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.831447 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.831975 #2689] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.832474 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.832854 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.833355 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.833973 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.834340 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.834834 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.835312 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.835688 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.836206 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.836691 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.837053 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.837569 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-14T12:16:59.838086 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.838449 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.838962 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-14T12:16:59.839447 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.839815 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.840328 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-14T12:16:59.840807 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.841170 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.841712 #2689] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-14T12:16:59.842213 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.842582 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.843089 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.843587 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.843979 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.844490 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.844975 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.845347 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.845888 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.846378 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.846950 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.848026 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.848256 #2689]  INFO -- : ------------------------------------------------------
I, [2020-03-14T12:16:59.848291 #2689]  INFO -- : StoreTest: test_: Store should have many assignments. 
I, [2020-03-14T12:16:59.848311 #2689]  INFO -- : ------------------------------------------------------
D, [2020-03-14T12:16:59.849254 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.849808 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.850041 #2689]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:59.850076 #2689]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-14T12:16:59.850097 #2689]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:59.853332 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.853961 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.854517 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.854789 #2689]  INFO -- : ---------------------------------------------------------------
I, [2020-03-14T12:16:59.854828 #2689]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:59.854852 #2689]  INFO -- : ---------------------------------------------------------------
D, [2020-03-14T12:16:59.860264 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.860903 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.861446 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.861701 #2689]  INFO -- : -----------------------------------------------------------
I, [2020-03-14T12:16:59.861737 #2689]  INFO -- : StoreTest: test_: Store should allow :zip to be â€¹"15213"â€º. 
I, [2020-03-14T12:16:59.861758 #2689]  INFO -- : -----------------------------------------------------------
D, [2020-03-14T12:16:59.864034 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.864678 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.865287 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.865502 #2689]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:59.865536 #2689]  INFO -- : StoreTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-14T12:16:59.865554 #2689]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:59.866089 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.867098 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.868136 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9522958754"], ["active", 1]]
D, [2020-03-14T12:16:59.869108 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.869909 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.870797 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.871643 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.872508 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.873252 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.874127 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.874965 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8170068851"], ["active", 0]]
D, [2020-03-14T12:16:59.875838 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.876258 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.876803 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.877282 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.877682 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.878184 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.878638 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.878991 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.879439 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.879961 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.880518 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.881073 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.881328 #2689]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:59.881367 #2689]  INFO -- : StoreTest: test_: Store should have many employees through assignments. 
I, [2020-03-14T12:16:59.881387 #2689]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:59.882305 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.882798 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.883045 #2689]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:16:59.883079 #2689]  INFO -- : StoreTest: test_: Given context should have a make_active method. 
I, [2020-03-14T12:16:59.883098 #2689]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:16:59.883533 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.884481 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.885531 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3454279234"], ["active", 1]]
D, [2020-03-14T12:16:59.886462 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.887197 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.888069 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.888960 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.889866 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.890609 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.891437 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.892271 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4433663202"], ["active", 0]]
D, [2020-03-14T12:16:59.893211 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.893667 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.894589 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "Hazelwood"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.895554 #2689] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 1], ["id", 3]]
D, [2020-03-14T12:16:59.896152 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.896851 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.897465 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.898058 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.898538 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.898948 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.899445 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.899927 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.900308 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.900796 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.901267 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.901821 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.902379 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.902640 #2689]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:59.902678 #2689]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-14T12:16:59.902699 #2689]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:59.905246 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.905847 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.906366 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.906610 #2689]  INFO -- : ------------------------------------------------------------
I, [2020-03-14T12:16:59.906653 #2689]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹10â€º. 
I, [2020-03-14T12:16:59.906674 #2689]  INFO -- : ------------------------------------------------------------
D, [2020-03-14T12:16:59.909099 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.909637 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.910156 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.910406 #2689]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:16:59.910440 #2689]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"OH"â€º. 
I, [2020-03-14T12:16:59.910459 #2689]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:16:59.912570 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.913143 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.913666 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.913938 #2689]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.913973 #2689]  INFO -- : StoreTest: test_: Given context should shows that Oakland's phone is stripped of non-digits. 
I, [2020-03-14T12:16:59.913993 #2689]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.914500 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.915367 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.916432 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5142165455"], ["active", 1]]
D, [2020-03-14T12:16:59.917279 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.918030 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.918840 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.919741 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.920654 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.921367 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.922198 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.923093 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8326618065"], ["active", 0]]
D, [2020-03-14T12:16:59.923965 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.924382 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.924923 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.925377 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.925797 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.926305 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.926756 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.927135 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.927585 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.928043 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.928614 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.929186 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.929404 #2689]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-14T12:16:59.929438 #2689]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-14T12:16:59.929459 #2689]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-14T12:16:59.931868 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.932410 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.932937 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.933159 #2689]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-14T12:16:59.933194 #2689]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-14T12:16:59.933215 #2689]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-14T12:16:59.935742 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.936321 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.936866 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.937084 #2689]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:16:59.937117 #2689]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-14T12:16:59.937137 #2689]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:16:59.939500 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.940068 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.940613 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.940841 #2689]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:16:59.940874 #2689]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-14T12:16:59.940894 #2689]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:16:59.943555 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.944141 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.944715 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.944931 #2689]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:59.944964 #2689]  INFO -- : StoreTest: test_: Given context should list stores alphabetically. 
I, [2020-03-14T12:16:59.944984 #2689]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:59.945485 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.946446 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.947528 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4945992837"], ["active", 1]]
D, [2020-03-14T12:16:59.948508 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.949282 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.950195 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.951116 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.952073 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.952817 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.953750 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.954657 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5869233044"], ["active", 0]]
D, [2020-03-14T12:16:59.955618 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.956310 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" ORDER BY name[0m
D, [2020-03-14T12:16:59.956926 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.957517 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.958042 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.958433 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.958940 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.959406 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.959799 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.960255 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.960779 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.961299 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.961874 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.962140 #2689]  INFO -- : -------------------------------------------------------------------
I, [2020-03-14T12:16:59.962174 #2689]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-14T12:16:59.962195 #2689]  INFO -- : -------------------------------------------------------------------
D, [2020-03-14T12:16:59.964678 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.965214 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.965766 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.966032 #2689]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:16:59.966067 #2689]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"bad"â€º. 
I, [2020-03-14T12:16:59.966086 #2689]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:16:59.968493 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.969008 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.969546 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.969808 #2689]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-14T12:16:59.969845 #2689]  INFO -- : StoreTest: test_: Given context should have all inactive stores accounted for. 
I, [2020-03-14T12:16:59.969865 #2689]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-14T12:16:59.970298 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.971173 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.972168 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1857701437"], ["active", 1]]
D, [2020-03-14T12:16:59.973129 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.973851 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.974657 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.975554 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:16:59.976486 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.977196 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.978012 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:16:59.978846 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9177892378"], ["active", 0]]
D, [2020-03-14T12:16:59.979765 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.980508 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.981252 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.981973 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-14T12:16:59.982518 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.983074 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:16:59.983563 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.983970 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.984424 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:16:59.984906 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.985268 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.985802 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:16:59.986235 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:16:59.986861 #2689] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.987463 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.987763 #2689]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-14T12:16:59.987801 #2689]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-14T12:16:59.987822 #2689]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-14T12:16:59.990710 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.991266 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.991780 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.992026 #2689]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:16:59.992060 #2689]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"PA"â€º. 
I, [2020-03-14T12:16:59.992080 #2689]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:16:59.994566 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.995296 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:16:59.995866 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:16:59.996111 #2689]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:16:59.996148 #2689]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"NY"â€º. 
I, [2020-03-14T12:16:59.996168 #2689]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:16:59.999087 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:16:59.999633 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.000182 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.000400 #2689]  INFO -- : ------------------------------------------------------------------
I, [2020-03-14T12:17:00.000434 #2689]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-14T12:17:00.000454 #2689]  INFO -- : ------------------------------------------------------------------
D, [2020-03-14T12:17:00.002915 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.003489 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.004015 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.004317 #2689]  INFO -- : ----------------------------------------------------------------
I, [2020-03-14T12:17:00.004358 #2689]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"152134"â€º. 
I, [2020-03-14T12:17:00.004379 #2689]  INFO -- : ----------------------------------------------------------------
D, [2020-03-14T12:17:00.006935 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.007460 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.008002 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.008271 #2689]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-14T12:17:00.008306 #2689]  INFO -- : StoreTest: test_: Given context should have all active stores accounted for. 
I, [2020-03-14T12:17:00.008327 #2689]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-14T12:17:00.008778 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.009718 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.010760 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2287542616"], ["active", 1]]
D, [2020-03-14T12:17:00.011613 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.012345 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.013123 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.014019 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:17:00.014864 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.015609 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.016401 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.017253 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5926723220"], ["active", 0]]
D, [2020-03-14T12:17:00.018182 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.018906 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:17:00.019558 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:17:00.020285 #2689] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-14T12:17:00.020879 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.021410 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:17:00.021964 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.022319 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.022818 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:17:00.023279 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.023674 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.024171 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:17:00.024630 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.025259 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.025949 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.026168 #2689]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:17:00.026203 #2689]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"CA"â€º. 
I, [2020-03-14T12:17:00.026222 #2689]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:17:00.028808 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.029349 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.029926 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.030166 #2689]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-14T12:17:00.030201 #2689]  INFO -- : StoreTest: test_: Store should validate that :name is case-insensitively unique. 
I, [2020-03-14T12:17:00.030222 #2689]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-14T12:17:00.030794 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.031330 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.032094 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("phone") VALUES (?)[0m  [["phone", ""]]
D, [2020-03-14T12:17:00.032619 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.033087 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.033720 #2689] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ? WHERE "stores"."id" = ?[0m  [["name", "an arbitrary value"], ["id", 1]]
D, [2020-03-14T12:17:00.034323 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.037116 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.040328 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "AN ARBITRARY VALUE"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.041478 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.042103 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.042352 #2689]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-14T12:17:00.042389 #2689]  INFO -- : StoreTest: test_: Store should validate that :street cannot be empty/falsy. 
I, [2020-03-14T12:17:00.042409 #2689]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-14T12:17:00.045602 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.046189 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.046764 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.046983 #2689]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:17:00.047044 #2689]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"15213-0983"â€º. 
I, [2020-03-14T12:17:00.047068 #2689]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:17:00.049477 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.050059 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.050599 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.050835 #2689]  INFO -- : ----------------------------------------------------------
I, [2020-03-14T12:17:00.050869 #2689]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"WV"â€º. 
I, [2020-03-14T12:17:00.050889 #2689]  INFO -- : ----------------------------------------------------------
D, [2020-03-14T12:17:00.053141 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.053708 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.054241 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.054454 #2689]  INFO -- : --------------------------------------------------------------
I, [2020-03-14T12:17:00.054515 #2689]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"1512"â€º. 
I, [2020-03-14T12:17:00.054535 #2689]  INFO -- : --------------------------------------------------------------
D, [2020-03-14T12:17:00.056915 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.057435 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.057972 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.058207 #2689]  INFO -- : -------------------------------------------------------------
I, [2020-03-14T12:17:00.058241 #2689]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹nilâ€º. 
I, [2020-03-14T12:17:00.058261 #2689]  INFO -- : -------------------------------------------------------------
D, [2020-03-14T12:17:00.060667 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.061208 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.061789 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.062060 #2689]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:17:00.062096 #2689]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-14T12:17:00.062116 #2689]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:17:00.064542 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.065077 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.065590 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.065865 #2689]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:17:00.065903 #2689]  INFO -- : StoreTest: test_: Store should validate that :city cannot be empty/falsy. 
I, [2020-03-14T12:17:00.065924 #2689]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:17:00.068764 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.069311 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.069888 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.070124 #2689]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-14T12:17:00.070158 #2689]  INFO -- : StoreTest: test_: Store should validate that :name cannot be empty/falsy. 
I, [2020-03-14T12:17:00.070179 #2689]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-14T12:17:00.073016 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.073571 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.074154 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.074403 #2689]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:17:00.074437 #2689]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-14T12:17:00.074459 #2689]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:17:00.076687 #2689] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-14T12:17:00.077320 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-14T12:17:00.077942 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-14T12:17:00.078175 #2689]  INFO -- : --------------------------------------------------------------------
I, [2020-03-14T12:17:00.078209 #2689]  INFO -- : StoreTest: test_: Given context should have a make_inactive method. 
I, [2020-03-14T12:17:00.078229 #2689]  INFO -- : --------------------------------------------------------------------
D, [2020-03-14T12:17:00.078706 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.079647 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.080709 #2689] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8208774211"], ["active", 1]]
D, [2020-03-14T12:17:00.081740 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.082527 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.083395 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.084346 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-14T12:17:00.085372 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.086188 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.087075 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.088014 #2689] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0586757867"], ["active", 0]]
D, [2020-03-14T12:17:00.089119 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.089612 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.090683 #2689] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "CMU"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.091763 #2689] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 0], ["id", 1]]
D, [2020-03-14T12:17:00.095351 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.096139 #2689] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-14T12:17:00.096856 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.097418 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-14T12:17:00.098001 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.098398 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.098938 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-14T12:17:00.099432 #2689] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.099900 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.100551 #2689] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-14T12:17:00.101154 #2689] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-14T12:17:00.101758 #2689] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
